import{defineComponent as e,shallowRef as t,h as r,resolveComponent as l,computed as u}from"vue";import{L as n,D as i,B as o,M as s,N as v}from"../nitro/nitro.mjs";import{a as c,c as d,r as f,n as h,b as g,d as y}from"./server.mjs";const m=function(s){const v=s.componentName||"NuxtLink";function p(e){return"string"==typeof e&&e.startsWith("#")}function q(e){var t,r,n;const v=c(),g=d(),y=u(()=>!!e.target&&"_self"!==e.target),m=u(()=>{const t=e.to||e.href||"";return"string"==typeof t&&i(t,{acceptRelative:!0})}),S=l("RouterLink"),A=S&&"string"!=typeof S?S.useLink:void 0,C=u(()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||m.value)}),b=u(()=>{const t=e.to||e.href||"";return C.value?t:function(e,t,r){const l=null!=r?r:s.trailingSlash;if(!e||"append"!==l&&"remove"!==l)return e;if("string"==typeof e)return x(e,l);const u="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:x(u,l)}}(t,v.resolve,e.trailingSlash)}),R=C.value||null==A?void 0:A({...e,to:b}),j=u(()=>{var t,r,l;const u=null!=(t=e.trailingSlash)?t:s.trailingSlash;if(!b.value||m.value||p(b.value))return b.value;if(C.value){const e="object"==typeof b.value&&"path"in b.value?f(b.value):b.value;return x("object"==typeof e?v.resolve(e).href:e,u)}return"object"==typeof b.value?null!=(l=null==(r=v.resolve(b.value))?void 0:r.href)?l:null:x(o(g.app.baseURL,b.value),u)});return{to:b,hasTarget:y,isAbsoluteUrl:m,isExternal:C,href:j,isActive:null!=(t=null==R?void 0:R.isActive)?t:u(()=>b.value===v.currentRoute.value.path),isExactActive:null!=(r=null==R?void 0:R.isExactActive)?r:u(()=>b.value===v.currentRoute.value.path),route:null!=(n=null==R?void 0:R.route)?n:u(()=>v.resolve(b.value)),async navigate(t){await h(j.value,{replace:e.replace,external:C.value||y.value})}}}return e({name:v,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1},trailingSlash:{type:String,default:void 0,required:!1}},useLink:q,setup(e,{slots:u}){const i=c(),{to:o,href:v,navigate:d,isExternal:f,hasTarget:h,isAbsoluteUrl:y}=q(e);t(!1);async function a(e=g()){}return()=>{var t;if(!f.value&&!h.value&&!p(o.value)){const t={ref:void 0,to:o.value,activeClass:e.activeClass||s.activeClass,exactActiveClass:e.exactActiveClass||s.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(t.rel=e.rel||void 0),r(l("RouterLink"),t,u.default)}const c=e.target||null,g=((...e)=>e.find(e=>void 0!==e))(e.noRel?"":e.rel,s.externalRelAttribute,y.value||h.value?"noopener noreferrer":"")||null;return e.custom?u.default?u.default({href:v.value,navigate:d,prefetch:a,get route(){if(!v.value)return;const e=new URL(v.value,"http://localhost");return{path:e.pathname,fullPath:e.pathname,get query(){return n(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:v.value}},rel:g,target:c,isExternal:f.value||h.value,isActive:!1,isExactActive:!1}):null:r("a",{ref:void 0,href:v.value||null,rel:g,target:c,onClick:t=>{if(!f.value&&!h.value)return t.preventDefault(),e.replace?i.replace(v.value):i.push(v.value)}},null==(t=u.default)?void 0:t.call(u))}}})}(y);function x(e,t){const r="append"===t?s:v;return i(e)&&!e.startsWith("http")?e:r(e,!0)}export{m as W};
