import{defineComponent as e,ref as t,computed as a,watch as s,mergeProps as n,unref as d,createVNode as u,resolveDynamicComponent as h,shallowRef as y,withCtx as _,createTextVNode as L,reactive as O,useSSRContext as F}from"vue";import{ssrRenderAttrs as z,ssrRenderComponent as N,ssrInterpolate as B,ssrRenderList as G,ssrRenderAttr as Y,ssrRenderClass as K,ssrRenderVNode as Z,ssrRenderTeleport as X,ssrIncludeBooleanAttr as ee,ssrRenderStyle as te,ssrLooseContain as ae,ssrLooseEqual as se}from"vue/server-renderer";import{SwatchIcon as le,SparklesIcon as re,BeakerIcon as ie,HeartIcon as ne,PlusIcon as oe,BellIcon as de,Cog6ToothIcon as ce,HomeIcon as pe,BuildingOffice2Icon as ge,VideoCameraIcon as ue,ListBulletIcon as xe,ChartBarIcon as ve,DocumentChartBarIcon as be,XMarkIcon as me,CheckIcon as fe,ChevronRightIcon as he,ClipboardDocumentListIcon as ye,LightBulbIcon as we,RocketLaunchIcon as $e,QuestionMarkCircleIcon as ke,InformationCircleIcon as Se,CheckCircleIcon as Ce,MinusIcon as je,TrashIcon as Pe,ChevronLeftIcon as De,ArrowPathIcon as Ae,ExclamationTriangleIcon as Le,TrophyIcon as Te,AcademicCapIcon as Oe,Squares2X2Icon as Me,BoltIcon as Re,PencilSquareIcon as Fe,ArchiveBoxIcon as ze,ChevronDownIcon as Ie,MagnifyingGlassIcon as Ee,ArrowLeftIcon as Ne,PencilIcon as He,FolderIcon as Ge,ShareIcon as We,StarIcon as Ue,CameraIcon as Ye,ClipboardDocumentCheckIcon as qe,ArrowDownTrayIcon as Ve,SunIcon as Ke,ScissorsIcon as Je,DocumentArrowDownIcon as Qe,FireIcon as Ze,LockClosedIcon as Xe,ClockIcon as et,ArrowUpIcon as tt,ArrowDownIcon as at,ArrowTrendingUpIcon as st,CpuChipIcon as lt,PaintBrushIcon as rt,AdjustmentsHorizontalIcon as it,ArrowsUpDownIcon as nt,UserIcon as ot,CubeIcon as dt,ArrowsPointingOutIcon as ct,PlayIcon as pt,EyeIcon as gt,PhotoIcon as ut,ArrowsRightLeftIcon as xt,ArrowRightIcon as vt,CloudIcon as bt,EyeDropperIcon as ft,MoonIcon as ht,FilmIcon as wt,ForwardIcon as _t}from"@heroicons/vue/24/solid";import{defineStore as $t}from"pinia";import{u as kt,a as St}from"./useAuthGate-BgxmmIEE.mjs";import{s as Ct}from"./_plugin-vue_export-helper-DlAUqK2U.mjs";import{_ as jt}from"./server.mjs";import{w as Pt}from"./useSocketNames-CMd40qB4.mjs";import{o as Dt,d as At,r as Lt}from"./lights-BCfJksXN.mjs";import{u as Tt}from"./devices-BvmeGHfs.mjs";import{W as Ot}from"./nuxt-link-DOTyzd8j.mjs";import{H as Mt,U as Rt}from"./useCameras-CufknfJN.mjs";import{Radar as Ft,Bar as zt,Line as It,Doughnut as Et}from"vue-chartjs";import{Chart as Nt,RadialLinearScale as Ht,CategoryScale as Bt,LinearScale as Gt,PointElement as Wt,LineElement as Ut,BarElement as Yt,Title as qt,Tooltip as Vt,Legend as Kt,Filler as Jt,ArcElement as Qt}from"chart.js";import{useVueFlow as Zt}from"@vue-flow/core";import{CalendarIcon as Xt,ClockIcon as ea,ExclamationTriangleIcon as ta}from"@heroicons/vue/24/outline";import"../nitro/nitro.mjs";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"path";import"fs/promises";import"node:url";import"../routes/renderer.mjs";import"vue-bundle-renderer/runtime";import"unhead/server";import"devalue";import"unhead/utils";import"vue-router";const aa=["germinating","seedling","early_veg","mid_veg","late_veg","pre_flower","early_flower","mid_flower","late_flower","flush","harvest","drying","curing","archived","culled"],sa={germinating:{label:"Germination",shortLabel:"Germination",color:"amber-400",bgColor:"amber-500/20",icon:"ðŸŒ±",order:1,minDays:1,maxDays:7,observationFrequency:1},seedling:{label:"Seedling",shortLabel:"Seedling",color:"lime-400",bgColor:"lime-500/20",icon:"ðŸŒ¿",order:2,minDays:7,maxDays:21,observationFrequency:2},early_veg:{label:"Early Veg",shortLabel:"Early Veg",color:"green-400",bgColor:"green-500/20",icon:"ðŸª´",order:3,minDays:7,maxDays:21,observationFrequency:3},mid_veg:{label:"Mid Veg",shortLabel:"Mid Veg",color:"green-500",bgColor:"green-600/20",icon:"ðŸª´",order:4,minDays:14,maxDays:28,observationFrequency:3},late_veg:{label:"Late Veg",shortLabel:"Late Veg",color:"emerald-400",bgColor:"emerald-500/20",icon:"ðŸŒ³",order:5,minDays:7,maxDays:21,observationFrequency:4},pre_flower:{label:"Pre-Flower",shortLabel:"Pre-Flower",color:"purple-400",bgColor:"purple-500/20",icon:"ðŸŒ¸",order:6,minDays:7,maxDays:14,observationFrequency:2},early_flower:{label:"Early Flower",shortLabel:"Early Flower",color:"purple-500",bgColor:"purple-600/20",icon:"ðŸ’®",order:7,minDays:14,maxDays:21,observationFrequency:2},mid_flower:{label:"Mid Flower",shortLabel:"Mid Flower",color:"pink-400",bgColor:"pink-500/20",icon:"ðŸŒº",order:8,minDays:14,maxDays:28,observationFrequency:2},late_flower:{label:"Late Flower",shortLabel:"Late Flower",color:"pink-500",bgColor:"pink-600/20",icon:"ðŸŒ·",order:9,minDays:7,maxDays:21,observationFrequency:2},flush:{label:"Flush",shortLabel:"Flush",color:"yellow-400",bgColor:"yellow-500/20",icon:"ðŸ’§",order:10,minDays:7,maxDays:14,observationFrequency:1},harvest:{label:"Harvest",shortLabel:"Harvest",color:"orange-400",bgColor:"orange-500/20",icon:"âœ‚ï¸",order:11,minDays:1,maxDays:3,observationFrequency:1},drying:{label:"Drying",shortLabel:"Drying",color:"amber-500",bgColor:"amber-600/20",icon:"ðŸ‚",order:12,minDays:7,maxDays:14,observationFrequency:1},curing:{label:"Curing",shortLabel:"Curing",color:"amber-600",bgColor:"amber-700/20",icon:"ðŸ«™",order:13,minDays:14,maxDays:60,observationFrequency:7},archived:{label:"Archived",shortLabel:"Archived",color:"gray-400",bgColor:"gray-500/20",icon:"ðŸ“¦",order:14,observationFrequency:0},culled:{label:"Culled",shortLabel:"Culled",color:"red-400",bgColor:"red-500/20",icon:"âŒ",order:15,observationFrequency:0}},la={active:{label:"Active",color:"spider-green-400",bgColor:"spider-green-500/20",icon:"âœ“",description:"Normal progression"},watch:{label:"Watch",color:"yellow-400",bgColor:"yellow-500/20",icon:"ðŸ‘",description:"Needs attention"},warning:{label:"Warning",color:"orange-400",bgColor:"orange-500/20",icon:"âš ",description:"May be culled soon"},cull_candidate:{label:"Cull Candidate",color:"red-400",bgColor:"red-500/20",icon:"âœ—",description:"Marked for removal"},keeper:{label:"Keeper",color:"purple-400",bgColor:"purple-500/20",icon:"â˜…",description:"Elite selection"}},ra=$t("lab",()=>{const e=y([]),s=y([]),n=y([]),d=y([]),u=y(null),h=y(null),_=y([]),L=y([]),O=y([]),F=y([]),z=y([]),N=y([]),B=y([]),G=y(null),Y=t("dashboard"),K=t({}),Z=t("cards"),X=t(!1),ee=t(!1),te=t(null),ae=a(()=>e.value.filter(e=>!["archived","culled"].includes(e.status))),se=a(()=>{const e={};for(const t of ae.value)e[t.status]||(e[t.status]=[]),e[t.status].push(t);return e}),le=a(()=>{let t=[...e.value];const a=K.value;if(a.stage&&(t=t.filter(e=>e.status===a.stage)),a.strain_id&&(t=t.filter(e=>e.strain_id===a.strain_id)),a.selection_status&&(t=t.filter(e=>e.selection_status===a.selection_status)),a.search){const e=a.search.toLowerCase();t=t.filter(t=>{var a,s;return t.plant_code.toLowerCase().includes(e)||(null==(a=t.pheno_label)?void 0:a.toLowerCase().includes(e))||(null==(s=t.strain_name)?void 0:s.toLowerCase().includes(e))})}return t}),re=a(()=>d.value.filter(e=>!e.acknowledged)),ie=a(()=>d.value.filter(e=>"urgent"===e.level&&!e.resolved)),ne=a(()=>[...ae.value].filter(e=>e.final_score&&e.final_score>0).sort((e,t)=>(t.final_score||0)-(e.final_score||0)).slice(0,5)),oe=a(()=>{const e={};for(const t of s.value)e[t.id]=t;return e});async function T(e){try{const t=await $fetch(`/api/lab/plants/${e}`);h.value=t,_.value=t.observations||[],L.value=t.scores?[t.scores]:[]}catch{}}async function U(e=50){try{const t=await $fetch(`/api/lab/observations?limit=${e}`);return O.value=t,t}catch{return[]}}function J(){h.value=null,_.value=[],L.value=[]}async function _e(){try{const e=await $fetch("/api/lab/breeding-projects");F.value=e}catch{}}async function mt(){try{const e=await $fetch("/api/lab/pollen");z.value=e}catch{}}async function yt(){try{const e=await $fetch("/api/lab/harvests");N.value=e}catch{}}async function Na(){try{const e=await $fetch("/api/lab/rooms");if(B.value=e,G.value){const t=e.find(e=>e.id===G.value.id);G.value=t||null}}catch{}}return{plants:e,strains:s,seedBatches:n,notifications:d,dashboardStats:u,currentPlant:h,currentPlantObservations:_,currentPlantScores:L,allObservations:O,breedingProjects:F,pollenInventory:z,harvests:N,rooms:B,currentRoom:G,activeTab:Y,plantsFilter:K,plantsView:Z,loading:X,saving:ee,plantIdForObservation:te,activePlants:ae,plantsByStage:se,filteredPlants:le,unreadNotifications:re,urgentAlerts:ie,topPerformers:ne,strainsMap:oe,fetchDashboard:async function(){var t,a;X.value=!0;try{const[n,h,y,_]=await Promise.all([$fetch("/api/lab/dashboard"),$fetch("/api/lab/plants?status=active&limit=50"),$fetch("/api/lab/notifications?unread=true"),$fetch("/api/lab/strains")]);u.value={total_plants:n.active_plants||0,active_plants:n.active_plants||0,by_stage:n.status_distribution||{},by_selection:{},keepers:n.keepers_count||0,avg_score:0,top_score:(null==(a=null==(t=n.top_performers)?void 0:t[0])?void 0:a.final_score)||0,pending_observations:0,alerts_count:n.unread_notifications||0},e.value=h,d.value=n.urgent_alerts||y||[],s.value=_}catch{}finally{X.value=!1}},fetchPlants:async function(t){X.value=!0;try{const a=new URLSearchParams;(null==t?void 0:t.stage)&&a.set("stage",t.stage),(null==t?void 0:t.strain_id)&&a.set("strain_id",t.strain_id),(null==t?void 0:t.selection_status)&&a.set("selection_status",t.selection_status),(null==t?void 0:t.search)&&a.set("search",t.search);const s=await $fetch(`/api/lab/plants?${a}`);e.value=s}catch{}finally{X.value=!1}},fetchPlant:T,fetchPlantScores:async function(e){try{return(await $fetch(`/api/lab/plants/${e}`)).scores||null}catch{return null}},createPlant:async function(t){ee.value=!0;try{const{getAuthHeaders:a}=kt(),s=await $fetch("/api/lab/plants",{method:"POST",headers:a(),body:t});return e.value=[...e.value,s],s}catch(e){throw e}finally{ee.value=!1}},updatePlant:async function(t,a){var s;ee.value=!0;try{const{getAuthHeaders:n}=kt(),d=await $fetch(`/api/lab/plants/${t}`,{method:"PUT",headers:n(),body:a}),u=e.value.findIndex(e=>e.id===t);if(u>=0){const t=[...e.value];t[u]=d,e.value=t}return(null==(s=h.value)?void 0:s.id)===t&&(h.value=d),d}catch(e){throw e}finally{ee.value=!1}},deletePlant:async function(t){var a;ee.value=!0;try{const{getAuthHeaders:s}=kt();await $fetch(`/api/lab/plants/${t}`,{method:"DELETE",headers:s()}),e.value=e.value.filter(e=>e.id!==t),(null==(a=h.value)?void 0:a.id)===t&&J()}catch(e){throw e}finally{ee.value=!1}},fetchStrains:async function(){try{const e=await $fetch("/api/lab/strains");s.value=e}catch{}},createStrain:async function(e){ee.value=!0;try{const{getAuthHeaders:t}=kt(),a=await $fetch("/api/lab/strains",{method:"POST",headers:t(),body:e});return s.value=[...s.value,a],a}catch(e){throw e}finally{ee.value=!1}},updateStrain:async function(e,t){ee.value=!0;try{const{getAuthHeaders:a}=kt(),n=await $fetch(`/api/lab/strains/${e}`,{method:"PUT",headers:a(),body:t}),d=s.value.findIndex(t=>t.id===e);if(d>=0){const e=[...s.value];e[d]=n,s.value=e}return n}catch(e){throw e}finally{ee.value=!1}},deleteStrain:async function(e){ee.value=!0;try{const{getAuthHeaders:t}=kt();await $fetch(`/api/lab/strains/${e}`,{method:"DELETE",headers:t()}),s.value=s.value.filter(t=>t.id!==e)}catch(e){throw e}finally{ee.value=!1}},fetchAllObservations:U,createObservation:async function(e,t){var a;ee.value=!0;try{const{getAuthHeaders:s}=kt(),n=await $fetch("/api/lab/observations",{method:"POST",headers:s(),body:{...t,plant_id:e}});return(null==(a=h.value)?void 0:a.id)===e&&(_.value=[n,..._.value]),U(),n}catch(e){throw e}finally{ee.value=!1}},updateObservation:async function(e,t){ee.value=!0;try{const{getAuthHeaders:a}=kt(),s=await $fetch(`/api/lab/observations/${e}`,{method:"PUT",headers:a(),body:t}),n=_.value.findIndex(t=>t.id===e);if(n>=0){const e=[..._.value];e[n]=s,_.value=e}return U(),s}catch(e){throw e}finally{ee.value=!1}},deleteObservation:async function(e){ee.value=!0;try{const{getAuthHeaders:t}=kt();await $fetch(`/api/lab/observations/${e}`,{method:"DELETE",headers:t()}),_.value=_.value.filter(t=>t.id!==e),U()}catch(e){throw e}finally{ee.value=!1}},changeStage:async function(t,a,s){var n;ee.value=!0;try{const{getAuthHeaders:d}=kt(),u=await $fetch(`/api/lab/plants/${t}/stage`,{method:"POST",headers:d(),body:{stage:a,transition_data:s}}),y=e.value.findIndex(e=>e.id===t);if(y>=0){const t=[...e.value];t[y]=u,e.value=t}return(null==(n=h.value)?void 0:n.id)===t&&(h.value=u),u}catch(e){throw e}finally{ee.value=!1}},acknowledgeNotification:async function(e){try{const{getAuthHeaders:t}=kt();await $fetch("/api/lab/notifications",{method:"POST",headers:t(),body:{action:"acknowledge",id:e}});const a=d.value.map(t=>t.id===e?{...t,acknowledged:!0}:t);d.value=a}catch{}},clearCurrentPlant:J,setFilter:function(e){K.value=e},clearFilters:function(){K.value={}},setCurrentPlantForObservation:function(e){te.value=e},clearPlantForObservation:function(){te.value=null},fetchBreedingProjects:_e,createBreedingProject:async function(e){var t,a;ee.value=!0;try{const{getAuthHeaders:s}=kt(),n=await $fetch("/api/lab/breeding-projects",{method:"POST",headers:s(),body:e}),d={id:n.id,name:e.name||"",code:n.code,project_type:e.project_type||"line_creation",status:e.status||"active",primary_goal:e.primary_goal,target_traits:e.target_traits||[],traits_to_avoid:e.traits_to_avoid||[],female_strain_id:e.female_strain_id,male_strain_id:e.male_strain_id,female_plant_id:e.female_plant_id,male_plant_id:e.male_plant_id,started_at:e.started_at||(new Date).toISOString().split("T")[0],female_strain_name:e.female_strain_id?(null==(t=oe.value[e.female_strain_id])?void 0:t.name)||e.female_strain_id:void 0,male_strain_name:e.male_strain_id?(null==(a=oe.value[e.male_strain_id])?void 0:a.name)||e.male_strain_id:void 0};return F.value=[...F.value,d],_e(),{id:n.id}}catch{return null}finally{ee.value=!1}},updateBreedingProject:async function(e,t){ee.value=!0;try{const{getAuthHeaders:a}=kt();return await $fetch(`/api/lab/breeding-projects/${e}`,{method:"PUT",headers:a(),body:t}),await _e(),!0}catch{return!1}finally{ee.value=!1}},fetchPollenInventory:mt,createPollenRecord:async function(e){var t;ee.value=!0;try{const{getAuthHeaders:a}=kt(),s=await $fetch("/api/lab/pollen",{method:"POST",headers:a(),body:e}),n=e.collection_date||(new Date).toISOString().split("T")[0],d=e.storage_method||"refrigerated",u=e.viability_at_collection||90,h=e.strain_id?(null==(t=oe.value[e.strain_id])?void 0:t.name)||e.strain_id:"Unknown",y={id:s.id,batch_code:s.batch_code,strain_id:e.strain_id,male_plant_id:e.male_plant_id,collection_date:n,storage_method:d,viability_at_collection:u,current_viability:u,status:e.status||"available",notes:e.notes,strain_name:h,strainName:h,batchCode:s.batch_code,collectionDate:n,storageMethod:d,viability:u};return z.value=[...z.value,y],mt(),{id:s.id}}catch{return null}finally{ee.value=!1}},updatePollenRecord:async function(e,t){ee.value=!0;try{const{getAuthHeaders:a}=kt();return await $fetch(`/api/lab/pollen/${e}`,{method:"PUT",headers:a(),body:t}),await mt(),!0}catch{return!1}finally{ee.value=!1}},fetchHarvests:yt,createHarvest:async function(e){ee.value=!0;try{const{getAuthHeaders:t}=kt(),a=await $fetch("/api/lab/harvests",{method:"POST",headers:t(),body:e});return await yt(),a}catch(e){throw e}finally{ee.value=!1}},updateHarvest:async function(e,t){ee.value=!0;try{const{getAuthHeaders:a}=kt(),s=await $fetch(`/api/lab/harvests/${e}`,{method:"PUT",headers:a(),body:t});return await yt(),s}catch(e){throw e}finally{ee.value=!1}},deleteHarvest:async function(e){ee.value=!0;try{const{getAuthHeaders:t}=kt();await $fetch(`/api/lab/harvests/${e}`,{method:"DELETE",headers:t()}),N.value=N.value.filter(t=>t.id!==e)}catch(e){throw e}finally{ee.value=!1}},deleteBreedingProject:async function(e){ee.value=!0;try{const{getAuthHeaders:t}=kt();await $fetch(`/api/lab/breeding-projects/${e}`,{method:"DELETE",headers:t()}),F.value=F.value.filter(t=>t.id!==e)}catch(e){throw e}finally{ee.value=!1}},deletePollenRecord:async function(e){ee.value=!0;try{const{getAuthHeaders:t}=kt();await $fetch(`/api/lab/pollen/${e}`,{method:"DELETE",headers:t()}),z.value=z.value.filter(t=>t.id!==e)}catch(e){throw e}finally{ee.value=!1}},submitScore:async function(e,t){ee.value=!0;try{const{getAuthHeaders:a}=kt(),s=await $fetch("/api/lab/scores",{method:"POST",headers:a(),body:{plant_id:e,...t}});return await T(e),s}catch(e){throw e}finally{ee.value=!1}},fetchRooms:Na,createRoom:async function(e){ee.value=!0;try{const{getAuthHeaders:t}=kt(),a=await $fetch("/api/lab/rooms",{method:"POST",headers:t(),body:e});return await Na(),a}catch(e){throw e}finally{ee.value=!1}},updateRoom:async function(e,t){var a;ee.value=!0;try{const{getAuthHeaders:s}=kt(),n=await $fetch(`/api/lab/rooms/${e}`,{method:"PUT",headers:s(),body:t}),d=B.value.findIndex(t=>t.id===e);if(d>=0){const e=[...B.value];e[d]=n,B.value=e}return(null==(a=G.value)?void 0:a.id)===e&&(G.value=n),n}catch(e){throw e}finally{ee.value=!1}},deleteRoom:async function(e){var t;ee.value=!0;try{const{getAuthHeaders:a}=kt();await $fetch(`/api/lab/rooms/${e}`,{method:"DELETE",headers:a()}),B.value=B.value.filter(t=>t.id!==e),(null==(t=G.value)?void 0:t.id)===e&&(G.value=null)}catch(e){throw e}finally{ee.value=!1}},selectRoom:function(e){G.value=e}}}),ia=e({__name:"LabOnboardingWizard",__ssrInlineRender:!0,emits:["complete","skip"],setup(e,{emit:y}){const _=ra(),L=t(1),O=t(!1),F=t(null),X=[{id:"seeds_basic",emoji:"ðŸŒ±",title:"Plant Seeds",description:"Start tracking plants from seed. Perfect for your first grow or regular cultivation.",hint:"The wizard will help you add your strains and create individual plant records to track from germination.",bgClass:"bg-gradient-to-br from-green-500/30 to-emerald-500/30",activeBg:"bg-gradient-to-br from-green-500/50 to-emerald-500/50",popular:!0,setupTitle:"Seed Planting Setup",setupDescription:"Configure your grow space and how you want to track your plants.",setupHint:"Ready to track from germination",tips:["Label your pots/containers with plant codes","Log observations every 2-3 days","Take photos regularly to track progress","Environment data is captured automatically"],nextSteps:"Use the dashboard to monitor all your plants and log daily observations"},{id:"pheno_seeds",emoji:"ðŸ”¬",title:"Pheno Hunt (Seeds)",description:"Compare multiple plants of the same strain to find your best phenotype (keeper).",hint:"Track multiple plants from seeds, score them on various criteria, and identify your keeper phenotypes.",bgClass:"bg-gradient-to-br from-amber-500/30 to-orange-500/30",activeBg:"bg-gradient-to-br from-amber-500/50 to-orange-500/50",popular:!0,setupTitle:"Pheno Hunt Configuration",setupDescription:"Set up your pheno hunt to compare and score multiple phenotypes.",setupHint:"Ready to find your keeper",tips:["Keep detailed notes on each phenotype","Score plants using the evaluation system","Take clones of promising phenos before flowering","Compare side-by-side in the Pheno Hunt section"],nextSteps:"Score your plants as they grow to identify your best performers (keepers)"},{id:"pheno_clones",emoji:"âœ‚ï¸",title:"Pheno Hunt (Clones)",description:"Track clones from a mother plant to find the best performing cuts.",hint:"Compare clones taken from the same mother to evaluate consistency and select the best performers.",bgClass:"bg-gradient-to-br from-teal-500/30 to-cyan-500/30",activeBg:"bg-gradient-to-br from-teal-500/50 to-cyan-500/50",popular:!1,setupTitle:"Clone Tracking Setup",setupDescription:"Set up tracking for clones from your mother plant(s).",setupHint:"Ready to evaluate clones",tips:["Note which position on the mother each clone came from","Track rooting time for each clone","Compare growth rates between clones","Identify which cuts perform best"],nextSteps:"Track each clone through its lifecycle and compare performance in Pheno Hunt"},{id:"mother_management",emoji:"ðŸ‘‘",title:"Mother Plants",description:"Manage mother plants for ongoing clone production.",hint:"Track mother plant health, clone production schedule, and maintain your genetic library.",bgClass:"bg-gradient-to-br from-purple-500/30 to-violet-500/30",activeBg:"bg-gradient-to-br from-purple-500/50 to-violet-500/50",popular:!1,setupTitle:"Mother Plant Setup",setupDescription:"Configure your mother plant management and clone production tracking.",setupHint:"Ready to maintain mothers",tips:["Keep mothers in 18/6 light cycle","Log clone production with dates","Track mother plant health carefully","Plan clone batches in advance"],nextSteps:"Use the Breeding section to track clone production from your mothers"},{id:"breeding_feminize",emoji:"ðŸ§¬",title:"Create Feminized Seeds",description:"Reverse a female plant to create pollen and produce feminized seeds.",hint:"Use STS or colloidal silver to reverse a female plant, then pollinate other females to create S1 or crosses.",bgClass:"bg-gradient-to-br from-pink-500/30 to-rose-500/30",activeBg:"bg-gradient-to-br from-pink-500/50 to-rose-500/50",popular:!1,setupTitle:"Feminized Breeding Setup",setupDescription:"Set up your feminized seed production project with reversal tracking.",setupHint:"Ready to create feminized seeds",tips:["Start reversal treatment 2 weeks before flip","Isolate reversed plant to prevent unwanted pollination","Document pollen production timeline","Track which females you pollinate"],nextSteps:"Track your reversal progress and pollination in the Breeding section"},{id:"breeding_cross",emoji:"ðŸ’•",title:"Create a Cross",description:"Cross two strains to create new genetics (F1 hybrids).",hint:"Track a breeding project from parent selection through seed production.",bgClass:"bg-gradient-to-br from-red-500/30 to-pink-500/30",activeBg:"bg-gradient-to-br from-red-500/50 to-pink-500/50",popular:!1,setupTitle:"Breeding Cross Setup",setupDescription:"Set up your breeding project to create new genetics.",setupHint:"Ready to create new genetics",tips:["Select parents with complementary traits","Document the traits you want to combine","Track pollen collection and storage","Plan your F1 pheno hunt"],nextSteps:"Document your breeding project in the Breeding section"}],ae=t([]),se=t([]),ne=a(()=>[...ae.value.map(e=>{const t=_.strains.find(t=>t.id===e.id);return{id:e.id,name:(null==t?void 0:t.name)||"",quantity:e.quantity,seed_type:(null==t?void 0:t.seed_type)||"feminized",isExisting:!0}}),...se.value.map(e=>({...e,isExisting:!1}))]);function f(e){return ae.value.some(t=>t.id===e)}const de=a(()=>ae.value.length+se.value.filter(e=>e.name.trim()).length),pe=t({startDate:(new Date).toISOString().split("T")[0],initialStage:"germinating",medium:"soil",tentSize:"120x120",codePrefix:"P",reversalMethod:"sts",motherPurpose:"clones"}),ge=[{value:"feminized",label:"Feminized",icon:"â™€ï¸"},{value:"regular",label:"Regular",icon:"âš¥"},{value:"autoflower",label:"Auto",icon:"â±ï¸"}],ue=[{value:"soil",label:"ðŸŒ Soil"},{value:"coco",label:"ðŸ¥¥ Coco"},{value:"hydro",label:"ðŸ’§ Hydro"},{value:"dwc",label:"ðŸ«§ DWC"},{value:"aero",label:"ðŸ’¨ Aero"}],xe=[{value:"60x60",label:"60Ã—60",hint:"1-2 plants"},{value:"80x80",label:"80Ã—80",hint:"2-4 plants"},{value:"100x100",label:"100Ã—100",hint:"4-6 plants"},{value:"120x120",label:"120Ã—120",hint:"6-9 plants"},{value:"150x150",label:"150Ã—150",hint:"9-12 plants"},{value:"custom",label:"Other",hint:"Custom size"}],ve=[{value:"sts",label:"STS (Silver Thiosulfate)",icon:"ðŸ§ª",hint:"Most reliable, spray every 3-5 days"},{value:"colloidal",label:"Colloidal Silver",icon:"ðŸ’Ž",hint:"Spray daily, gentler method"}],be=[{value:"clones",label:"Clone Production",icon:"âœ‚ï¸",hint:"Regular clone harvesting"},{value:"preservation",label:"Genetic Preservation",icon:"ðŸ§Š",hint:"Keeping genetics alive long-term"},{value:"breeding",label:"Breeding Stock",icon:"ðŸ§¬",hint:"Future breeding projects"}],fe=a(()=>X.find(e=>e.id===F.value)),ye=a(()=>L.value/4*100),Le=a(()=>`Step ${L.value}: ${["Choose Goal","Add Strains","Setup Details","Review"][L.value-1]}`),Te=a(()=>({1:{title:"What do you want to achieve?",subtitle:"Choose your cultivation goal and the wizard will guide you through the setup.",icon:ie},2:{title:"Add Your Strains",subtitle:Oe.value.strainSubtitle,icon:le},3:{title:"Setup Details",subtitle:"Configure your grow space and tracking preferences.",icon:ce},4:{title:"Ready to Start!",subtitle:"Review your setup and create your plants.",icon:$e}}[L.value])),Oe=a(()=>({seeds_basic:{strainTitle:"What strains are you planting?",strainDescription:"Add each strain variety you're growing and how many seeds of each.",strainSubtitle:"Add the strains you'll be growing and how many plants of each."},pheno_seeds:{strainTitle:"Which strain are you pheno hunting?",strainDescription:"Add the strain(s) you want to hunt phenotypes from. Multiple plants of the same strain will be compared.",strainSubtitle:"Add strains and quantities for your pheno hunt. You'll score and compare each plant."},pheno_clones:{strainTitle:"What strain are the clones from?",strainDescription:"Add the strain of your mother plant and how many clones you're tracking.",strainSubtitle:"Add the mother strain and number of clones to track."},mother_management:{strainTitle:"What strains are your mothers?",strainDescription:"Add each mother plant strain you'll be maintaining.",strainSubtitle:"Add your mother plant strains. Each will be tracked individually."},breeding_feminize:{strainTitle:"What strain are you feminizing?",strainDescription:"Add the strain you want to create feminized seeds from.",strainSubtitle:"Add the strain you'll reverse to create feminized seeds."},breeding_cross:{strainTitle:"What strains are you crossing?",strainDescription:"Add both parent strains for your cross.",strainSubtitle:"Add the parent strains for your breeding cross."}}[F.value||"seeds_basic"])),Me=a(()=>["seeds_basic","pheno_seeds","breeding_cross"].includes(F.value||"")),Re=a(()=>"pheno_clones"===F.value?"Number of clones":"mother_management"===F.value?"Number of mothers":"Number of seeds/plants"),Fe=a(()=>"pheno_clones"===F.value?"clone":"mother_management"===F.value?"mother":"plant"),ze=a(()=>ne.value.reduce((e,t)=>e+(t.quantity||0),0)),Ie=a(()=>"pheno_clones"===F.value?[{value:"seedling",label:"Rooting",icon:"ðŸŒ±"},{value:"early_veg",label:"Rooted",icon:"ðŸŒ¿"},{value:"mid_veg",label:"Veg",icon:"ðŸª´"}]:"mother_management"===F.value?[{value:"early_veg",label:"Young",icon:"ðŸŒ¿"},{value:"mid_veg",label:"Mature",icon:"ðŸª´"},{value:"late_veg",label:"Established",icon:"ðŸŒ³"}]:[{value:"germinating",label:"Germinating",icon:"ðŸŒ°"},{value:"seedling",label:"Seedling",icon:"ðŸŒ±"},{value:"early_veg",label:"Early Veg",icon:"ðŸŒ¿"},{value:"mid_veg",label:"Mid Veg",icon:"ðŸª´"}]),Ee=a(()=>"pheno_clones"===F.value?"When did you take the cuttings?":"mother_management"===F.value?"When did you start the mothers?":"When did you start germination?"),Ne=a(()=>"pheno_clones"===F.value?"The date you cut the clones from the mother":"mother_management"===F.value?"When the mother plants were started or obtained":"The date you first put seeds in water or soil"),He=a(()=>{if(!pe.value.startDate)return 0;const e=new Date(pe.value.startDate);return Math.floor(((new Date).getTime()-e.getTime())/864e5)}),Ge=a(()=>{const e=He.value,t="pheno_clones"===F.value;return e<=0?t?"seedling":"germinating":e<=7&&!t?"germinating":e<=14?"seedling":e<=28?"early_veg":e<=42?"mid_veg":e<=56?"late_veg":e<=63?"pre_flower":e<=77?"early_flower":e<=91?"mid_flower":e<=105?"late_flower":e<=112?"flush":"harvest"});a(()=>Ge.value!==pe.value.initialStage&&He.value>7);const We=a(()=>Ie.value.find(e=>e.value===Ge.value)||{label:Ge.value,icon:"ðŸŒ±"});s(()=>pe.value.startDate,(e,t)=>{e!==t&&He.value>0&&(pe.value.initialStage=Ge.value)});const Ue=a(()=>["breeding_feminize","breeding_cross"].includes(F.value||"")),Ye=a(()=>"mother_management"===F.value),qe=a(()=>{if(1===L.value)return null!==F.value;if(2===L.value){const e=ae.value.length>0,t=se.value.some(e=>e.name.trim().length>0),a=se.value.every(e=>e.name.trim().length>0||0===se.value.length);return(e||t)&&a&&ze.value>0}return L.value,!0});return(e,t,a,s)=>{var y,Ve,Ke,Je,Qe,Ze,Xe,et;t(`<div${z(n({class:"fixed top-0 right-0 bottom-0 left-0 desktop:left-[var(--sidebar-width,256px)] z-50 flex flex-col bg-gradient-to-br from-gray-900 via-gray-900 to-gray-800 overflow-hidden"},s))} data-v-3906ef49><div class="h-1.5 bg-gray-800" data-v-3906ef49><div class="h-full bg-gradient-to-r from-spider-green-500 to-emerald-400 transition-all duration-700 ease-out" style="${te({width:`${d(ye)}%`})}" data-v-3906ef49></div></div><div class="flex-1 overflow-y-auto" data-v-3906ef49><div class="min-h-full flex flex-col" data-v-3906ef49><div class="px-4 sm:px-8 lg:px-16 pt-6 sm:pt-10" data-v-3906ef49><div class="max-w-5xl mx-auto" data-v-3906ef49><div class="flex items-center justify-between mb-6" data-v-3906ef49><div class="flex items-center gap-3" data-v-3906ef49><div class="w-10 h-10 sm:w-12 sm:h-12 rounded-2xl bg-gradient-to-br from-spider-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-spider-green-500/30" data-v-3906ef49>`),t(N(d(ie),{class:"w-5 h-5 sm:w-6 sm:h-6 text-white"},null,a)),t(`</div><div data-v-3906ef49><p class="text-xs sm:text-sm text-gray-400" data-v-3906ef49>Laboratory Setup</p><p class="text-sm sm:text-base font-medium text-white" data-v-3906ef49>${B(d(Le))}</p></div></div><div class="hidden sm:flex items-center gap-2" data-v-3906ef49>\x3c!--[--\x3e`),G(4,e=>{t(`<div class="${K(["h-2 rounded-full transition-all duration-500",e===d(L)?"w-8 bg-spider-green-500":e<d(L)?"w-2 bg-spider-green-500":"w-2 bg-gray-700"])}" data-v-3906ef49></div>`)}),t('\x3c!--]--\x3e</div><button class="p-2 rounded-xl hover:bg-gray-800 text-gray-400 hover:text-white transition-colors" title="Skip onboarding" data-v-3906ef49>'),t(N(d(me),{class:"w-5 h-5"},null,a)),t('</button></div><div class="text-center mb-8 sm:mb-10" data-v-3906ef49>'),Z(t,u(h(d(Te).icon),{class:"w-14 h-14 sm:w-16 sm:h-16 mx-auto mb-4 text-spider-green-400 opacity-80"},null),a),t(`<h1 class="text-xl sm:text-3xl lg:text-4xl font-bold text-white mb-2 sm:mb-3" data-v-3906ef49>${B(d(Te).title)}</h1><p class="text-sm sm:text-base lg:text-lg text-gray-400 max-w-2xl mx-auto" data-v-3906ef49>${B(d(Te).subtitle)}</p></div></div></div><div class="flex-1 px-4 sm:px-8 lg:px-16 pb-32" data-v-3906ef49><div class="max-w-5xl mx-auto" data-v-3906ef49>`),1===d(L)?(t('<div class="space-y-6" data-v-3906ef49><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" data-v-3906ef49>\x3c!--[--\x3e'),G(X,e=>{t(`<button class="${K(["group p-5 sm:p-6 rounded-2xl border-2 text-left transition-all duration-300",d(F)===e.id?"border-spider-green-500 bg-spider-green-500/20 shadow-lg shadow-spider-green-500/20 scale-[1.02]":"border-gray-700 bg-gray-800/50 hover:border-gray-600 hover:bg-gray-800/70"])}" data-v-3906ef49><div class="flex items-start gap-4" data-v-3906ef49><div class="${K(["w-12 h-12 sm:w-14 sm:h-14 rounded-xl flex items-center justify-center shrink-0 transition-all",d(F)===e.id?e.activeBg:e.bgClass])}" data-v-3906ef49><span class="text-2xl sm:text-3xl" data-v-3906ef49>${B(e.emoji)}</span></div><div class="flex-1 min-w-0" data-v-3906ef49><h3 class="text-base sm:text-lg font-semibold text-white mb-1 flex items-center gap-2" data-v-3906ef49>${B(e.title)} `),e.popular?t('<span class="px-1.5 py-0.5 bg-amber-500/20 text-amber-400 text-[10px] font-medium rounded" data-v-3906ef49> POPULAR </span>'):t("\x3c!----\x3e"),t(`</h3><p class="text-xs sm:text-sm text-gray-400 leading-relaxed" data-v-3906ef49>${B(e.description)}</p></div></div>`),d(F)===e.id?(t('<div class="mt-4 pt-4 border-t border-spider-green-500/30" data-v-3906ef49><div class="flex items-start gap-2 text-xs text-spider-green-300" data-v-3906ef49>'),t(N(d(we),{class:"w-4 h-4 shrink-0 mt-0.5"},null,a)),t(`<span data-v-3906ef49>${B(e.hint)}</span></div></div>`)):t("\x3c!----\x3e"),t("</button>")}),t('\x3c!--]--\x3e</div><div class="p-5 sm:p-6 rounded-2xl bg-amber-500/10 border border-amber-500/30" data-v-3906ef49><div class="flex items-start gap-4" data-v-3906ef49>'),t(N(d(ke),{class:"w-6 h-6 text-amber-400 shrink-0 mt-0.5"},null,a)),t('<div data-v-3906ef49><h4 class="text-base font-medium text-amber-300 mb-2" data-v-3906ef49>Not sure which to choose?</h4><p class="text-sm text-amber-200/80 leading-relaxed mb-3" data-v-3906ef49> If you&#39;re just starting out, choose <strong data-v-3906ef49>&quot;Plant Seeds&quot;</strong> for a simple grow, or <strong data-v-3906ef49>&quot;Pheno Hunt&quot;</strong> if you want to compare multiple plants to find your best performer (keeper). </p><p class="text-xs text-amber-200/60" data-v-3906ef49> You can always add more plants, start breeding projects, or manage mothers later from the Laboratory. </p></div></div></div></div>')):t("\x3c!----\x3e"),2===d(L)?(t('<div class="space-y-6" data-v-3906ef49><div class="p-5 rounded-2xl bg-purple-500/10 border border-purple-500/30" data-v-3906ef49><div class="flex items-start gap-4" data-v-3906ef49>'),t(N(d(Se),{class:"w-6 h-6 text-purple-400 shrink-0 mt-0.5"},null,a)),t(`<div data-v-3906ef49><h4 class="text-base font-medium text-purple-300 mb-2" data-v-3906ef49>${B(d(Oe).strainTitle)}</h4><p class="text-sm text-purple-200/80 leading-relaxed" data-v-3906ef49>${B(d(Oe).strainDescription)}</p></div></div></div>`),d(_).strains.length>0?(t('<div class="space-y-4" data-v-3906ef49><div class="flex items-center justify-between" data-v-3906ef49><h4 class="text-lg font-semibold text-white" data-v-3906ef49>Your Strains</h4><span class="text-xs text-gray-500" data-v-3906ef49>Select existing or create new below</span></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-3" data-v-3906ef49>\x3c!--[--\x3e'),G(d(_).strains,e=>{t(`<button class="${K(["p-4 rounded-xl border-2 text-left transition-all",f(e.id)?"border-purple-500 bg-purple-500/20":"border-gray-700 bg-gray-800/50 hover:border-gray-600"])}" data-v-3906ef49><div class="flex items-center gap-3" data-v-3906ef49><div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center" data-v-3906ef49>`),t(N(d(le),{class:"w-5 h-5 text-purple-400"},null,a)),t(`</div><div class="flex-1 min-w-0" data-v-3906ef49><p class="font-medium text-white truncate" data-v-3906ef49>${B(e.name)}</p><p class="text-xs text-gray-500" data-v-3906ef49>${B(e.seed_type||"Unknown")} `),e.breeder?t(`<span data-v-3906ef49> Â· ${B(e.breeder)}</span>`):t("\x3c!----\x3e"),t("</p></div>"),f(e.id)?(t('<div class="text-purple-400" data-v-3906ef49>'),t(N(d(Ce),{class:"w-6 h-6"},null,a)),t("</div>")):t("\x3c!----\x3e"),t("</div>"),f(e.id)?(t(`<div class="mt-3 pt-3 border-t border-purple-500/30" data-v-3906ef49><div class="flex items-center justify-between" data-v-3906ef49><span class="text-xs text-gray-400" data-v-3906ef49>${B(d(Re))}</span><div class="flex items-center gap-2" data-v-3906ef49><button class="w-8 h-8 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300 flex items-center justify-center" data-v-3906ef49>`),t(N(d(je),{class:"w-3 h-3"},null,a)),t(`</button><span class="w-8 text-center text-white font-medium" data-v-3906ef49>${B(function(e){var t;return(null==(t=ae.value.find(t=>t.id===e))?void 0:t.quantity)||1}(e.id))}</span><button class="w-8 h-8 rounded-lg bg-gray-700 hover:bg-gray-600 text-gray-300 flex items-center justify-center" data-v-3906ef49>`),t(N(d(oe),{class:"w-3 h-3"},null,a)),t("</button></div></div></div>")):t("\x3c!----\x3e"),t("</button>")}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),d(_).strains.length>0?t('<div class="flex items-center gap-4" data-v-3906ef49><div class="flex-1 h-px bg-gray-700" data-v-3906ef49></div><span class="text-sm text-gray-500" data-v-3906ef49>or create new strains</span><div class="flex-1 h-px bg-gray-700" data-v-3906ef49></div></div>'):t("\x3c!----\x3e"),t('<div class="space-y-4" data-v-3906ef49>\x3c!--[--\x3e'),G(d(se),(e,s)=>{t(`<div class="p-5 rounded-2xl bg-gray-800/50 border border-gray-700" data-v-3906ef49><div class="flex items-center justify-between mb-4" data-v-3906ef49><h4 class="text-sm font-medium text-gray-300 flex items-center gap-2" data-v-3906ef49><span class="px-2 py-0.5 rounded bg-spider-green-500/20 text-spider-green-400 text-xs" data-v-3906ef49>NEW</span> Strain ${B(s+1)}</h4><button class="p-1.5 rounded-lg hover:bg-gray-700 text-gray-500 hover:text-red-400 transition-colors" data-v-3906ef49>`),t(N(d(Pe),{class:"w-4 h-4"},null,a)),t(`</button></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-v-3906ef49><div data-v-3906ef49><label class="block text-xs font-medium text-gray-400 mb-1.5" data-v-3906ef49> Name <span class="text-red-400" data-v-3906ef49>*</span></label><input${Y("value",e.name)} type="text" placeholder="e.g., GMO, Zkittlez, Blue Dream..." class="w-full px-4 py-3 bg-gray-900/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20" data-v-3906ef49></div><div data-v-3906ef49><label class="block text-xs font-medium text-gray-400 mb-1.5" data-v-3906ef49>${B(d(Re))}</label><div class="flex items-center gap-3" data-v-3906ef49><button class="w-10 h-10 rounded-xl bg-gray-700 hover:bg-gray-600 text-gray-300 flex items-center justify-center transition-colors" data-v-3906ef49>`),t(N(d(je),{class:"w-4 h-4"},null,a)),t(`</button><input${Y("value",e.quantity)} type="number" min="1" max="50" class="w-20 text-center px-3 py-2.5 bg-gray-900/50 border border-gray-600 rounded-xl text-white text-lg font-medium focus:border-purple-500 focus:outline-none" data-v-3906ef49><button class="w-10 h-10 rounded-xl bg-gray-700 hover:bg-gray-600 text-gray-300 flex items-center justify-center transition-colors" data-v-3906ef49>`),t(N(d(oe),{class:"w-4 h-4"},null,a)),t("</button></div></div></div>"),d(Me)?(t('<div class="mt-4" data-v-3906ef49><label class="block text-xs font-medium text-gray-400 mb-2" data-v-3906ef49>Seed Type</label><div class="flex flex-wrap gap-2" data-v-3906ef49>\x3c!--[--\x3e'),G(ge,a=>{t(`<button class="${K(["px-4 py-2 rounded-xl text-sm font-medium transition-all",e.seed_type===a.value?"bg-purple-500/30 text-purple-300 border border-purple-500":"bg-gray-700/50 text-gray-400 border border-gray-600 hover:border-gray-500"])}" data-v-3906ef49>${B(a.icon)} ${B(a.label)}</button>`)}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),t("</div>")}),t('\x3c!--]--\x3e</div><button class="w-full p-4 rounded-xl border-2 border-dashed border-gray-600 hover:border-purple-500/50 text-gray-400 hover:text-purple-400 transition-colors flex items-center justify-center gap-2" data-v-3906ef49>'),t(N(d(oe),{class:"w-5 h-5"},null,a)),t(` Create New Strain </button><div class="p-4 rounded-xl bg-gray-800/30 flex items-center justify-between" data-v-3906ef49><span class="text-sm text-gray-400" data-v-3906ef49> Total: ${B(d(de))} strain(s), ${B(d(ze))} ${B(d(Fe))}(s) </span>`),d(ze)>0?t(`<span class="text-xs text-spider-green-400" data-v-3906ef49>${B(null==(y=d(fe))?void 0:y.setupHint)}</span>`):t("\x3c!----\x3e"),t("</div></div>")):t("\x3c!----\x3e"),3===d(L)?(t('<div class="space-y-6" data-v-3906ef49><div class="p-5 rounded-2xl bg-spider-green-500/10 border border-spider-green-500/30" data-v-3906ef49><div class="flex items-start gap-4" data-v-3906ef49>'),t(N(d(ce),{class:"w-6 h-6 text-spider-green-400 shrink-0 mt-0.5"},null,a)),t(`<div data-v-3906ef49><h4 class="text-base font-medium text-spider-green-300 mb-2" data-v-3906ef49>${B(null==(Ve=d(fe))?void 0:Ve.setupTitle)}</h4><p class="text-sm text-spider-green-200/80 leading-relaxed" data-v-3906ef49>${B(null==(Ke=d(fe))?void 0:Ke.setupDescription)}</p></div></div></div><div class="grid grid-cols-1 lg:grid-cols-2 gap-6" data-v-3906ef49><div class="space-y-5" data-v-3906ef49><div data-v-3906ef49><label class="block text-sm font-medium text-gray-300 mb-2" data-v-3906ef49>${B(d(Ee))}</label><input${Y("value",d(pe).startDate)} type="date" class="w-full px-4 py-3.5 bg-gray-800/50 border border-gray-600 rounded-xl text-white focus:border-spider-green-500 focus:outline-none" data-v-3906ef49><div class="mt-1.5 flex items-center justify-between" data-v-3906ef49><p class="text-xs text-gray-500" data-v-3906ef49>${B(d(Ne))}</p>`),d(He)>0?t(`<p class="text-xs text-spider-green-400 font-medium" data-v-3906ef49>${B(d(He))} days ago </p>`):t("\x3c!----\x3e"),t('</div></div><div data-v-3906ef49><div class="flex items-center justify-between mb-2" data-v-3906ef49><label class="block text-sm font-medium text-gray-300" data-v-3906ef49>Current Stage</label>'),d(He)>7?(t('<span class="text-xs text-amber-400 flex items-center gap-1" data-v-3906ef49>'),t(N(d(re),{class:"w-3.5 h-3.5"},null,a)),t(" Auto-calculated from date </span>")):t("\x3c!----\x3e"),t("</div>"),d(He)>7?t(`<div class="mb-3 p-3 rounded-xl bg-spider-green-500/10 border border-spider-green-500/30" data-v-3906ef49><div class="flex items-center gap-3" data-v-3906ef49><div class="w-10 h-10 rounded-lg bg-spider-green-500/20 flex items-center justify-center" data-v-3906ef49><span class="text-xl" data-v-3906ef49>${B(d(We).icon)}</span></div><div class="flex-1" data-v-3906ef49><p class="text-sm text-white font-medium" data-v-3906ef49> Based on ${B(d(He))} days, your plants are likely in <strong data-v-3906ef49>${B(d(We).label)}</strong></p><p class="text-xs text-gray-400" data-v-3906ef49>You can change this if your plants are at a different stage</p></div></div></div>`):t("\x3c!----\x3e"),t('<div class="grid grid-cols-2 sm:grid-cols-4 gap-2" data-v-3906ef49>\x3c!--[--\x3e'),G(d(Ie),e=>{t(`<button class="${K(["p-3 rounded-xl border-2 transition-all text-center relative",d(pe).initialStage===e.value?"border-spider-green-500 bg-spider-green-500/20":"border-gray-600 bg-gray-800/30 hover:border-gray-500",e.value===d(Ge)&&d(pe).initialStage!==e.value?"ring-2 ring-amber-500/50 ring-offset-2 ring-offset-gray-900":""])}" data-v-3906ef49>`),e.value===d(Ge)&&d(pe).initialStage!==e.value?(t('<div class="absolute -top-2 -right-2 w-5 h-5 bg-amber-500 rounded-full flex items-center justify-center" data-v-3906ef49>'),t(N(d(re),{class:"w-3 h-3 text-white"},null,a)),t("</div>")):t("\x3c!----\x3e"),t(`<div class="text-xl mb-1" data-v-3906ef49>${B(e.icon)}</div><div class="text-[11px] font-medium text-gray-300" data-v-3906ef49>${B(e.label)}</div></button>`)}),t('\x3c!--]--\x3e</div></div><div data-v-3906ef49><label class="block text-sm font-medium text-gray-300 mb-2" data-v-3906ef49>Growing Medium</label><div class="grid grid-cols-2 sm:grid-cols-3 gap-2" data-v-3906ef49>\x3c!--[--\x3e'),G(ue,e=>{t(`<button class="${K(["px-4 py-2.5 rounded-xl text-sm font-medium transition-all",d(pe).medium===e.value?"bg-spider-green-500/30 text-spider-green-300 border border-spider-green-500":"bg-gray-700/50 text-gray-400 border border-gray-600 hover:border-gray-500"])}" data-v-3906ef49>${B(e.label)}</button>`)}),t('\x3c!--]--\x3e</div></div></div><div class="space-y-5" data-v-3906ef49><div data-v-3906ef49><label class="block text-sm font-medium text-gray-300 mb-2" data-v-3906ef49>Grow Space Size</label><div class="grid grid-cols-3 gap-2" data-v-3906ef49>\x3c!--[--\x3e'),G(xe,e=>{t(`<button class="${K(["p-3 rounded-xl border-2 transition-all text-center",d(pe).tentSize===e.value?"border-spider-green-500 bg-spider-green-500/20":"border-gray-600 bg-gray-800/30 hover:border-gray-500"])}" data-v-3906ef49><div class="text-sm font-medium text-white" data-v-3906ef49>${B(e.label)}</div><div class="text-[10px] text-gray-500" data-v-3906ef49>${B(e.hint)}</div></button>`)}),t(`\x3c!--]--\x3e</div></div><div data-v-3906ef49><label class="block text-sm font-medium text-gray-300 mb-2" data-v-3906ef49>Plant Code Pattern</label><div class="flex items-center gap-3" data-v-3906ef49><input${Y("value",d(pe).codePrefix)} type="text" placeholder="P" maxlength="4" class="w-20 px-3 py-3 bg-gray-800/50 border border-gray-600 rounded-xl text-white font-mono text-center focus:border-spider-green-500 focus:outline-none" data-v-3906ef49><span class="text-gray-500" data-v-3906ef49>+</span><span class="text-gray-400 font-mono" data-v-3906ef49>001, 002, 003...</span></div><p class="mt-1.5 text-xs text-gray-500" data-v-3906ef49> Preview: ${B(d(pe).codePrefix||"P")}001, ${B(d(pe).codePrefix||"P")}002, etc. </p></div>`),d(Ue)?(t('<div data-v-3906ef49><label class="block text-sm font-medium text-gray-300 mb-2" data-v-3906ef49>Reversal Method</label><div class="space-y-2" data-v-3906ef49>\x3c!--[--\x3e'),G(ve,e=>{t(`<button class="${K(["w-full p-3 rounded-xl border-2 transition-all text-left flex items-center gap-3",d(pe).reversalMethod===e.value?"border-pink-500 bg-pink-500/20":"border-gray-600 bg-gray-800/30 hover:border-gray-500"])}" data-v-3906ef49><span class="text-xl" data-v-3906ef49>${B(e.icon)}</span><div data-v-3906ef49><div class="text-sm font-medium text-white" data-v-3906ef49>${B(e.label)}</div><div class="text-xs text-gray-400" data-v-3906ef49>${B(e.hint)}</div></div></button>`)}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),d(Ye)?(t('<div data-v-3906ef49><label class="block text-sm font-medium text-gray-300 mb-2" data-v-3906ef49>Mother Plant Purpose</label><div class="space-y-2" data-v-3906ef49>\x3c!--[--\x3e'),G(be,e=>{t(`<button class="${K(["w-full p-3 rounded-xl border-2 transition-all text-left flex items-center gap-3",d(pe).motherPurpose===e.value?"border-teal-500 bg-teal-500/20":"border-gray-600 bg-gray-800/30 hover:border-gray-500"])}" data-v-3906ef49><span class="text-xl" data-v-3906ef49>${B(e.icon)}</span><div data-v-3906ef49><div class="text-sm font-medium text-white" data-v-3906ef49>${B(e.label)}</div><div class="text-xs text-gray-400" data-v-3906ef49>${B(e.hint)}</div></div></button>`)}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),t('</div></div><div class="p-5 rounded-2xl bg-gray-800/30 border border-gray-700/50" data-v-3906ef49><h4 class="text-sm font-medium text-gray-300 mb-3 flex items-center gap-2" data-v-3906ef49>'),t(N(d(re),{class:"w-4 h-4 text-amber-400"},null,a)),t(` Tips for ${B(null==(Je=d(fe))?void 0:Je.title)}</h4><ul class="grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-400" data-v-3906ef49>\x3c!--[--\x3e`),G(null==(Qe=d(fe))?void 0:Qe.tips,e=>{t('<li class="flex items-start gap-2" data-v-3906ef49>'),t(N(d(Ce),{class:"w-4 h-4 text-spider-green-400 shrink-0 mt-0.5"},null,a)),t(`<span data-v-3906ef49>${B(e)}</span></li>`)}),t("\x3c!--]--\x3e</ul></div></div>")):t("\x3c!----\x3e"),4===d(L)?(t(`<div class="space-y-6" data-v-3906ef49><div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4" data-v-3906ef49><div class="p-5 rounded-2xl bg-gradient-to-br from-spider-green-500/20 to-emerald-500/20 border border-spider-green-500/30" data-v-3906ef49><div class="flex items-center gap-3 mb-3" data-v-3906ef49><div class="w-10 h-10 rounded-xl bg-spider-green-500/30 flex items-center justify-center" data-v-3906ef49><span class="text-xl" data-v-3906ef49>${B(null==(Ze=d(fe))?void 0:Ze.emoji)}</span></div><div data-v-3906ef49><p class="text-xs text-spider-green-400 uppercase tracking-wide" data-v-3906ef49>Your Goal</p><p class="text-base font-bold text-white" data-v-3906ef49>${B(null==(Xe=d(fe))?void 0:Xe.title)}</p></div></div></div><div class="p-5 rounded-2xl bg-gradient-to-br from-purple-500/20 to-purple-600/20 border border-purple-500/30" data-v-3906ef49><div class="flex items-center gap-3 mb-3" data-v-3906ef49><div class="w-10 h-10 rounded-xl bg-purple-500/30 flex items-center justify-center" data-v-3906ef49>`),t(N(d(le),{class:"w-5 h-5 text-purple-400"},null,a)),t(`</div><div data-v-3906ef49><p class="text-xs text-purple-400 uppercase tracking-wide" data-v-3906ef49>Strains</p><p class="text-base font-bold text-white" data-v-3906ef49>${B(d(ne).length)} varieties</p></div></div><div class="text-xs text-gray-400 space-y-1" data-v-3906ef49>\x3c!--[--\x3e`),G(d(ne),e=>{t(`<div class="flex justify-between" data-v-3906ef49><span data-v-3906ef49>${B(e.name||"Unnamed")}</span><span class="text-purple-400" data-v-3906ef49>Ã— ${B(e.quantity)}</span></div>`)}),t('\x3c!--]--\x3e</div></div><div class="p-5 rounded-2xl bg-gradient-to-br from-green-500/20 to-emerald-500/20 border border-green-500/30" data-v-3906ef49><div class="flex items-center gap-3 mb-3" data-v-3906ef49><div class="w-10 h-10 rounded-xl bg-green-500/30 flex items-center justify-center" data-v-3906ef49>'),t(N(d(re),{class:"w-5 h-5 text-green-400"},null,a)),t(`</div><div data-v-3906ef49><p class="text-xs text-green-400 uppercase tracking-wide" data-v-3906ef49>Plants</p><p class="text-base font-bold text-white" data-v-3906ef49>${B(d(ze))} total</p></div></div><div class="text-xs text-gray-400 space-y-1" data-v-3906ef49><div class="flex justify-between" data-v-3906ef49><span data-v-3906ef49>Starting stage</span><span class="text-green-400" data-v-3906ef49>${B(function(e){var t;return(null==(t=sa[e])?void 0:t.label)||e}(d(pe).initialStage))}</span></div><div class="flex justify-between" data-v-3906ef49><span data-v-3906ef49>Code pattern</span><span class="text-green-400 font-mono" data-v-3906ef49>${B(d(pe).codePrefix||"P")}001</span></div></div></div></div><div class="p-5 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-3906ef49><h4 class="text-lg font-semibold text-white mb-4 flex items-center gap-2" data-v-3906ef49>`),t(N(d($e),{class:"w-5 h-5 text-spider-green-400"},null,a)),t(' What we&#39;ll create for you </h4><div class="space-y-3" data-v-3906ef49>\x3c!--[--\x3e'),G(d(ne),(e,a)=>{t(`<div class="p-4 rounded-xl bg-gray-800/50" data-v-3906ef49><div class="flex items-center justify-between mb-2" data-v-3906ef49><span class="font-medium text-white" data-v-3906ef49>${B(e.name||"Strain "+(a+1))}</span><span class="text-xs px-2 py-1 rounded-full bg-purple-500/20 text-purple-300" data-v-3906ef49>${B(function(e){var t;return(null==(t=ge.find(t=>t.value===e))?void 0:t.label)||e}(e.seed_type))}</span></div><div class="flex flex-wrap gap-2" data-v-3906ef49>\x3c!--[--\x3e`),G(e.quantity,a=>{t(`<span class="px-2 py-1 text-xs rounded-lg bg-spider-green-500/20 text-spider-green-300 font-mono" data-v-3906ef49>${B(function(e,t){return`${pe.value.codePrefix||(e.name?e.name.substring(0,2).toUpperCase():"P")}${String(t).padStart(3,"0")}`}(e,a))}</span>`)}),t("\x3c!--]--\x3e</div></div>")}),t(`\x3c!--]--\x3e</div></div><div class="p-5 rounded-2xl bg-blue-500/10 border border-blue-500/30" data-v-3906ef49><h4 class="text-base font-medium text-blue-300 mb-3" data-v-3906ef49>What happens next?</h4><div class="space-y-3 text-sm text-blue-200/80" data-v-3906ef49><div class="flex items-start gap-3" data-v-3906ef49><div class="w-6 h-6 rounded-full bg-blue-500/30 flex items-center justify-center text-xs font-bold text-blue-300 shrink-0" data-v-3906ef49>1</div><span data-v-3906ef49>Your strains and plants will be created instantly</span></div><div class="flex items-start gap-3" data-v-3906ef49><div class="w-6 h-6 rounded-full bg-blue-500/30 flex items-center justify-center text-xs font-bold text-blue-300 shrink-0" data-v-3906ef49>2</div><span data-v-3906ef49>Start logging observations to track growth and health</span></div><div class="flex items-start gap-3" data-v-3906ef49><div class="w-6 h-6 rounded-full bg-blue-500/30 flex items-center justify-center text-xs font-bold text-blue-300 shrink-0" data-v-3906ef49>3</div><span data-v-3906ef49>${B(null==(et=d(fe))?void 0:et.nextSteps)}</span></div></div></div></div>`)):t("\x3c!----\x3e"),t('</div></div></div></div><div class="shrink-0 px-4 sm:px-8 lg:px-16 py-4 sm:py-6 bg-gray-900/95 backdrop-blur-xl border-t border-gray-800" data-v-3906ef49><div class="max-w-5xl mx-auto flex items-center justify-between" data-v-3906ef49>'),d(L)>1?(t('<button class="flex items-center gap-2 px-4 sm:px-6 py-3 text-gray-400 hover:text-white transition-colors" data-v-3906ef49>'),t(N(d(De),{class:"w-5 h-5"},null,a)),t('<span class="hidden sm:inline" data-v-3906ef49>Back</span></button>')):t("<div data-v-3906ef49></div>"),t('<div class="flex items-center gap-3 sm:gap-4" data-v-3906ef49><div class="flex sm:hidden items-center gap-1.5" data-v-3906ef49>\x3c!--[--\x3e'),G(4,e=>{t(`<div class="${K(["w-2 h-2 rounded-full transition-all",e<=d(L)?"bg-spider-green-500":"bg-gray-700"])}" data-v-3906ef49></div>`)}),t("\x3c!--]--\x3e</div>"),d(L)<4?(t(`<button${ee(!d(qe))?" disabled":""} class="${K(["flex items-center gap-2 px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-medium text-base sm:text-lg transition-all",d(qe)?"bg-spider-green-600 hover:bg-spider-green-500 text-white shadow-lg shadow-spider-green-500/30":"bg-gray-700 text-gray-500 cursor-not-allowed"])}" data-v-3906ef49> Continue `),t(N(d(he),{class:"w-5 h-5"},null,a)),t("</button>")):(t(`<button${ee(d(O))?" disabled":""} class="flex items-center gap-2 px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-medium text-base sm:text-lg bg-gradient-to-r from-spider-green-600 to-emerald-500 hover:from-spider-green-500 hover:to-emerald-400 text-white transition-all shadow-lg shadow-spider-green-500/30 disabled:opacity-50" data-v-3906ef49>`),d(O)?t(N(d(Ae),{class:"w-5 h-5 animate-spin"},null,a)):t(N(d(re),{class:"w-5 h-5"},null,a)),t(` ${B(d(O)?"Creating...":"Start Growing!")}</button>`)),t("</div></div></div></div>")}}}),na=ia.setup;ia.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/wizards/LabOnboardingWizard.vue"),na?na(e,t):void 0};const oa=Object.assign(Ct(ia,[["__scopeId","data-v-3906ef49"]]),{__name:"LabOnboardingWizard"}),da=e({__name:"LabWelcomeBanner",__ssrInlineRender:!0,emits:["start"],setup:(e,{emit:t})=>(e,t,a,s)=>{t(`<div${z(n({class:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-spider-green-600/20 via-emerald-600/10 to-gray-800/50 border border-spider-green-500/30 p-6 lg:p-8"},s))}><div class="absolute -top-20 -right-20 w-40 h-40 bg-spider-green-500/10 rounded-full blur-3xl"></div><div class="absolute -bottom-10 -left-10 w-32 h-32 bg-emerald-500/10 rounded-full blur-3xl"></div><div class="relative"><div class="flex items-start gap-4 lg:gap-6"><div class="w-14 h-14 lg:w-16 lg:h-16 rounded-2xl bg-gradient-to-br from-spider-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-spider-green-500/30 shrink-0">`),t(N(d(re),{class:"w-7 h-7 lg:w-8 lg:h-8 text-white"},null,a)),t('</div><div class="flex-1"><h2 class="text-lg lg:text-xl font-bold text-white mb-1">Welcome to the Laboratory! ðŸŒ±</h2><p class="text-sm text-gray-300 mb-4 max-w-xl"> Track your plants from seed to harvest, score phenotypes, and build your personal strain library. The system guides you through each growth stage with smart recommendations. </p><div class="grid grid-cols-1 sm:grid-cols-3 gap-3 mb-6"><div class="flex items-center gap-2 p-2 rounded-lg bg-gray-800/50"><div class="w-6 h-6 rounded-full bg-spider-green-600/50 flex items-center justify-center text-xs font-bold text-spider-green-300">1</div><span class="text-xs text-gray-300">Add a strain</span></div><div class="flex items-center gap-2 p-2 rounded-lg bg-gray-800/50"><div class="w-6 h-6 rounded-full bg-spider-green-600/50 flex items-center justify-center text-xs font-bold text-spider-green-300">2</div><span class="text-xs text-gray-300">Start a plant</span></div><div class="flex items-center gap-2 p-2 rounded-lg bg-gray-800/50"><div class="w-6 h-6 rounded-full bg-spider-green-600/50 flex items-center justify-center text-xs font-bold text-spider-green-300">3</div><span class="text-xs text-gray-300">Log observations</span></div></div><button class="inline-flex items-center gap-2 px-5 py-2.5 rounded-xl bg-gradient-to-r from-spider-green-600 to-spider-green-500 hover:from-spider-green-500 hover:to-spider-green-400 text-white font-medium text-sm shadow-lg shadow-spider-green-500/25 transition-all duration-300 hover:shadow-spider-green-500/40 hover:scale-105">'),t(N(d(oe),{class:"w-5 h-5"},null,a)),t(" Start Your First Plant </button></div></div></div></div>")}}),ca=da.setup;da.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/dashboard/LabWelcomeBanner.vue"),ca?ca(e,t):void 0};const pa=Object.assign(da,{__name:"LabWelcomeBanner"}),ga=e({__name:"LabDashboardOnboarding",__ssrInlineRender:!0,emits:["dismiss","action"],setup(e,{emit:s}){const u=ra(),h=t(!1),y=a(()=>u.strains.length>0),_=a(()=>u.plants.length>0),L=a(()=>u.allObservations.length>0),O=a(()=>{let e=0;return y.value&&e++,_.value&&e++,L.value&&e++,e}),F=a(()=>O.value/3*100);return(e,t,a,s)=>{t(`<div${z(n({class:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-spider-green-600/20 via-emerald-600/10 to-gray-800/50 border border-spider-green-500/30"},s))}><div class="absolute -top-20 -right-20 w-40 h-40 bg-spider-green-500/10 rounded-full blur-3xl pointer-events-none"></div><div class="flex items-center justify-between px-4 lg:px-6 py-3 cursor-pointer hover:bg-spider-green-500/5 transition-colors"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-spider-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-spider-green-500/30">`),t(N(d(Oe),{class:"w-5 h-5 text-white"},null,a)),t(`</div><div><div class="flex items-center gap-2"><h3 class="text-sm font-semibold text-white">Getting Started</h3><span class="px-2 py-0.5 rounded-full bg-spider-green-500/20 text-[10px] font-medium text-spider-green-300">${B(d(O))}/3 complete </span></div><p class="text-xs text-gray-400">Complete these steps to set up your Laboratory</p></div></div><div class="flex items-center gap-2"><button class="p-1.5 rounded-lg hover:bg-gray-700/50 text-gray-500 hover:text-white transition-colors" title="Dismiss">`),t(N(d(me),{class:"w-4 h-4"},null,a)),t("</button>"),t(N(d(Ie),{class:["w-5 h-5 text-gray-400 transition-transform duration-300",d(h)&&"-rotate-90"]},null,a)),t(`</div></div><div class="overflow-hidden" style="${te(d(h)?{display:"none"}:null)}"><div class="px-4 lg:px-6 pb-4 lg:pb-6"><div class="mb-4"><div class="relative h-2 rounded-full bg-gray-800/80 overflow-hidden"><div class="absolute inset-y-0 left-0 rounded-full bg-gradient-to-r from-spider-green-500 to-emerald-400 transition-all duration-500" style="${te({width:`${d(F)}%`})}"></div></div></div><div class="grid grid-cols-1 sm:grid-cols-3 gap-3"><div class="${K(["relative p-4 rounded-xl border-2 transition-all",d(y)?"bg-spider-green-500/10 border-spider-green-500/50":"bg-gray-800/40 border-gray-700/50 hover:border-purple-500/50 cursor-pointer"])}"><div class="flex items-start gap-3"><div class="${K(["w-8 h-8 rounded-lg flex items-center justify-center shrink-0",d(y)?"bg-spider-green-500 text-white":"bg-purple-500 text-white"])}">`),d(y)?t(N(d(fe),{class:"w-4 h-4"},null,a)):t('<span class="text-sm font-bold">1</span>'),t(`</div><div><h4 class="${K(["text-sm font-medium",d(y)?"text-spider-green-300":"text-white"])}"> Add a Strain </h4><p class="text-xs text-gray-500 mt-0.5">${B(d(y)?"Complete!":"Your genetics catalog")}</p></div></div></div><div class="${K(["relative p-4 rounded-xl border-2 transition-all",d(_)?"bg-spider-green-500/10 border-spider-green-500/50":d(y)?"bg-gray-800/40 border-spider-green-500/50 hover:border-spider-green-400/70 cursor-pointer":"bg-gray-800/20 border-gray-700/30 opacity-60"])}"><div class="flex items-start gap-3"><div class="${K(["w-8 h-8 rounded-lg flex items-center justify-center shrink-0",d(_)||d(y)?"bg-spider-green-500 text-white":"bg-gray-600 text-gray-400"])}">`),d(_)?t(N(d(fe),{class:"w-4 h-4"},null,a)):t('<span class="text-sm font-bold">2</span>'),t(`</div><div><h4 class="${K(["text-sm font-medium",d(_)?"text-spider-green-300":d(y)?"text-white":"text-gray-500"])}"> Create a Plant </h4><p class="text-xs text-gray-500 mt-0.5">${B(d(_)?"Complete!":"From seed or clone")}</p></div></div></div><div class="${K(["relative p-4 rounded-xl border-2 transition-all",d(L)?"bg-spider-green-500/10 border-spider-green-500/50":d(_)?"bg-gray-800/40 border-blue-500/50 hover:border-blue-400/70 cursor-pointer":"bg-gray-800/20 border-gray-700/30 opacity-60"])}"><div class="flex items-start gap-3"><div class="${K(["w-8 h-8 rounded-lg flex items-center justify-center shrink-0",d(L)?"bg-spider-green-500 text-white":d(_)?"bg-blue-500 text-white":"bg-gray-600 text-gray-400"])}">`),d(L)?t(N(d(fe),{class:"w-4 h-4"},null,a)):t('<span class="text-sm font-bold">3</span>'),t(`</div><div><h4 class="${K(["text-sm font-medium",d(L)?"text-spider-green-300":d(_)?"text-white":"text-gray-500"])}"> Log Observation </h4><p class="text-xs text-gray-500 mt-0.5">${B(d(L)?"Complete!":"Track plant progress")}</p></div></div></div></div><p class="mt-4 text-xs text-gray-500 text-center">`),t(N(d(we),{class:"w-3.5 h-3.5 inline-block mr-1 text-yellow-400"},null,a)),t(" Click a step to get started. You can dismiss this guide anytime. </p></div></div></div>")}}}),ua=ga.setup;ga.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/dashboard/LabDashboardOnboarding.vue"),ua?ua(e,t):void 0};const xa=Object.assign(ga,{__name:"LabDashboardOnboarding"}),va=e({__name:"LabStageBar",__ssrInlineRender:!0,props:{stage:{},count:{},total:{},plants:{}},emits:["click"],setup(e,{emit:t}){const s=e,u=a(()=>sa[s.stage]),h=a(()=>0===s.total?0:Math.round(s.count/s.total*100)),y=a(()=>({"amber-400":"bg-gradient-to-r from-amber-500 to-amber-400","lime-400":"bg-gradient-to-r from-lime-500 to-lime-400","green-400":"bg-gradient-to-r from-green-500 to-green-400","green-500":"bg-gradient-to-r from-green-600 to-green-500","emerald-400":"bg-gradient-to-r from-emerald-500 to-emerald-400","purple-400":"bg-gradient-to-r from-purple-500 to-purple-400","purple-500":"bg-gradient-to-r from-purple-600 to-purple-500","pink-400":"bg-gradient-to-r from-pink-500 to-pink-400","pink-500":"bg-gradient-to-r from-pink-600 to-pink-500","yellow-400":"bg-gradient-to-r from-yellow-500 to-yellow-400","orange-400":"bg-gradient-to-r from-orange-500 to-orange-400","amber-500":"bg-gradient-to-r from-amber-600 to-amber-500","amber-600":"bg-gradient-to-r from-amber-700 to-amber-600","gray-400":"bg-gradient-to-r from-gray-500 to-gray-400","red-400":"bg-gradient-to-r from-red-500 to-red-400"}[u.value.color]||"bg-gradient-to-r from-gray-500 to-gray-400"));return(t,a,s,_)=>{a(`<button${z(n({class:"group w-full flex items-center gap-3 p-2 rounded-xl hover:bg-gray-700/30 transition-all duration-200"},_))}><div class="flex items-center gap-2 w-24 lg:w-32 shrink-0"><span class="text-base">${B(d(u).icon)}</span><span class="text-xs font-medium text-gray-300 truncate">${B(d(u).shortLabel)}</span></div><div class="flex-1 h-6 bg-gray-700/30 rounded-full overflow-hidden relative"><div class="${K(["h-full rounded-full transition-all duration-500",d(y)])}" style="${te({width:`${d(h)}%`})}"></div><div class="absolute inset-0 flex items-center px-3"><span class="text-xs font-bold text-white drop-shadow-sm">${B(e.count)}</span></div></div><span class="text-xs text-gray-500 w-10 text-right">${B(d(h))}%</span>`),a(N(d(he),{class:"w-4 h-4 text-gray-600 group-hover:text-gray-400 transition-colors"},null,s)),a("</button>")}}}),ba=va.setup;va.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/dashboard/LabStageBar.vue"),ba?ba(e,t):void 0};const ma=Object.assign(va,{__name:"LabStageBar"}),fa=90,ha=80,ya=70,wa=60;const _a={active:{text:"text-gray-400",bg:"bg-gray-500/20",ring:"ring-gray-400/30",label:"Active"},watch:{text:"text-blue-400",bg:"bg-blue-500/20",ring:"ring-blue-400/30",label:"Watch"},warning:{text:"text-yellow-400",bg:"bg-yellow-500/20",ring:"ring-yellow-400/30",label:"Warning"},cull_candidate:{text:"text-red-400",bg:"bg-red-500/20",ring:"ring-red-400/30",label:"Cull"},keeper:{text:"text-spider-green-400",bg:"bg-spider-green-500/20",ring:"ring-spider-green-400/30",label:"Keeper"}};const $a=e({__name:"LabPlantDisplay",__ssrInlineRender:!0,props:{plant:{},variant:{default:"card"},showScore:{type:Boolean,default:!0},showSex:{type:Boolean,default:!0}},emits:["click"],setup(e){const t=e,s=a(()=>t.plant.is_keeper||"keeper"===t.plant.selection_status),u=a(()=>function(e){const t=null!=e?e:0;return t>=fa?"text-spider-green-400":t>=ha?"text-green-400":t>=ya?"text-lime-400":t>=wa?"text-yellow-400":"text-orange-400"}(t.plant.final_score)),h=a(()=>function(e){const t=null!=e?e:0;return t>=fa?"bg-gradient-to-r from-spider-green-500/30 to-emerald-600/30":t>=ha?"bg-gradient-to-r from-green-500/30 to-emerald-600/30":t>=ya?"bg-gradient-to-r from-lime-500/30 to-green-600/30":t>=wa?"bg-gradient-to-r from-yellow-500/30 to-amber-600/30":"bg-gradient-to-r from-orange-500/30 to-red-600/30"}(t.plant.final_score)),y=a(()=>function(e){return sa[e]||sa.seedling}(t.plant.status)),_=a(()=>function(e){return _a[e||"active"]||_a.active}(t.plant.selection_status)),L=a(()=>{if(!t.plant.date_started)return"-";const e=new Date(t.plant.date_started),a=Math.floor(((new Date).getTime()-e.getTime())/864e5);return a<7?`${a}d`:`${Math.floor(a/7)}w`}),O=a(()=>{switch(t.plant.sex){case"female":return"bg-pink-500/20 text-pink-400";case"male":return"bg-blue-500/20 text-blue-400";case"hermaphrodite":return"bg-yellow-500/20 text-yellow-400";default:return"bg-gray-500/20 text-gray-400"}});return(t,a,F,G)=>{"card"===e.variant?(a(`<div${z(n({class:["group relative rounded-2xl overflow-hidden cursor-pointer transition-all duration-300 hover:scale-[1.02]",[s.value?"ring-2 ring-spider-green-400/50 shadow-lg shadow-spider-green-500/20":"ring-1 ring-gray-700/50","bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md"]]},G))}>`),s.value?a('<div class="absolute inset-0 bg-gradient-to-br from-spider-green-500/10 to-transparent pointer-events-none"></div>'):a("\x3c!----\x3e"),a(`<div class="absolute top-3 right-3 z-10"><div class="${K([[y.value.bgColor,y.value.color.replace("text-","ring-")],"w-3 h-3 rounded-full ring-2 ring-offset-1 ring-offset-gray-900"])}"${Y("title",y.value.label)}></div></div><div class="p-4"><div class="mb-3"><h4 class="text-sm font-semibold text-white group-hover:text-spider-green-400 transition-colors">${B(e.plant.plant_code)}</h4><p class="text-xs text-gray-400 truncate">${B(e.plant.strain_name||"Unknown strain")}</p></div><div class="flex items-center justify-between">`),e.plant.final_score?a(`<div class="flex items-center gap-1.5"><div class="${K([h.value,"w-8 h-8 rounded-lg flex items-center justify-center"])}"><span class="${K([u.value,"text-xs font-bold"])}">${B(Math.round(e.plant.final_score))}</span></div></div>`):a('<div class="text-xs text-gray-500">Not scored</div>'),a(`<span class="${K([[_.value.text,_.value.bg],"text-[10px] font-medium px-2 py-0.5 rounded-full"])}">${B(_.value.label)}</span></div><div class="mt-3 pt-3 border-t border-gray-700/50 flex items-center justify-between text-xs"><span class="${K(y.value.color)}">${B(y.value.shortLabel)}</span><span class="text-gray-500">${B(L.value)}</span></div></div></div>`)):"mini"===e.variant?(a(`<div${z(n({class:"group flex items-center gap-3 p-2.5 rounded-xl cursor-pointer transition-all bg-gray-800/40 hover:bg-gray-700/40 border border-gray-700/30 hover:border-gray-600/50"},G))}><div class="${K([y.value.bgColor,"w-2.5 h-2.5 rounded-full shrink-0"])}"${Y("title",y.value.label)}></div><div class="flex-1 min-w-0"><p class="text-xs font-medium text-white truncate group-hover:text-spider-green-400 transition-colors">${B(e.plant.plant_code)}</p><p class="text-[10px] text-gray-500 truncate">${B(e.plant.strain_name||"Unknown")}</p></div>`),e.plant.final_score?a(`<div class="${K([u.value,"text-xs font-semibold"])}">${B(Math.round(e.plant.final_score))}</div>`):a("\x3c!----\x3e"),a("</div>")):"row"===e.variant?(a(`<div${z(n({class:"group flex items-center gap-4 p-3 rounded-xl cursor-pointer transition-all bg-gray-800/30 hover:bg-gray-700/40 border border-gray-700/30 hover:border-gray-600/50"},G))}><div class="${K([y.value.bgColor,"w-10 h-10 rounded-xl flex items-center justify-center shrink-0"])}"><span class="${K([y.value.color,"text-xs font-bold"])}">${B(y.value.shortLabel)}</span></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2"><h4 class="text-sm font-semibold text-white group-hover:text-spider-green-400 transition-colors">${B(e.plant.plant_code)}</h4>`),s.value?a('<span class="text-[10px] font-medium px-1.5 py-0.5 rounded-full bg-spider-green-500/20 text-spider-green-400"> Keeper </span>'):a("\x3c!----\x3e"),a(`</div><p class="text-xs text-gray-400">${B(e.plant.strain_name||"Unknown strain")}</p></div>`),e.showSex&&"unknown"!==e.plant.sex?a(`<div class="${K([O.value,"text-xs px-2 py-1 rounded-lg"])}">${B(e.plant.sex)}</div>`):a("\x3c!----\x3e"),e.showScore?(a('<div class="text-right">'),e.plant.final_score?a(`<div class="${K([u.value,"text-lg font-bold"])}">${B(Math.round(e.plant.final_score))}</div>`):a('<div class="text-xs text-gray-500">-</div>'),a("</div>")):a("\x3c!----\x3e"),a(`<div class="text-xs text-gray-500 text-right w-16">${B(L.value)}</div>`),a(N(d(he),{class:"w-4 h-4 text-gray-600 group-hover:text-gray-400 shrink-0"},null,F)),a("</div>")):"mini-row"===e.variant?(a(`<div${z(n({class:"group flex items-center gap-2 py-2 px-3 rounded-lg cursor-pointer transition-all hover:bg-gray-800/40"},G))}><div class="${K([y.value.bgColor,"w-2 h-2 rounded-full shrink-0"])}"></div><span class="text-xs font-medium text-gray-300 group-hover:text-white flex-1 truncate">${B(e.plant.plant_code)}</span>`),e.plant.final_score?a(`<span class="${K([u.value,"text-xs font-semibold"])}">${B(Math.round(e.plant.final_score))}</span>`):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e")}}}),ka=$a.setup;$a.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabPlantDisplay.vue"),ka?ka(e,t):void 0};const Sa=Object.assign($a,{__name:"LabPlantDisplay"}),Ca=e({__name:"LabRankingItem",__ssrInlineRender:!0,props:{plant:{},rank:{}},emits:["click"],setup(e,{emit:t}){const s=e,u=a(()=>1===s.rank?"ðŸ¥‡":2===s.rank?"ðŸ¥ˆ":3===s.rank?"ðŸ¥‰":s.rank),h=a(()=>1===s.rank?"bg-gradient-to-br from-yellow-500/30 to-amber-500/30":2===s.rank?"bg-gradient-to-br from-gray-400/30 to-gray-500/30":3===s.rank?"bg-gradient-to-br from-amber-600/30 to-amber-700/30":"bg-gray-700/50 text-gray-400"),y=a(()=>{const e=s.plant.final_score||0;return e>=90?"text-spider-green-400":e>=80?"text-green-400":e>=70?"text-lime-400":"text-yellow-400"});return(t,a,s,_)=>{a(`<button${z(n({class:"group w-full flex items-center gap-2 p-2 rounded-xl hover:bg-gray-700/30 transition-all duration-200 text-left"},_))}><div class="${K(["w-7 h-7 rounded-lg flex items-center justify-center text-xs font-bold shrink-0",d(h)])}">${B(d(u))}</div><div class="flex-1 min-w-0"><p class="text-xs font-medium text-white truncate">${B(e.plant.plant_code)}</p><p class="text-[10px] text-gray-500 truncate">${B(e.plant.strain_name)}</p></div><div class="text-right shrink-0"><span class="${K(["text-sm font-bold",d(y)])}">${B((e.plant.final_score||0).toFixed(1))}</span></div></button>`)}}}),ja=Ca.setup;Ca.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/dashboard/LabRankingItem.vue"),ja?ja(e,t):void 0};const Pa=Object.assign(Ca,{__name:"LabRankingItem"}),Da=e({__name:"LabAlertItem",__ssrInlineRender:!0,props:{alert:{}},emits:["click","dismiss"],setup(e,{emit:t}){const s=e,u=a(()=>{switch(s.alert.level){case"urgent":return"bg-red-500 animate-pulse";case"important":return"bg-yellow-500";case"reminder":return"bg-blue-500";default:return"bg-gray-500"}}),h=a(()=>{const e=new Date,t=new Date(s.alert.timestamp),a=e.getTime()-t.getTime(),n=Math.floor(a/6e4);if(n<1)return"Just now";if(n<60)return`${n}m ago`;const d=Math.floor(n/60);return d<24?`${d}h ago`:`${Math.floor(d/24)}d ago`});return(t,a,s,y)=>{a(`<div${z(n({class:["group flex items-start gap-2 p-2 rounded-xl cursor-pointer transition-all duration-200","hover:bg-gray-700/30",!e.alert.acknowledged&&"bg-gray-700/20"]},y))}><div class="${K(["w-2 h-2 rounded-full mt-1.5 shrink-0",d(u)])}"></div><div class="flex-1 min-w-0"><p class="text-xs font-medium text-gray-200 truncate">${B(e.alert.title)}</p><p class="text-[10px] text-gray-400 line-clamp-2">${B(e.alert.message)}</p><div class="flex items-center gap-2 mt-1">`),e.alert.plant_code?a(`<span class="text-[10px] text-spider-green-400">${B(e.alert.plant_code)}</span>`):a("\x3c!----\x3e"),a(`<span class="text-[10px] text-gray-500">${B(d(h))}</span></div></div>`),e.alert.acknowledged?a("\x3c!----\x3e"):(a('<button class="p-1 rounded-lg opacity-0 group-hover:opacity-100 hover:bg-gray-600/50 text-gray-500 hover:text-gray-300 transition-all">'),a(N(d(me),{class:"w-3.5 h-3.5"},null,s)),a("</button>")),a("</div>")}}}),Aa=Da.setup;Da.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/dashboard/LabAlertItem.vue"),Aa?Aa(e,t):void 0};const La=Object.assign(Da,{__name:"LabAlertItem"}),Ta=e({__name:"LabTipCard",__ssrInlineRender:!0,props:{tip:{}},setup(e){const t=e,s=a(()=>{switch(t.tip.type){case"tip":return we;case"info":default:return Se;case"reminder":return de}}),y=a(()=>{switch(t.tip.type){case"tip":return"bg-yellow-500/10";case"info":return"bg-blue-500/10";case"reminder":return"bg-purple-500/10";default:return"bg-gray-500/10"}}),_=a(()=>{switch(t.tip.type){case"tip":return"border-yellow-500/20";case"info":return"border-blue-500/20";case"reminder":return"border-purple-500/20";default:return"border-gray-500/20"}}),L=a(()=>{switch(t.tip.type){case"tip":return"text-yellow-400";case"info":return"text-blue-400";case"reminder":return"text-purple-400";default:return"text-gray-400"}}),O=a(()=>{switch(t.tip.type){case"tip":return"text-yellow-300";case"info":return"text-blue-300";case"reminder":return"text-purple-300";default:return"text-gray-300"}});return(t,a,F,N)=>{a(`<div${z(n({class:["p-2.5 rounded-xl border transition-all duration-200",d(y),d(_)]},N))}><div class="flex items-start gap-2">`),Z(a,u(h(d(s)),{class:["w-4 h-4 shrink-0 mt-0.5",d(L)]},null),F),a(`<div><p class="${K(["text-xs font-medium",d(O)])}">${B(e.tip.title)}</p><p class="text-[10px] text-gray-400 mt-0.5">${B(e.tip.text)}</p></div></div></div>`)}}}),Oa=Ta.setup;Ta.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/dashboard/LabTipCard.vue"),Oa?Oa(e,t):void 0};const Ma=Object.assign(Ta,{__name:"LabTipCard"}),Ra=e({__name:"LabGamification",__ssrInlineRender:!0,setup(e){const u=ra(),h=a(()=>u.plants.length),y=a(()=>u.plants.filter(e=>e.is_keeper).length),_=a(()=>{if(0===u.allObservations.length)return 0;const e=[...new Set(u.allObservations.map(e=>new Date(e.observed_at).toDateString()))].map(e=>new Date(e)).sort((e,t)=>t.getTime()-e.getTime());if(0===e.length)return 0;const t=new Date;t.setHours(0,0,0,0);const a=new Date(t);a.setDate(a.getDate()-1);const s=e[0];if(s.setHours(0,0,0,0),s.getTime()<a.getTime())return 0;let n=1;for(let t=1;t<e.length;t++){const a=e[t];a.setHours(0,0,0,0);const s=e[t-1];if(s.setHours(0,0,0,0),(s.getTime()-a.getTime())/864e5!=1)break;n++}return n}),L=a(()=>{let e=0;return e+=50*u.plants.length,e+=20*u.allObservations.length,e+=200*y.value,e+=30*u.strains.length,e}),O=a(()=>Math.floor(L.value/500)+1),F=a(()=>500*O.value),Z=a(()=>L.value%500/500*100),X=t(0);s(L,e=>{const t=X.value,a=e-t,s=Date.now(),j=()=>{const e=Date.now()-s,n=Math.min(e/1e3,1);X.value=Math.round(t+a*function(e){return 1-Math.pow(1-e,4)}(n)),n<1&&requestAnimationFrame(j)};j()},{immediate:!0});const ee=t(!1),ae=a(()=>{const e=["Seedling","Sprout","Grower","Cultivator","Expert","Master","Legend"];return e[Math.min(O.value-1,e.length-1)]});function i(e){return["top-4 left-8","top-12 right-12","bottom-6 left-1/4","top-1/3 right-1/4","bottom-4 right-8","top-8 left-1/2"][e-1]||""}const se=a(()=>[{id:1,icon:"ðŸŒ±",name:"First Plant",unlocked:u.plants.length>=1,new:!1},{id:2,icon:"ðŸ”¬",name:"Observer",unlocked:u.allObservations.length>=5,new:5===u.allObservations.length},{id:3,icon:"â­",name:"Keeper Finder",unlocked:y.value>=1,new:!1},{id:4,icon:"ðŸŒ¿",name:"Garden Starter",unlocked:u.plants.length>=5,new:!1},{id:5,icon:"ðŸ†",name:"Score Master",unlocked:u.topPerformers.length>=3,new:!1},{id:6,icon:"ðŸ§¬",name:"Strain Collector",unlocked:u.strains.length>=3,new:!1},{id:7,icon:"ðŸ“¸",name:"Photographer",unlocked:!1,new:!1},{id:8,icon:"ðŸ”¥",name:"Hot Streak",unlocked:_.value>=7,new:!1}].slice(0,8)),le=a(()=>[{id:1,title:"Log an observation",description:"Check on your plants and record their progress",xp:25,completed:u.allObservations.some(e=>new Date(e.observed_at).toDateString()===(new Date).toDateString())},{id:2,title:"Review dashboard",description:"Visit your grow dashboard",xp:10,completed:!0},{id:3,title:"Check environment",description:"Monitor your grow room conditions",xp:15,completed:!1}]),ie=a(()=>le.value.filter(e=>e.completed).length);return(e,t,a,s)=>{t(`<div${z(n({class:"space-y-4"},s))} data-v-776a53ce><div class="relative p-4 rounded-2xl bg-gradient-to-br from-purple-900/40 to-indigo-900/40 border border-purple-500/30 backdrop-blur-md overflow-hidden" data-v-776a53ce><div class="absolute inset-0 overflow-hidden pointer-events-none" data-v-776a53ce>\x3c!--[--\x3e`),G(6,e=>{t(`<div class="${K(["absolute w-1 h-1 rounded-full bg-purple-400/40 animate-pulse",i(e)])}" data-v-776a53ce></div>`)}),t(`\x3c!--]--\x3e</div><div class="relative" data-v-776a53ce><div class="flex items-center justify-between mb-3" data-v-776a53ce><div class="flex items-center gap-3" data-v-776a53ce><div class="relative" data-v-776a53ce><div class="w-14 h-14 rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center shadow-lg shadow-purple-500/30 transition-transform hover:scale-110 hover:rotate-3" data-v-776a53ce><span class="text-2xl font-black text-white" data-v-776a53ce>${B(d(O))}</span></div>`),d(ee)?t('<div class="absolute inset-0 rounded-2xl bg-purple-400 animate-ping opacity-50" data-v-776a53ce></div>'):t("\x3c!----\x3e"),t(`</div><div data-v-776a53ce><p class="text-xs text-purple-300/80 uppercase tracking-wider font-medium" data-v-776a53ce>${B(d(ae))}</p><p class="text-lg font-bold text-white" data-v-776a53ce>Level ${B(d(O))} Grower</p></div></div><div class="text-right" data-v-776a53ce><p class="text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400" data-v-776a53ce>${B(d(X).toLocaleString())}</p><p class="text-xs text-gray-400" data-v-776a53ce>/ ${B(d(F).toLocaleString())} XP</p></div></div><div class="relative h-4 rounded-full bg-gray-800/80 overflow-hidden" data-v-776a53ce><div class="absolute inset-y-0 left-0 rounded-full bg-gradient-to-r from-purple-500 via-pink-500 to-purple-400 transition-all duration-1000 ease-out" style="${te({width:`${d(Z)}%`})}" data-v-776a53ce><div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer" data-v-776a53ce></div></div><span class="absolute inset-0 flex items-center justify-center text-[10px] font-bold text-white drop-shadow" data-v-776a53ce>${B(Math.round(d(Z)))}% to Level ${B(d(O)+1)}</span></div></div></div><div class="grid grid-cols-3 gap-3" data-v-776a53ce><div class="relative p-3 rounded-xl bg-gradient-to-br from-orange-900/30 to-red-900/30 border border-orange-500/30 overflow-hidden group hover:scale-105 transition-transform" data-v-776a53ce><div class="flex items-center gap-2 mb-2" data-v-776a53ce><div class="w-8 h-8 rounded-lg bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center" data-v-776a53ce>`),t(N(d(Ze),{class:"w-4 h-4 text-white"},null,a)),t(`</div><span class="text-xl font-black text-orange-400" data-v-776a53ce>${B(d(_))}</span></div><p class="text-[10px] text-gray-400 uppercase tracking-wider" data-v-776a53ce>Day Streak</p><div class="absolute -bottom-4 -right-4 w-16 h-16 opacity-20 group-hover:opacity-40 transition-opacity" data-v-776a53ce>`),t(N(d(Ze),{class:"w-full h-full text-orange-500 animate-pulse"},null,a)),t('</div></div><div class="relative p-3 rounded-xl bg-gradient-to-br from-emerald-900/30 to-green-900/30 border border-emerald-500/30 overflow-hidden group hover:scale-105 transition-transform" data-v-776a53ce><div class="flex items-center gap-2 mb-2" data-v-776a53ce><div class="w-8 h-8 rounded-lg bg-gradient-to-br from-emerald-500 to-green-500 flex items-center justify-center" data-v-776a53ce>'),t(N(d(re),{class:"w-4 h-4 text-white"},null,a)),t(`</div><span class="text-xl font-black text-emerald-400" data-v-776a53ce>${B(d(h))}</span></div><p class="text-[10px] text-gray-400 uppercase tracking-wider" data-v-776a53ce>Plants Grown</p></div><div class="relative p-3 rounded-xl bg-gradient-to-br from-yellow-900/30 to-amber-900/30 border border-yellow-500/30 overflow-hidden group hover:scale-105 transition-transform" data-v-776a53ce><div class="flex items-center gap-2 mb-2" data-v-776a53ce><div class="w-8 h-8 rounded-lg bg-gradient-to-br from-yellow-500 to-amber-500 flex items-center justify-center" data-v-776a53ce>`),t(N(d(Ue),{class:"w-4 h-4 text-white"},null,a)),t(`</div><span class="text-xl font-black text-yellow-400" data-v-776a53ce>${B(d(y))}</span></div><p class="text-[10px] text-gray-400 uppercase tracking-wider" data-v-776a53ce>Keepers Found</p></div></div><div class="p-4 rounded-2xl bg-gray-800/40 border border-gray-700/50 backdrop-blur-md" data-v-776a53ce><div class="flex items-center justify-between mb-3" data-v-776a53ce><h3 class="text-sm font-semibold text-white flex items-center gap-2" data-v-776a53ce>`),t(N(d(Te),{class:"w-4 h-4 text-amber-400"},null,a)),t(' Recent Achievements </h3><button class="text-[10px] text-gray-400 hover:text-white transition-colors" data-v-776a53ce> View All </button></div><div class="grid grid-cols-4 sm:grid-cols-6 gap-2" data-v-776a53ce>\x3c!--[--\x3e'),G(d(se),e=>{t(`<div${Y("title",e.name)} class="${K(["relative aspect-square rounded-xl flex items-center justify-center text-2xl transition-all cursor-pointer",e.unlocked?"bg-gradient-to-br from-amber-500/30 to-orange-600/30 border border-amber-500/50 hover:scale-110 hover:shadow-lg hover:shadow-amber-500/20":"bg-gray-700/30 border border-gray-600/30 opacity-50 grayscale"])}" data-v-776a53ce><span class="drop-shadow-lg" data-v-776a53ce>${B(e.icon)}</span>`),e.new&&e.unlocked?t('<span class="absolute -top-1 -right-1 w-3 h-3 rounded-full bg-red-500 animate-pulse" data-v-776a53ce></span>'):t("\x3c!----\x3e"),e.unlocked?t("\x3c!----\x3e"):(t('<div class="absolute inset-0 flex items-center justify-center bg-black/40 rounded-xl" data-v-776a53ce>'),t(N(d(Xe),{class:"w-4 h-4 text-gray-500"},null,a)),t("</div>")),t("</div>")}),t('\x3c!--]--\x3e</div></div><div class="p-4 rounded-2xl bg-gradient-to-br from-blue-900/30 to-cyan-900/30 border border-blue-500/30 backdrop-blur-md" data-v-776a53ce><div class="flex items-center justify-between mb-3" data-v-776a53ce><h3 class="text-sm font-semibold text-white flex items-center gap-2" data-v-776a53ce>'),t(N(d(qe),{class:"w-4 h-4 text-blue-400"},null,a)),t(` Daily Quests </h3><span class="text-[10px] px-2 py-0.5 rounded-full bg-blue-500/20 text-blue-300" data-v-776a53ce>${B(d(ie))}/${B(d(le).length)} Complete </span></div><div class="space-y-2" data-v-776a53ce>\x3c!--[--\x3e`),G(d(le),e=>{t(`<div class="${K(["flex items-center gap-3 p-2 rounded-xl transition-all",e.completed?"bg-green-500/10 border border-green-500/30":"bg-gray-800/50 border border-gray-700/30 hover:bg-gray-800/80"])}" data-v-776a53ce><div class="${K(["w-6 h-6 rounded-lg flex items-center justify-center shrink-0 transition-all",e.completed?"bg-green-500 shadow-lg shadow-green-500/30":"bg-gray-700 border border-gray-600"])}" data-v-776a53ce>`),e.completed?t(N(d(fe),{class:"w-4 h-4 text-white"},null,a)):t("\x3c!----\x3e"),t(`</div><div class="flex-1 min-w-0" data-v-776a53ce><p class="${K(["text-sm font-medium truncate",e.completed?"text-green-300 line-through":"text-white"])}" data-v-776a53ce>${B(e.title)}</p><p class="text-[10px] text-gray-500" data-v-776a53ce>${B(e.description)}</p></div><div class="flex items-center gap-1 px-2 py-1 rounded-lg bg-purple-500/20 shrink-0" data-v-776a53ce>`),t(N(d(re),{class:"w-3 h-3 text-purple-400"},null,a)),t(`<span class="text-[10px] font-bold text-purple-300" data-v-776a53ce>+${B(e.xp)} XP</span></div></div>`)}),t("\x3c!--]--\x3e</div></div></div>")}}}),Fa=Ra.setup;Ra.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/dashboard/LabGamification.vue"),Fa?Fa(e,t):void 0};const za=Object.assign(Ct(Ra,[["__scopeId","data-v-776a53ce"]]),{__name:"LabGamification"}),Ia=e({__name:"LabDashboard",__ssrInlineRender:!0,emits:["openNewPlant","openPlant","openNewStrain","addObservation"],setup(e,{emit:s}){const u=s,h=ra(),y=t("grid"),_=t(!1),L=t(!1);t(null);const O=t(!1),F=a(()=>!O.value&&Y.value<3),Y=a(()=>[h.strains.length>0,h.plants.length>0,h.allObservations.length>0].filter(Boolean).length),Z=a(()=>O.value&&Y.value<3);function b(){O.value=!0,localStorage.setItem("lab-onboarding-dismissed","true")}function l(e){switch(e){case"new-strain":u("openNewStrain");break;case"new-plant":u("openNewPlant");break;case"new-observation":h.activePlants[0]&&u("addObservation",h.activePlants[0].id)}}const ee=a(()=>{const e=["pre_flower","early_flower","mid_flower","late_flower"];return h.activePlants.filter(t=>e.includes(t.status)).length}),ae=a(()=>h.topPerformers[0]),se=a(()=>{var e,t;return null!=(t=null==(e=ae.value)?void 0:e.final_score)?t:0}),le=a(()=>{let e=0;return e+=50*h.plants.length,e+=20*h.allObservations.length,e+=200*h.plants.filter(e=>e.is_keeper).length,e+=30*h.strains.length,e}),ce=a(()=>Math.floor(le.value/500)+1),pe=a(()=>le.value%500/500*100),ge=a(()=>{const e=["Seedling","Sprout","Grower","Cultivator","Expert","Master","Legend"];return e[Math.min(ce.value-1,e.length-1)]}),ue=a(()=>{const e=[];for(const t of Object.keys(sa)){if(["archived","culled"].includes(t))continue;const a=h.activePlants.filter(e=>e.status===t);a.length>0&&e.push({id:t,count:a.length,plants:a})}return e}),be=a(()=>h.activePlants.slice(0,6)),fe=a(()=>{const e=[];return 0===h.activePlants.length&&e.push({id:"start",type:"info",title:"Getting Started",text:"Add your first strain to the catalog, then create plants from seeds or clones."}),ee.value>0&&e.push({id:"flower",type:"tip",title:"Flowering Stage",text:"Check trichomes regularly. Harvest when 70-80% are cloudy with some amber."}),h.activePlants.some(e=>"germinating"===e.status)&&e.push({id:"germ",type:"tip",title:"Germination",text:"Keep temps at 24-28C and humidity above 70%. Taproots usually appear in 24-72h."}),0===e.length&&e.push({id:"observe",type:"reminder",title:"Regular Observations",text:"Log observations every 2-3 days to track plant health and catch issues early."}),e.slice(0,3)});function M(e){u("openPlant",e)}return(e,t,a,s)=>{const O=pa,Y=xa,ae=ma,le=Sa,ye=Pa,$e=La,ke=Ma,Se=za;t(`<div${z(n({class:"p-3 lg:p-6 space-y-4 lg:space-y-5"},s))}>`),0===d(h).activePlants.length&&0===d(h).strains.length?t(N(O,{onStart:e=>u("openNewPlant")},null,a)):(t("\x3c!--[--\x3e"),d(F)?t(N(Y,{onDismiss:b,onAction:l},null,a)):t("\x3c!----\x3e"),t('<div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"><div class="flex items-center gap-2 lg:gap-4 flex-wrap"><button class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-800/60 hover:bg-gray-700/60 transition-colors">'),t(N(d(re),{class:"w-4 h-4 text-spider-green-400"},null,a)),t(`<span class="text-sm font-medium text-white">${B(d(h).activePlants.length)}</span><span class="text-xs text-gray-400">plants</span></button><div class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-800/60">`),t(N(d(ne),{class:"w-4 h-4 text-pink-400"},null,a)),t(`<span class="text-sm font-medium text-white">${B(d(ee))}</span><span class="text-xs text-gray-400">flowering</span></div>`),d(h).urgentAlerts.length>0?(t('<button class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-red-900/40 hover:bg-red-800/40 transition-colors animate-pulse">'),t(N(d(Le),{class:"w-4 h-4 text-red-400"},null,a)),t(`<span class="text-sm font-medium text-red-300">${B(d(h).urgentAlerts.length)}</span><span class="text-xs text-red-400">alerts</span></button>`)):t("\x3c!----\x3e"),d(se)>0?(t('<div class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-800/60">'),t(N(d(Te),{class:"w-4 h-4 text-amber-400"},null,a)),t(`<span class="text-sm font-medium text-white">${B(d(se).toFixed(1))}</span><span class="text-xs text-gray-400">best</span></div>`)):t("\x3c!----\x3e"),t('</div><div class="flex items-center gap-2">'),d(Z)?(t('<button class="flex items-center gap-1.5 px-3 py-1.5 text-xs text-spider-green-400 hover:text-spider-green-300 bg-spider-green-500/10 hover:bg-spider-green-500/20 rounded-lg transition-colors">'),t(N(d(Oe),{class:"w-4 h-4"},null,a)),t("<span>Guide</span></button>")):t("\x3c!----\x3e"),t(`<button class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gradient-to-r from-purple-900/50 to-indigo-900/50 border border-purple-500/30 hover:border-purple-400/50 transition-all"><div class="w-6 h-6 rounded-md bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center"><span class="text-xs font-bold text-white">${B(d(ce))}</span></div><div class="hidden sm:block"><p class="text-[10px] text-purple-300/80 uppercase tracking-wider leading-none">${B(d(ge))}</p><div class="w-16 h-1 mt-1 rounded-full bg-gray-800/80 overflow-hidden"><div class="h-full rounded-full bg-gradient-to-r from-purple-500 to-pink-500" style="${te({width:`${d(pe)}%`})}"></div></div></div>`),t(N(d(he),{class:"w-3.5 h-3.5 text-purple-400/60"},null,a)),t('</button></div></div><div class="grid grid-cols-1 lg:grid-cols-5 gap-4 lg:gap-5"><div class="lg:col-span-3 space-y-4 lg:space-y-5"><section class="bg-gray-800/30 rounded-2xl border border-gray-700/40 p-4"><div class="flex items-center justify-between mb-3"><div class="flex items-center gap-2"><div class="w-7 h-7 rounded-lg bg-spider-green-500/20 flex items-center justify-center">'),t(N(d(ve),{class:"w-4 h-4 text-spider-green-400"},null,a)),t('</div><h3 class="text-sm font-semibold text-white">Plants by Stage</h3></div><button class="text-xs text-spider-green-400 hover:text-spider-green-300 transition-colors"> View all </button></div>'),d(h).activePlants.length>0?(t('<div class="space-y-2">\x3c!--[--\x3e'),G(d(ue),e=>{t(N(ae,{key:e.id,stage:e.id,count:e.count,total:d(h).activePlants.length,plants:e.plants,onClick:t=>function(e){h.setFilter({stage:e}),h.activeTab="plants"}(e.id)},null,a))}),t('\x3c!--]--\x3e<p class="flex items-center gap-1.5 text-[11px] text-gray-500 mt-2">'),t(N(d(we),{class:"w-3 h-3 text-yellow-400/70"},null,a)),t(" Click a stage to filter plants </p></div>")):(t('<div class="text-center py-6">'),t(N(d(re),{class:"w-8 h-8 mx-auto mb-2 text-spider-green-400/50"},null,a)),t('<p class="text-sm text-gray-400">No active plants</p><button class="mt-2 text-xs text-spider-green-400 hover:text-spider-green-300"> + Add your first plant </button></div>')),t("</section>"),d(h).activePlants.length>0?(t('<section class="bg-gray-800/30 rounded-2xl border border-gray-700/40 p-4"><div class="flex items-center justify-between mb-3"><div class="flex items-center gap-2"><div class="w-7 h-7 rounded-lg bg-purple-500/20 flex items-center justify-center">'),t(N(d(Me),{class:"w-4 h-4 text-purple-400"},null,a)),t('</div><h3 class="text-sm font-semibold text-white">My Plants</h3></div><div class="flex items-center gap-1">\x3c!--[--\x3e'),G(["grid","list"],e=>{t(`<button class="${K(["p-1.5 rounded transition-colors",d(y)===e?"text-spider-green-400 bg-spider-green-500/20":"text-gray-500 hover:text-gray-300"])}">`),t(N(d("grid"===e?Me:xe),{class:"w-3.5 h-3.5"},null,a)),t("</button>")}),t("\x3c!--]--\x3e</div></div>"),"grid"===d(y)?(t('<div class="grid grid-cols-2 sm:grid-cols-3 gap-2">\x3c!--[--\x3e'),G(d(be),e=>{t(N(le,{key:e.id,plant:e,variant:"mini",onClick:t=>M(e)},null,a))}),t("\x3c!--]--\x3e</div>")):(t('<div class="space-y-1.5">\x3c!--[--\x3e'),G(d(be),e=>{t(N(le,{key:e.id,plant:e,variant:"mini-row",onClick:t=>M(e)},null,a))}),t("\x3c!--]--\x3e</div>")),d(h).activePlants.length>6?t(`<div class="mt-3 text-center"><button class="text-xs text-gray-400 hover:text-white transition-colors"> + ${B(d(h).activePlants.length-6)} more plants </button></div>`):t("\x3c!----\x3e"),t("</section>")):t("\x3c!----\x3e"),d(h).topPerformers.length>0?(t('<section class="bg-gray-800/30 rounded-2xl border border-gray-700/40 p-4"><div class="flex items-center justify-between mb-3"><div class="flex items-center gap-2"><div class="w-7 h-7 rounded-lg bg-amber-500/20 flex items-center justify-center">'),t(N(d(Te),{class:"w-4 h-4 text-amber-400"},null,a)),t('</div><h3 class="text-sm font-semibold text-white">Top Performers</h3></div><button class="text-xs text-amber-400 hover:text-amber-300 transition-colors"> Pheno Hunt </button></div><div class="space-y-2">\x3c!--[--\x3e'),G(d(h).topPerformers.slice(0,3),(e,s)=>{t(N(ye,{key:e.id,plant:e,rank:s+1,onClick:t=>M(e)},null,a))}),t("\x3c!--]--\x3e</div></section>")):t("\x3c!----\x3e"),t(`</div><div class="lg:col-span-2 space-y-4 lg:space-y-5"><section class="bg-gray-800/30 rounded-2xl border border-gray-700/40 p-4"><div class="flex items-center justify-between mb-3"><div class="flex items-center gap-2"><div class="${K(["w-7 h-7 rounded-lg flex items-center justify-center",d(h).unreadNotifications.length>0?"bg-red-500/20":"bg-gray-600/20"])}">`),t(N(d(de),{class:["w-4 h-4",d(h).unreadNotifications.length>0?"text-red-400":"text-gray-400"]},null,a)),t('</div><h3 class="text-sm font-semibold text-white">Alerts</h3>'),d(h).unreadNotifications.length>0?t(`<span class="px-1.5 py-0.5 rounded-full bg-red-500/20 text-[10px] font-medium text-red-300">${B(d(h).unreadNotifications.length)}</span>`):t("\x3c!----\x3e"),t("</div></div>"),d(h).notifications.length>0?(t('<div class="space-y-2 max-h-48 overflow-y-auto">\x3c!--[--\x3e'),G(d(h).notifications.slice(0,4),e=>{t(N($e,{key:e.id,alert:e,onClick:t=>function(e){h.acknowledgeNotification(e.id),e.plant_id&&h.fetchPlant(e.plant_id)}(e),onDismiss:t=>d(h).acknowledgeNotification(e.id)},null,a))}),t("\x3c!--]--\x3e</div>")):(t('<div class="text-center py-4">'),t(N(d(Ce),{class:"w-6 h-6 mx-auto mb-1.5 text-spider-green-400/60"},null,a)),t('<p class="text-xs text-gray-400">All clear!</p></div>')),t('</section><section class="bg-gray-800/30 rounded-2xl border border-gray-700/40 p-4"><div class="flex items-center gap-2 mb-3"><div class="w-7 h-7 rounded-lg bg-blue-500/20 flex items-center justify-center">'),t(N(d(Re),{class:"w-4 h-4 text-blue-400"},null,a)),t('</div><h3 class="text-sm font-semibold text-white">Quick Actions</h3></div><div class="grid grid-cols-2 gap-2"><button class="flex items-center gap-2 px-3 py-2.5 rounded-xl bg-spider-green-600/20 hover:bg-spider-green-600/30 border border-spider-green-500/30 text-left transition-all">'),t(N(d(oe),{class:"w-4 h-4 text-spider-green-400"},null,a)),t('<span class="text-xs font-medium text-white">New Plant</span></button><button class="flex items-center gap-2 px-3 py-2.5 rounded-xl bg-purple-600/20 hover:bg-purple-600/30 border border-purple-500/30 text-left transition-all">'),t(N(d(ie),{class:"w-4 h-4 text-purple-400"},null,a)),t('<span class="text-xs font-medium text-white">New Strain</span></button>'),d(h).activePlants.length>0?(t('<button class="flex items-center gap-2 px-3 py-2.5 rounded-xl bg-blue-600/20 hover:bg-blue-600/30 border border-blue-500/30 text-left transition-all">'),t(N(d(Fe),{class:"w-4 h-4 text-blue-400"},null,a)),t('<span class="text-xs font-medium text-white">Log Note</span></button>')):t("\x3c!----\x3e"),t('<button class="flex items-center gap-2 px-3 py-2.5 rounded-xl bg-gray-600/20 hover:bg-gray-600/30 border border-gray-500/30 text-left transition-all">'),t(N(d(ze),{class:"w-4 h-4 text-gray-400"},null,a)),t('<span class="text-xs font-medium text-white">Strains</span></button></div></section><section class="bg-gray-800/30 rounded-2xl border border-gray-700/40"><button class="w-full flex items-center justify-between p-4"><div class="flex items-center gap-2"><div class="w-7 h-7 rounded-lg bg-yellow-500/20 flex items-center justify-center">'),t(N(d(we),{class:"w-4 h-4 text-yellow-400"},null,a)),t('</div><h3 class="text-sm font-semibold text-white">Growing Tips</h3></div>'),t(N(d(Ie),{class:["w-4 h-4 text-gray-400 transition-transform",d(L)?"rotate-180":""]},null,a)),t("</button>"),d(L)?(t('<div class="px-4 pb-4 overflow-hidden"><div class="space-y-2">\x3c!--[--\x3e'),G(d(fe),e=>{t(N(ke,{key:e.id,tip:e},null,a))}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),t("</section></div></div>\x3c!--]--\x3e")),X(t,e=>{d(_)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70"><div class="w-full max-w-lg max-h-[90vh] overflow-y-auto bg-gray-900 rounded-2xl shadow-2xl border border-gray-800"><div class="sticky top-0 z-10 flex items-center justify-between px-6 py-4 border-b border-gray-800 bg-gray-900"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center">'),e(N(d(re),{class:"w-5 h-5 text-white"},null,a)),e(`</div><div><h2 class="text-lg font-semibold text-white">Your Progress</h2><p class="text-xs text-gray-400">Level ${B(d(ce))} - ${B(d(ge))}</p></div></div><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">`),e(N(d(me),{class:"w-5 h-5"},null,a)),e('</button></div><div class="p-6">'),e(N(Se,null,null,a)),e("</div></div></div>")):e("\x3c!----\x3e")},"body",!1,a),t("</div>")}}}),Ea=Ia.setup;Ia.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/dashboard/LabDashboard.vue"),Ea?Ea(e,t):void 0};const Ha=Object.assign(Ia,{__name:"LabDashboard"}),Ba=e({__name:"LabPlantCard",__ssrInlineRender:!0,props:{plant:{},active:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const s=e,y=a(()=>sa[s.plant.status]||sa.germinating),_=a(()=>la[s.plant.selection_status]||la.active),L=a(()=>{const e=s.plant.status;return["germinating","seedling"].includes(e)?"/lab/plants/germ.png":["early_veg","mid_veg","late_veg"].includes(e)?"/lab/plants/veg.png":"pre_flower"===e?"/lab/plants/preflower.png":["early_flower","mid_flower"].includes(e)?"/lab/plants/prebuds.png":["late_flower","flush"].includes(e)?"/lab/plants/buds.png":["harvest","drying","curing"].includes(e)?"/lab/plants/croptime.png":"/lab/plants/veg.png"}),O=a(()=>{const e=s.plant.selection_status;return"keeper"===e?{label:"Elite",icon:Ue,color:"text-yellow-400",bg:"bg-yellow-500/30"}:"warning"===e||"cull_candidate"===e?{label:"At Risk",icon:Le,color:"text-orange-400",bg:"bg-orange-500/30"}:"watch"===e?{label:"Watch",icon:et,color:"text-yellow-400",bg:"bg-yellow-500/30"}:{label:"Healthy",icon:Ce,color:"text-green-400",bg:"bg-green-500/30"}}),F=a(()=>{const e=y.value;if(!e.minDays||!e.maxDays)return 0;const t=(e.minDays+e.maxDays)/2,a=s.plant.current_day/t*100;return Math.min(100,a)}),X=a(()=>F.value>=100?"#ef4444":F.value>=80?"#f59e0b":"#22c55e"),ee=a(()=>(s.plant.current_day-1)%7+1),ae=a(()=>{const e=s.plant.final_score||0;return e>=90?"bg-gradient-to-r from-spider-green-500/30 to-emerald-500/30 text-spider-green-400":e>=80?"bg-gradient-to-r from-green-500/30 to-lime-500/30 text-green-400":e>=70?"bg-gradient-to-r from-lime-500/30 to-yellow-500/30 text-lime-400":e>=60?"bg-gradient-to-r from-yellow-500/30 to-amber-500/30 text-yellow-400":"bg-gradient-to-r from-orange-500/30 to-red-500/30 text-orange-400"}),se=a(()=>(s.plant.current_day||0)>3?{text:"Add an observation",icon:Ye,color:"text-teal-400"}:!s.plant.final_score&&["late_flower","flush","harvest"].includes(s.plant.status)?{text:"Score this plant",icon:ie,color:"text-purple-400"}:null);return(t,a,s,le)=>{a(`<button${z(n({"data-tutorial":"plant-card",class:["group relative flex flex-col p-3 rounded-2xl text-left transition-all duration-300",e.active?"bg-spider-green-500/10 border-2 border-spider-green-500/50 shadow-lg shadow-spider-green-500/10":"bg-gray-800/40 backdrop-blur-sm border border-gray-700/50 hover:border-gray-600/50 hover:bg-gray-800/60","hover:shadow-xl hover:scale-[1.02]"]},le))}>`),e.plant.is_keeper?a('<div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-yellow-500/10 via-transparent to-transparent pointer-events-none"></div>'):a("\x3c!----\x3e"),a(`<div class="${K(["absolute top-2 right-2 w-2.5 h-2.5 rounded-full z-10",d(_).color.replace("text-","bg-"),"keeper"===e.plant.selection_status&&"animate-pulse"])}"${Y("title",d(_).label)}></div><div class="relative aspect-square rounded-xl bg-white mb-3 overflow-hidden flex items-center justify-center">`),e.plant.cover_photo?a(`<img${Y("src",e.plant.cover_photo)}${Y("alt",e.plant.plant_code)} class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110">`):a(`<img${Y("src",d(L))}${Y("alt",d(y).label)} class="w-full h-full object-contain p-2">`),a(`<div class="absolute top-2 left-2 flex items-center gap-1"><div class="${K(["flex items-center gap-1 px-1.5 py-0.5 rounded-lg backdrop-blur-md text-[9px] font-bold",d(O).bg])}">`),Z(a,u(h(d(O).icon),{class:"w-3 h-3"},null),s),a(`<span class="${K(d(O).color)}">${B(d(O).label)}</span></div></div><div class="absolute bottom-2 right-2"><div class="relative w-8 h-8"><svg class="w-8 h-8 -rotate-90 transform"><circle cx="16" cy="16" r="14" fill="none" stroke="rgba(255,255,255,0.2)" stroke-width="3"></circle><circle cx="16" cy="16" r="14" fill="none"${Y("stroke",d(X))} stroke-width="3" stroke-linecap="round"${Y("stroke-dasharray",.88*d(F)+" 88")} class="transition-all duration-500"></circle></svg><span class="absolute inset-0 flex items-center justify-center text-[8px] font-bold text-white drop-shadow">${B(Math.round(d(F)))}% </span></div></div>`),e.plant.is_keeper?(a('<div class="absolute top-2 right-2 w-6 h-6 rounded-full bg-gradient-to-br from-yellow-400 to-amber-500 flex items-center justify-center shadow-lg shadow-yellow-500/40 animate-pulse">'),a(N(d(Ue),{class:"w-3.5 h-3.5 text-white"},null,s)),a("</div>")):a("\x3c!----\x3e"),a(`</div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><h4 class="text-sm font-bold text-white truncate flex-1">${B(e.plant.plant_code)}</h4>`),e.plant.final_score?(a(`<div class="${K(["flex items-center gap-0.5 px-1.5 py-0.5 rounded-lg text-[10px] font-bold",d(ae)])}">`),a(N(d(Te),{class:"w-2.5 h-2.5"},null,s)),a(` ${B(e.plant.final_score.toFixed(1))}</div>`)):a("\x3c!----\x3e"),a("</div>"),e.plant.pheno_label?a(`<p class="text-[10px] text-purple-400/80 truncate mb-1"> &quot;${B(e.plant.pheno_label)}&quot; </p>`):a("\x3c!----\x3e"),a(`<p class="text-xs text-gray-500 truncate mb-2">${B(e.plant.strain_name||"Unknown strain")}</p><div class="flex items-center justify-between gap-2"><div class="${K(["flex items-center gap-1.5 px-2 py-1 rounded-lg",`bg-${d(y).bgColor}`])}"><span class="text-sm">${B(d(y).icon)}</span><span class="${K(["text-[10px] font-medium",`text-${d(y).color}`])}">${B(d(y).shortLabel)}</span></div><div class="flex items-center gap-1"><div class="flex gap-0.5 h-3">\x3c!--[--\x3e`),G(7,e=>{a(`<div class="${K(["w-0.5 rounded-full transition-all",e<=d(ee)?"bg-spider-green-400":"bg-gray-700"])}" style="${te({height:`${Math.min(100,40+10*e)}%`})}"></div>`)}),a(`\x3c!--]--\x3e</div><span class="text-[10px] font-medium text-gray-400">D${B(e.plant.current_day)}</span></div></div>`),d(se)?(a('<div class="mt-2 flex items-center gap-1.5 p-1.5 rounded-lg bg-gray-800/60">'),Z(a,u(h(d(se).icon),{class:["w-3 h-3",d(se).color]},null),s),a(`<span class="text-[9px] text-gray-400 truncate">${B(d(se).text)}</span></div>`)):a("\x3c!----\x3e"),a("</div>"),"unknown"!==e.plant.sex?a(`<div class="${K(["absolute bottom-3 right-3 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold","female"===e.plant.sex?"bg-pink-500/20 text-pink-400 ring-2 ring-pink-500/30":"male"===e.plant.sex?"bg-blue-500/20 text-blue-400 ring-2 ring-blue-500/30":"bg-orange-500/20 text-orange-400 ring-2 ring-orange-500/30"])}">${B("female"===e.plant.sex?"â™€":"male"===e.plant.sex?"â™‚":"âš¥")}</div>`):a("\x3c!----\x3e"),e.active?a('<div class="absolute -inset-0.5 rounded-2xl bg-gradient-to-r from-spider-green-500 to-emerald-500 opacity-20 blur-sm pointer-events-none"></div>'):a("\x3c!----\x3e"),a("</button>")}}}),Ga=Ba.setup;Ba.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabPlantCard.vue"),Ga?Ga(e,t):void 0};const Wa=Object.assign(Ba,{__name:"LabPlantCard"}),Ua=e({__name:"LabPlantListRow",__ssrInlineRender:!0,props:{plant:{},active:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const s=e,u=a(()=>sa[s.plant.status]),h=a(()=>la[s.plant.selection_status]),y=a(()=>{const e=s.plant.final_score||0;return e>=90?"text-spider-green-400":e>=80?"text-green-400":e>=70?"text-lime-400":e>=60?"text-yellow-400":"text-orange-400"});return(t,a,s,_)=>{a(`<button${z(n({class:["group w-full flex items-center gap-3 p-3 rounded-xl transition-all duration-200 text-left",e.active?"bg-spider-green-500/10 border-2 border-spider-green-500/50":"bg-gray-800/40 hover:bg-gray-800/60 border border-gray-700/50 hover:border-gray-600/50"]},_))}><div class="w-10 h-10 rounded-xl bg-gray-700/50 flex items-center justify-center text-xl shrink-0">${B(d(u).icon)}</div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-0.5"><span class="font-semibold text-white">${B(e.plant.plant_code)}</span>`),e.plant.pheno_label?a(`<span class="text-xs text-gray-500">&quot;${B(e.plant.pheno_label)}&quot;</span>`):a("\x3c!----\x3e"),e.plant.is_keeper?a('<span class="text-yellow-400">â˜…</span>'):a("\x3c!----\x3e"),a(`</div><div class="flex items-center gap-2 text-xs text-gray-400"><span>${B(e.plant.strain_name||"Unknown")}</span><span class="text-gray-600">â€¢</span><span class="${K(`text-${d(u).color}`)}">${B(d(u).label)}</span><span class="text-gray-600">â€¢</span><span>Day ${B(e.plant.current_day)}</span>`),e.plant.zone_name?a('<span class="text-gray-600">â€¢</span>'):a("\x3c!----\x3e"),e.plant.zone_name?a(`<span>${B(e.plant.zone_name)}</span>`):a("\x3c!----\x3e"),a("</div></div>"),"unknown"!==e.plant.sex?a(`<div class="${K(["w-7 h-7 rounded-full flex items-center justify-center shrink-0","female"===e.plant.sex?"bg-pink-500/20 text-pink-400":"male"===e.plant.sex?"bg-blue-500/20 text-blue-400":"bg-orange-500/20 text-orange-400"])}">${B("female"===e.plant.sex?"â™€":"male"===e.plant.sex?"â™‚":"âš¥")}</div>`):a("\x3c!----\x3e"),e.plant.final_score?a(`<div class="text-right shrink-0"><span class="${K(["text-lg font-bold",d(y)])}">${B(e.plant.final_score.toFixed(1))}</span></div>`):a("\x3c!----\x3e"),a(`<div class="${K(["w-2.5 h-2.5 rounded-full shrink-0",d(h).color.replace("text-","bg-")])}"></div>`),a(N(d(he),{class:"w-5 h-5 text-gray-600 group-hover:text-gray-400 transition-colors shrink-0"},null,s)),a("</button>")}}}),Ya=Ua.setup;Ua.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabPlantListRow.vue"),Ya?Ya(e,t):void 0};const qa=Object.assign(Ua,{__name:"LabPlantListRow"}),Va=e({__name:"LabStageGuide",__ssrInlineRender:!0,props:{plant:{}},emits:["advanceStage"],setup(e,{emit:y}){const _=e,L=a(()=>sa[_.plant.status]||sa.germinating),O=a(()=>{const e=L.value;if(!e.minDays||!e.maxDays)return 0;const t=(e.minDays+e.maxDays)/2;return _.plant.current_day/t*100}),F=a(()=>{var e;const t={germinating:{temp:"24-28Â°C",humidity:"70-80%",vpd:"0.4-0.8"},seedling:{temp:"22-26Â°C",humidity:"65-75%",vpd:"0.5-0.9"},early_veg:{temp:"22-28Â°C",humidity:"55-70%",vpd:"0.8-1.2"},mid_veg:{temp:"22-28Â°C",humidity:"50-65%",vpd:"0.9-1.3"},late_veg:{temp:"22-28Â°C",humidity:"50-60%",vpd:"1.0-1.4"},pre_flower:{temp:"20-26Â°C",humidity:"45-55%",vpd:"1.0-1.4"},early_flower:{temp:"20-26Â°C",humidity:"40-50%",vpd:"1.2-1.5"},mid_flower:{temp:"20-26Â°C",humidity:"40-50%",vpd:"1.2-1.5"},late_flower:{temp:"18-24Â°C",humidity:"35-45%",vpd:"1.3-1.6"},flush:{temp:"18-24Â°C",humidity:"35-45%",vpd:"1.3-1.6"},harvest:{temp:"18-22Â°C",humidity:"45-55%",vpd:"â€”"},drying:{temp:"18-22Â°C",humidity:"55-65%",vpd:"â€”"},curing:{temp:"18-22Â°C",humidity:"58-65%",vpd:"â€”"}};return null!=(e=t[_.plant.status])?e:t.early_veg}),Y=a(()=>{const e=_.plant.status,t={germinating:[{title:"Keep it dark",text:"Seeds germinate best in darkness until taproot emerges",icon:Ke,color:"text-yellow-400"},{title:"High humidity",text:"Use a dome or paper towel method to maintain moisture",icon:bt,color:"text-blue-400"},{title:"Watch for taproot",text:"Plant when root is 1-2cm long, root pointing down",icon:re,color:"text-green-400"}],seedling:[{title:"Gentle lighting",text:"Start with 18-24h light at low intensity, increase gradually",icon:Ke,color:"text-yellow-400"},{title:"Don't overwater",text:"Let medium dry slightly between waterings",icon:ft,color:"text-blue-400"},{title:"No nutrients yet",text:"Wait until 2-3 true leaf sets before light feeding",icon:ie,color:"text-purple-400"}],early_veg:[{title:"Increase light",text:"Gradually increase intensity as plant establishes",icon:Ke,color:"text-yellow-400"},{title:"Start training",text:"Begin LST once you have 4-5 nodes",icon:Je,color:"text-orange-400"},{title:"Light nutrients",text:"Start with 25-50% recommended dose",icon:ie,color:"text-purple-400"}],mid_veg:[{title:"Full veg nutrients",text:"Increase to full vegetative feeding schedule",icon:ie,color:"text-purple-400"},{title:"Continue training",text:"Maintain canopy evenness with LST/topping",icon:Je,color:"text-orange-400"},{title:"Check roots",text:"Watch for root bound signs if in containers",icon:re,color:"text-green-400"}],late_veg:[{title:"Final defoliation",text:"Remove large fan leaves blocking bud sites",icon:Je,color:"text-orange-400"},{title:"Pre-flower check",text:"Watch for sex signs before flip",icon:Ye,color:"text-teal-400"},{title:"Prepare for flip",text:"Top dress or prepare bloom nutrients",icon:ie,color:"text-purple-400"}],pre_flower:[{title:"12/12 light cycle",text:"Maintain strict light schedule, no interruptions",icon:Ke,color:"text-yellow-400"},{title:"Switch to bloom",text:"Transition to bloom nutrients over 1-2 weeks",icon:ie,color:"text-purple-400"},{title:"Sex confirmation",text:"Confirm female before heavy investment",icon:Ye,color:"text-teal-400"}],early_flower:[{title:"Stretch management",text:"Plants may double in height, adjust lights",icon:Ke,color:"text-yellow-400"},{title:"Lollipop lower",text:"Remove lower growth that won't get light",icon:Je,color:"text-orange-400"},{title:"Increase P-K",text:"Boost phosphorus and potassium for bud development",icon:ie,color:"text-purple-400"}],mid_flower:[{title:"Peak nutrients",text:"This is when buds fatten most, maximize feeding",icon:ie,color:"text-purple-400"},{title:"Support branches",text:"Heavy buds may need stakes or nets",icon:re,color:"text-green-400"},{title:"Watch humidity",text:"Lower RH to prevent mold in dense buds",icon:bt,color:"text-blue-400"}],late_flower:[{title:"Reduce nitrogen",text:"Cut back on N to improve flavor and color",icon:ie,color:"text-purple-400"},{title:"Check trichomes",text:"Start monitoring with magnification",icon:Ye,color:"text-teal-400"},{title:"Prepare for flush",text:"Plan flush timing based on trichome development",icon:ft,color:"text-blue-400"}],flush:[{title:"Plain water only",text:"No nutrients, pH balanced water for 7-14 days",icon:ft,color:"text-blue-400"},{title:"Monitor trichomes",text:"70-80% cloudy with some amber is ideal",icon:Ye,color:"text-teal-400"},{title:"Prepare drying room",text:"Set up space with proper temp/humidity control",icon:re,color:"text-green-400"}],harvest:[{title:"Harvest in dark",text:"Cut at end of dark period for best terpenes",icon:Ke,color:"text-yellow-400"},{title:"Wet trim vs dry",text:"Choose method based on humidity and preference",icon:Je,color:"text-orange-400"},{title:"Document everything",text:"Take final photos and notes for your records",icon:Ye,color:"text-teal-400"}],drying:[{title:"Slow and steady",text:"Aim for 10-14 days, avoid rapid drying",icon:bt,color:"text-blue-400"},{title:"Monitor daily",text:"Check for mold and adjust conditions as needed",icon:Ye,color:"text-teal-400"},{title:"Stem snap test",text:"Ready when stems snap but don't break clean",icon:re,color:"text-green-400"}],curing:[{title:"Burp daily",text:"Open jars for 15-30 min daily for first 2 weeks",icon:bt,color:"text-blue-400"},{title:"Monitor humidity",text:"Keep jars at 58-62% RH with Boveda if needed",icon:re,color:"text-green-400"},{title:"Patience pays",text:"Minimum 2 weeks, 4-8 weeks is better",icon:ie,color:"text-purple-400"}]};return t[e]||t.early_veg}),X=t([]);s(()=>_.plant.status,e=>{X.value=({germinating:["Seed is moist","Temperature is 24-28Â°C","Taproot visible"],seedling:["First true leaves appeared","Light set to 18-24h","No overwatering"],early_veg:["Started light nutrients","Began LST training","Checked for pests"],mid_veg:["Topped/FIMed if planned","Maintaining even canopy","Roots not bound"],late_veg:["Final defoliation done","Sex confirmed","Ready for flip"],pre_flower:["Light schedule is 12/12","Bloom nutrients started","No light leaks"],early_flower:["Stretch managed","Lower growth removed","Support in place"],mid_flower:["Peak feeding schedule","Branches supported","Humidity controlled"],late_flower:["Trichomes checked daily","Nitrogen reduced","Flush planned"],flush:["Plain water only","Monitoring trichomes","Drying space ready"],harvest:["Harvested at dark period","Documented final state","Trimming complete"],drying:["Temp 18-22Â°C","Humidity 55-65%","Checking for mold daily"],curing:["Jars burped daily","Humidity monitored","Patience maintained"]}[e]||[]).map(e=>({text:e,checked:!1}))},{immediate:!0});const se=a(()=>{const e=aa.indexOf(_.plant.status);if(e<0||e>=aa.length-1)return null;const t=aa[e+1];return sa[t]}),le=a(()=>{const e=L.value;return e.maxDays?Math.max(0,e.maxDays-_.plant.current_day):0});return(t,a,s,y)=>{a(`<div${z(n({class:"p-4 rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 border border-gray-700/50 backdrop-blur-md"},y))}><div class="flex items-center gap-3 mb-4"><div class="${K(["w-12 h-12 rounded-xl flex items-center justify-center text-2xl",`bg-${d(L).bgColor}`])}">${B(d(L).icon)}</div><div><h3 class="${K(["text-lg font-bold",`text-${d(L).color}`])}">${B(d(L).label)}</h3><p class="text-xs text-gray-400">Day ${B(e.plant.current_day)} of approx. ${B(d(L).maxDays)} days</p></div></div><div class="mb-4"><div class="flex items-center justify-between text-[10px] text-gray-500 mb-1"><span>Stage Progress</span><span>${B(Math.round(d(O)))}%</span></div><div class="h-2 rounded-full bg-gray-700/50 overflow-hidden"><div class="${K(["h-full rounded-full transition-all duration-500",d(O)>=100?"bg-gradient-to-r from-red-500 to-orange-500":d(O)>=80?"bg-gradient-to-r from-amber-500 to-yellow-500":"bg-gradient-to-r from-spider-green-500 to-emerald-500"])}" style="${te({width:`${Math.min(100,d(O))}%`})}"></div></div></div><div class="grid grid-cols-3 gap-2 mb-4"><div class="p-2 rounded-xl bg-gray-800/50 text-center"><p class="text-lg font-bold text-red-400">${B(d(F).temp)}</p><p class="text-[9px] text-gray-500">Target Temp</p></div><div class="p-2 rounded-xl bg-gray-800/50 text-center"><p class="text-lg font-bold text-blue-400">${B(d(F).humidity)}</p><p class="text-[9px] text-gray-500">Target RH</p></div><div class="p-2 rounded-xl bg-gray-800/50 text-center"><p class="text-lg font-bold text-teal-400">${B(d(F).vpd)}</p><p class="text-[9px] text-gray-500">Target VPD</p></div></div><div class="space-y-2"><h4 class="text-xs font-semibold text-gray-400 uppercase tracking-wider flex items-center gap-2">`),a(N(d(we),{class:"w-3.5 h-3.5 text-yellow-400"},null,s)),a(` Tips for ${B(d(L).label)}</h4>\x3c!--[--\x3e`),G(d(Y),(e,t)=>{a('<div class="flex items-start gap-2 p-2 rounded-xl bg-gray-800/30 hover:bg-gray-800/50 transition-colors">'),Z(a,u(h(e.icon),{class:["w-4 h-4 shrink-0 mt-0.5",e.color]},null),s),a(`<div><p class="text-xs font-medium text-white">${B(e.title)}</p><p class="text-[10px] text-gray-400">${B(e.text)}</p></div></div>`)}),a('\x3c!--]--\x3e</div><div class="mt-4 pt-4 border-t border-gray-700/50"><h4 class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 flex items-center gap-2">'),a(N(d(qe),{class:"w-3.5 h-3.5 text-spider-green-400"},null,s)),a(' Stage Checklist </h4><div class="space-y-1.5">\x3c!--[--\x3e'),G(d(X),(e,t)=>{a(`<label class="flex items-center gap-2 p-2 rounded-lg hover:bg-gray-800/30 cursor-pointer transition-colors"><input type="checkbox"${ee(Array.isArray(e.checked)?ae(e.checked,null):e.checked)?" checked":""} class="w-4 h-4 rounded border-gray-600 bg-gray-700 text-spider-green-500 focus:ring-spider-green-500 focus:ring-offset-0 focus:ring-offset-transparent"><span class="${K(["text-xs",e.checked?"text-gray-500 line-through":"text-gray-300"])}">${B(e.text)}</span></label>`)}),a("\x3c!--]--\x3e</div></div>"),d(se)?a(`<div class="mt-4 p-3 rounded-xl bg-gradient-to-r from-purple-900/30 to-pink-900/30 border border-purple-500/20"><div class="flex items-center justify-between"><div class="flex items-center gap-2"><span class="text-lg">${B(d(se).icon)}</span><div><p class="text-xs font-medium text-white">Next: ${B(d(se).label)}</p><p class="text-[10px] text-gray-400">Ready in ~${B(d(le))} days</p></div></div><button${ee(d(O)<80)?" disabled":""} class="${K(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",d(O)>=80?"bg-purple-600 hover:bg-purple-500 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"])}"> Advance Stage </button></div></div>`):a("\x3c!----\x3e"),a("</div>")}}}),Ka=Va.setup;Va.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabStageGuide.vue"),Ka?Ka(e,t):void 0};const Ja=Object.assign(Va,{__name:"LabStageGuide"}),Qa=e({__name:"LabPhotoLightbox",__ssrInlineRender:!0,props:{show:{type:Boolean},photos:{},initialIndex:{default:0},canDelete:{type:Boolean,default:!1}},emits:["close","delete"],setup(e,{emit:a}){const n=e,u=t(n.initialIndex),h=t(!1);return s(()=>n.initialIndex,e=>{u.value=e}),s(()=>n.show,e=>{e&&(u.value=n.initialIndex)}),(t,a,s,n)=>{X(a,t=>{e.show?(t('<div class="fixed inset-0 z-[100] flex items-center justify-center bg-black/95"><button class="absolute top-4 right-4 p-3 rounded-full bg-gray-800/80 hover:bg-gray-700 text-white transition-colors z-10">'),t(N(d(me),{class:"w-6 h-6"},null,s)),t("</button>"),e.photos.length>1&&d(u)>0?(t('<button class="absolute left-4 p-3 rounded-full bg-gray-800/80 hover:bg-gray-700 text-white transition-colors">'),t(N(d(De),{class:"w-6 h-6"},null,s)),t("</button>")):t("\x3c!----\x3e"),e.photos.length>1&&d(u)<e.photos.length-1?(t('<button class="absolute right-4 p-3 rounded-full bg-gray-800/80 hover:bg-gray-700 text-white transition-colors">'),t(N(d(he),{class:"w-6 h-6"},null,s)),t("</button>")):t("\x3c!----\x3e"),t(`<div class="max-w-[90vw] max-h-[85vh] relative"><img${Y("src",e.photos[d(u)])}${Y("alt",`Photo ${d(u)+1}`)} class="max-w-full max-h-[85vh] object-contain rounded-lg"></div><div class="absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent"><div class="flex items-center justify-between max-w-4xl mx-auto"><div class="text-white text-sm">${B(d(u)+1)} / ${B(e.photos.length)}</div>`),e.photos.length>1?(t('<div class="flex items-center gap-2">\x3c!--[--\x3e'),G(e.photos,(e,a)=>{t(`<button class="${K(["w-12 h-12 rounded-lg overflow-hidden border-2 transition-all",a===d(u)?"border-spider-green-500":"border-transparent opacity-60 hover:opacity-100"])}"><img${Y("src",e)} class="w-full h-full object-cover"></button>`)}),t("\x3c!--]--\x3e</div>")):t("\x3c!----\x3e"),e.canDelete?(t('<button class="flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600/80 hover:bg-red-600 text-white text-sm font-medium transition-colors">'),t(N(d(Pe),{class:"w-4 h-4"},null,s)),t(" Delete </button>")):t("<div></div>"),t("</div></div>"),d(h)?t('<div class="absolute inset-0 flex items-center justify-center bg-black/80"><div class="bg-gray-800 rounded-2xl p-6 max-w-sm mx-4 shadow-2xl"><h3 class="text-lg font-semibold text-white mb-2">Delete Photo?</h3><p class="text-gray-400 mb-6">This action cannot be undone.</p><div class="flex gap-3"><button class="flex-1 px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white font-medium transition-colors"> Cancel </button><button class="flex-1 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium transition-colors"> Delete </button></div></div></div>'):t("\x3c!----\x3e"),t("</div>")):t("\x3c!----\x3e")},"body",!1,s)}}}),Za=Qa.setup;Qa.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabPhotoLightbox.vue"),Za?Za(e,t):void 0};const Xa=Object.assign(Qa,{__name:"LabPhotoLightbox"}),es=e({__name:"LabObservationTimeline",__ssrInlineRender:!0,props:{observations:{},showAllPlants:{type:Boolean,default:!1}},emits:["addObservation","selectObservation","editObservation","deletePhoto"],setup(e,{emit:a}){const s=a,u=t(!1),h=t([]),y=t(0),_=t("");function S(e,t){s("deletePhoto",_.value,e,t)}function c(e){return!!(e.height_cm||e.health_score||e.vigor_score)}function o(e){return!!(e.pest_issues||e.disease_issues||e.deficiency_issues)}function $(e){const t=sa[e];return t?`bg-${t.bgColor} text-${t.color}`:"bg-gray-700 text-gray-400"}function R(e){return e>=8?"text-spider-green-400":e>=6?"text-lime-400":e>=4?"text-yellow-400":"text-red-400"}return(t,a,s,_)=>{const L=Xa;a(`<div${z(n({class:"space-y-4"},_))}>`),0===e.observations.length?(a('<div class="flex flex-col items-center justify-center py-12 text-center"><div class="w-16 h-16 rounded-2xl bg-gray-800/50 flex items-center justify-center mb-4">'),a(N(d(ye),{class:"w-8 h-8 text-gray-600"},null,s)),a(`</div><h4 class="text-base font-medium text-gray-300 mb-2">No observations yet</h4><p class="text-sm text-gray-500 max-w-xs mb-4">${B(e.showAllPlants?"Start documenting your plants":"Track this plant's journey")}</p><button class="flex items-center gap-2 px-4 py-2 rounded-lg bg-spider-green-600 hover:bg-spider-green-500 text-white text-sm font-medium transition-colors">`),a(N(d(oe),{class:"w-4 h-4"},null,s)),a(" Add Entry </button></div>")):(a('<div class="space-y-3">\x3c!--[--\x3e'),G(e.observations,t=>{var n,u;a('<div class="bg-gray-800/40 rounded-xl border border-gray-700/50 overflow-hidden hover:border-gray-600/50 transition-colors cursor-pointer"><div class="flex items-center justify-between px-4 py-3 border-b border-gray-700/30"><div class="flex items-center gap-3 min-w-0">'),e.showAllPlants&&t.plant_code?a(`<div class="flex items-center gap-2 shrink-0"><span class="text-lg">${B(function(e){var t;return e&&(null==(t=sa[e])?void 0:t.icon)||"ðŸŒ±"}(t.stage||t.plant_status))}</span><span class="font-medium text-white">${B(t.plant_code)}</span><span class="text-gray-500">Â·</span></div>`):a("\x3c!----\x3e"),a(`<span class="text-sm text-gray-300">${B(function(e){if(!e)return"";const t=new Date(e),a=(new Date).getTime()-t.getTime(),s=Math.floor(a/864e5);return 0===s?"Today":1===s?"Yesterday":s<7?`${s}d ago`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}(t.observed_at))}</span><span class="text-xs text-gray-500">D${B(t.day_number||"--")}</span>`),t.stage?a(`<span class="${K(["text-xs px-2 py-0.5 rounded",$(t.stage)])}">${B(function(e){var t;return(null==(t=sa[e])?void 0:t.shortLabel)||e}(t.stage))}</span>`):a("\x3c!----\x3e"),a('</div><button class="p-1.5 rounded hover:bg-gray-700/50 text-gray-500 hover:text-white transition-colors">'),a(N(d(Fe),{class:"w-4 h-4"},null,s)),a('</button></div><div class="px-4 py-3 space-y-3">'),c(t)?(a('<div class="flex flex-wrap gap-4 text-sm">'),t.health_score?(a('<div class="flex items-center gap-1.5">'),a(N(d(ne),{class:"w-4 h-4 text-pink-400"},null,s)),a(`<span class="text-gray-400">Health:</span><span class="${K([R(t.health_score),"font-medium"])}">${B(t.health_score)}/10</span></div>`)):a("\x3c!----\x3e"),t.vigor_score?(a('<div class="flex items-center gap-1.5">'),a(N(d(Re),{class:"w-4 h-4 text-yellow-400"},null,s)),a(`<span class="text-gray-400">Vigor:</span><span class="text-spider-green-400 font-medium">${B(t.vigor_score)}/10</span></div>`)):a("\x3c!----\x3e"),t.height_cm?(a('<div class="flex items-center gap-1.5">'),a(N(d(st),{class:"w-4 h-4 text-blue-400"},null,s)),a(`<span class="text-gray-400">Height:</span><span class="text-white font-medium">${B(t.height_cm)}cm</span></div>`)):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),o(t)?(a('<div class="flex flex-wrap gap-2">'),t.pest_issues?a('<span class="inline-flex items-center gap-1 px-2 py-1 rounded bg-red-500/20 text-red-300 text-xs"> ðŸ› Pests </span>'):a("\x3c!----\x3e"),t.disease_issues?a('<span class="inline-flex items-center gap-1 px-2 py-1 rounded bg-orange-500/20 text-orange-300 text-xs"> ðŸ¦  Disease </span>'):a("\x3c!----\x3e"),t.deficiency_issues?a('<span class="inline-flex items-center gap-1 px-2 py-1 rounded bg-yellow-500/20 text-yellow-300 text-xs"> ðŸ‚ Deficiency </span>'):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),t.general_notes?a(`<div class="text-sm"><span class="text-blue-400">ðŸ“‹ </span><span class="text-gray-300">${B(t.general_notes)}</span></div>`):a("\x3c!----\x3e"),t.watering_notes?a(`<div class="text-sm"><span class="text-cyan-400">ðŸ’§ Watering: </span><span class="text-gray-300">${B(t.watering_notes)}</span></div>`):a("\x3c!----\x3e"),t.feeding_notes?a(`<div class="text-sm"><span class="text-green-400">ðŸ§ª Feeding: </span><span class="text-gray-300">${B(t.feeding_notes)}</span></div>`):a("\x3c!----\x3e"),(null==(n=t.training_applied)?void 0:n.length)?(a('<div class="flex flex-wrap items-center gap-2 text-sm"><span class="text-purple-400">âœ‚ï¸ Training:</span>\x3c!--[--\x3e'),G(t.training_applied,e=>{a(`<span class="px-2 py-0.5 rounded bg-purple-500/20 text-purple-300 text-xs">${B(e)}</span>`)}),a("\x3c!--]--\x3e</div>")):a("\x3c!----\x3e"),(null==(u=t.photos)?void 0:u.length)?(a('<div class="flex gap-2 flex-wrap">\x3c!--[--\x3e'),G(t.photos.slice(0,4),(e,t)=>{a(`<button class="w-16 h-16 rounded-lg overflow-hidden bg-gray-700 hover:ring-2 hover:ring-spider-green-500/50 transition-all"><img${Y("src",e)} class="w-full h-full object-cover"></button>`)}),a("\x3c!--]--\x3e"),t.photos.length>4?a(`<span class="flex items-center text-xs text-gray-500"> +${B(t.photos.length-4)} more </span>`):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),function(e){var t,a;return!!(e.general_notes||e.watering_notes||e.feeding_notes||(null==(t=e.training_applied)?void 0:t.length)||(null==(a=e.photos)?void 0:a.length)||c(e)||o(e))}(t)?a("\x3c!----\x3e"):a(`<div class="text-sm text-gray-500">${B(function(e){return e?{general:"General check",watering:"Watering",nutrients:"Nutrients",feeding:"Feeding",training:"Training",problem:"Problem logged",transplant:"Transplant",photo:"Photo log",photo_only:"Photo only"}[e]||e:""}(t.obs_type))}</div>`),a("</div></div>")}),a("\x3c!--]--\x3e</div>")),a(N(L,{show:d(u),photos:d(h),"initial-index":d(y),"can-delete":!0,onClose:e=>u.value=!1,onDelete:S},null,s)),a("</div>")}}}),ts=es.setup;es.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabObservationTimeline.vue"),ts?ts(e,t):void 0};const as=Object.assign(es,{__name:"LabObservationTimeline"}),ss=e({__name:"LabStageChangeModal",__ssrInlineRender:!0,props:{plant:{}},emits:["close","changed"],setup(e,{emit:s}){const n=e;ra();const u=t(null),h=t((new Date).toISOString().split("T")[0]),y=t(""),_=t(!1),L=a(()=>sa[n.plant.status]),O=a(()=>{var e;if(!(null==(e=n.plant)?void 0:e.date_started))return 0;const t=new Date(n.plant.date_started);return Math.floor(((new Date).getTime()-t.getTime())/864e5)});return(t,a,s,n)=>{X(a,t=>{var a,n;t(`<div class="fixed inset-0 z-[60] flex items-center justify-center p-4 desktop:pl-[calc(var(--sidebar-width,72px)+1rem)]"><div class="absolute inset-0 bg-black/70 backdrop-blur-sm"></div><div class="relative w-full max-w-md bg-gray-900 rounded-2xl shadow-2xl border border-gray-800 overflow-hidden"><div class="px-5 py-4 border-b border-gray-800"><div class="flex items-center justify-between"><div><h3 class="text-lg font-bold text-white">Change Stage</h3><p class="text-sm text-gray-400">${B(e.plant.plant_code)}</p></div><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">`),t(N(d(me),{class:"w-5 h-5"},null,s)),t(`</button></div></div><div class="p-5 max-h-[60vh] overflow-y-auto"><div class="mb-5 p-4 rounded-xl bg-gray-800/50"><p class="text-xs text-gray-500 mb-2">Current Stage</p><div class="flex items-center gap-2"><span class="text-xl">${B(null==(a=d(L))?void 0:a.icon)}</span><span class="text-white font-medium">${B(null==(n=d(L))?void 0:n.label)}</span><span class="text-xs text-gray-500">(Day ${B(d(O))})</span></div></div><p class="text-sm font-medium text-gray-300 mb-3">Select New Stage</p><div class="grid grid-cols-2 gap-2">\x3c!--[--\x3e`),G(d(sa),(a,s)=>{t(`<button${ee(s===e.plant.status)?" disabled":""} class="${K(["p-3 rounded-xl border-2 transition-all text-left",d(u)===s?"border-spider-green-500 bg-spider-green-500/20":s===e.plant.status?"border-gray-700 bg-gray-800/30 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-800/30 hover:border-gray-600"])}"><div class="flex items-center gap-2"><span class="text-lg">${B(a.icon)}</span><span class="text-sm text-white">${B(a.label)}</span></div></button>`)}),t("\x3c!--]--\x3e</div>"),d(u)?t(`<div class="mt-5"><label class="block text-sm font-medium text-gray-300 mb-2"> When did this stage start? </label><input${Y("value",d(h))} type="date" class="w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-xl text-white focus:border-spider-green-500 focus:outline-none"><p class="mt-1.5 text-xs text-gray-500"> Leave as today if the plant just entered this stage </p></div>`):t("\x3c!----\x3e"),d(u)?t(`<div class="mt-4"><label class="block text-sm font-medium text-gray-300 mb-2"> Notes (optional) </label><textarea rows="2" placeholder="Any observations about this transition..." class="w-full px-4 py-3 bg-gray-800/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none resize-none">${B(d(y))}</textarea></div>`):t("\x3c!----\x3e"),t(`</div><div class="px-5 py-4 border-t border-gray-800 flex gap-3"><button class="flex-1 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium transition-colors"> Cancel </button><button${ee(!d(u)||d(u)===e.plant.status||d(_))?" disabled":""} class="flex-1 px-4 py-3 rounded-xl bg-spider-green-600 hover:bg-spider-green-500 disabled:bg-gray-700 disabled:text-gray-500 text-white font-medium transition-colors flex items-center justify-center gap-2">`),d(_)?t(N(d(Ae),{class:"w-5 h-5 animate-spin"},null,s)):t("\x3c!----\x3e"),t(`<span>${B(d(_)?"Saving...":"Confirm Change")}</span></button></div></div></div>`)},"body",!1,s)}}}),ls=ss.setup;ss.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabStageChangeModal.vue"),ls?ls(e,t):void 0};const rs=Object.assign(ss,{__name:"LabStageChangeModal"}),is=e({__name:"LabPlantDetailPanel",__ssrInlineRender:!0,props:{plant:{},observations:{}},emits:["addObservation","addPhoto","score","stageChanged","plantUpdated","selectObservation","editObservation","deletePhoto","selectClone"],setup(e,{emit:u}){const h=e,y=u,_=ra(),L=t(!1),O=t(!1),F=t(!1),Z=t(!1),te=t(!1),ae=t(!1),se=t({pheno_label:"",sex:"unknown",selection_status:"active",is_keeper:!1,keeper_notes:"",grow_medium:"",container_size:null});s(()=>[h.plant,F.value],([e,t])=>{t&&e&&(se.value={pheno_label:e.pheno_label||"",sex:e.sex||"unknown",selection_status:e.selection_status||"active",is_keeper:e.is_keeper||!1,keeper_notes:e.keeper_notes||"",grow_medium:e.grow_medium||"",container_size:e.container_size||null})},{immediate:!0});const le=a(()=>{var e;return(null==(e=h.plant)?void 0:e.status)&&sa[h.plant.status]||null}),ne=a(()=>{var e;if(!(null==(e=h.plant)?void 0:e.date_started))return 0;const t=new Date(h.plant.date_started);return Math.floor(((new Date).getTime()-t.getTime())/864e5)}),oe=a(()=>{const e=h.plant.final_score||0;return e>=90?"text-spider-green-400":e>=80?"text-green-400":e>=70?"text-lime-400":e>=60?"text-yellow-400":e>=40?"text-orange-400":"text-red-400"}),de=a(()=>{var e;return(null==(e=h.plant)?void 0:e.parent_plant_id)&&_.plants.find(e=>e.id===h.plant.parent_plant_id)||null}),ce=a(()=>{var e;return(null==(e=de.value)?void 0:e.status)&&sa[de.value.status]||null}),pe=a(()=>{var e;return(null==(e=h.plant)?void 0:e.id)?_.plants.filter(e=>e.parent_plant_id===h.plant.id&&"clone"===e.origin_type):[]});function E(){L.value=!1,y("stageChanged")}function D(e){y("selectObservation",e)}function x(e){y("editObservation",e)}function j(e,t,a){y("deletePhoto",e,t,a)}return(t,a,s,u)=>{var h,_,ge,ue,xe;const ve=Ja,be=as,we=rs;a(`<div${z(n({class:"h-full flex flex-col"},u))}><div class="flex-shrink-0 p-4 border-b border-gray-800/50 bg-gradient-to-br from-gray-800/50 to-gray-900/50"><div class="flex items-start gap-4"><div class="relative"><div class="${K(["w-16 h-16 rounded-2xl flex items-center justify-center flex-shrink-0 shadow-lg",d(le)?`bg-gradient-to-br from-${d(le).color} to-${d(le).bgColor}`:"bg-gradient-to-br from-green-500/40 to-emerald-600/40"])}"><span class="text-3xl drop-shadow-lg">${B((null==(h=d(le))?void 0:h.icon)||"ðŸŒ±")}</span></div>`),e.plant.is_keeper?a('<div class="absolute -inset-1 rounded-2xl bg-yellow-400/30 blur-md -z-10 animate-pulse"></div>'):a("\x3c!----\x3e"),a(`</div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><h2 class="text-xl font-black text-white truncate">${B(e.plant.plant_code)}</h2>`),e.plant.is_keeper?(a('<div class="flex items-center gap-1 px-2 py-0.5 rounded-full bg-yellow-500/20 border border-yellow-500/30">'),a(N(d(Ue),{class:"w-3 h-3 text-yellow-400"},null,s)),a('<span class="text-[10px] font-medium text-yellow-300">Keeper</span></div>')):a("\x3c!----\x3e"),a("</div>"),e.plant.pheno_label?a(`<p class="text-xs text-purple-400 truncate mb-1"> &quot;${B(e.plant.pheno_label)}&quot; </p>`):a("\x3c!----\x3e"),a('<p class="text-sm text-gray-400 truncate flex items-center gap-1">'),a(N(d(re),{class:"w-3 h-3"},null,s)),a(` ${B(e.plant.strain_name||"Unknown strain")}</p>`),"unknown"!==e.plant.sex?a(`<div class="mt-1"><span class="${K(["inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-medium","female"===e.plant.sex?"bg-pink-500/20 text-pink-300 border border-pink-500/30":"male"===e.plant.sex?"bg-blue-500/20 text-blue-300 border border-blue-500/30":"bg-orange-500/20 text-orange-300 border border-orange-500/30"])}">${B("female"===e.plant.sex?"â™€":"male"===e.plant.sex?"â™‚":"âš¥")} <span class="capitalize">${B(e.plant.sex)}</span></span></div>`):a("\x3c!----\x3e"),a(`</div></div><div class="grid grid-cols-4 gap-2 mt-4"><div class="p-2.5 rounded-xl bg-gray-800/60 border border-gray-700/30 text-center relative overflow-hidden group hover:border-spider-green-500/30 transition-all"><div class="absolute inset-0 bg-gradient-to-br from-spider-green-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div><p class="text-xl font-black text-spider-green-400 relative">${B(d(ne))}</p><p class="text-[10px] text-gray-500 uppercase font-medium relative">Days</p></div><div class="p-2.5 rounded-xl bg-gray-800/60 border border-gray-700/30 text-center relative overflow-hidden group hover:border-blue-500/30 transition-all"><div class="absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div><p class="text-xl font-black text-blue-400 relative">${B(Math.ceil(d(ne)/7))}</p><p class="text-[10px] text-gray-500 uppercase font-medium relative">Weeks</p></div><div class="p-2.5 rounded-xl bg-gray-800/60 border border-gray-700/30 text-center relative overflow-hidden group hover:border-purple-500/30 transition-all"><div class="absolute inset-0 bg-gradient-to-br from-purple-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div><span class="${K(["inline-block px-2 py-0.5 rounded-lg text-xs font-bold",d(le)?`bg-${d(le).bgColor} text-${d(le).color}`:"bg-green-500/20 text-green-300"])}">${B((null==(_=d(le))?void 0:_.shortLabel)||e.plant.status)}</span><p class="text-[10px] text-gray-500 uppercase font-medium mt-1 relative">Stage</p></div><div class="p-2.5 rounded-xl bg-gray-800/60 border border-gray-700/30 text-center relative overflow-hidden group hover:border-amber-500/30 transition-all"><div class="absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div><p class="${K(["text-xl font-black relative",d(oe)])}">${B((null==(ge=e.plant.final_score)?void 0:ge.toFixed(1))||"--")}</p><p class="text-[10px] text-gray-500 uppercase font-medium relative">Score</p></div></div></div><div class="flex-shrink-0 p-4 border-b border-gray-800/50"><div class="grid grid-cols-5 gap-2"><button class="p-2.5 rounded-xl bg-spider-green-500/20 hover:bg-spider-green-500/30 border border-spider-green-500/30 text-spider-green-300 transition-all flex flex-col items-center gap-1">`),a(N(d(ye),{class:"w-5 h-5"},null,s)),a('<span class="text-[10px] font-medium">Log</span></button><button class="p-2.5 rounded-xl bg-purple-500/20 hover:bg-purple-500/30 border border-purple-500/30 text-purple-300 transition-all flex flex-col items-center gap-1">'),a(N(d(Ae),{class:"w-5 h-5"},null,s)),a('<span class="text-[10px] font-medium">Stage</span></button><button class="p-2.5 rounded-xl bg-blue-500/20 hover:bg-blue-500/30 border border-blue-500/30 text-blue-300 transition-all flex flex-col items-center gap-1">'),a(N(d(Ye),{class:"w-5 h-5"},null,s)),a('<span class="text-[10px] font-medium">Photo</span></button><button class="p-2.5 rounded-xl bg-amber-500/20 hover:bg-amber-500/30 border border-amber-500/30 text-amber-300 transition-all flex flex-col items-center gap-1">'),a(N(d(Ue),{class:"w-5 h-5"},null,s)),a('<span class="text-[10px] font-medium">Score</span></button><button class="p-2.5 rounded-xl bg-gray-500/20 hover:bg-gray-500/30 border border-gray-500/30 text-gray-300 transition-all flex flex-col items-center gap-1">'),a(N(d(Fe),{class:"w-5 h-5"},null,s)),a('<span class="text-[10px] font-medium">Edit</span></button></div></div><div class="flex-shrink-0 p-4 border-b border-gray-800/50"><button class="w-full flex items-center justify-between text-sm text-gray-400 hover:text-gray-300 transition-colors"><span class="font-medium flex items-center gap-2">'),a(N(d(Oe),{class:"w-4 h-4 text-purple-400"},null,s)),a(" Stage Guide &amp; Tips </span>"),a(N(d(Ie),{class:["w-4 h-4 transition-transform",d(te)?"rotate-180":""]},null,s)),a("</button>"),d(te)?(a('<div class="mt-3 overflow-hidden">'),a(N(ve,{plant:e.plant,onAdvanceStage:e=>L.value=!0},null,s)),a("</div>")):a("\x3c!----\x3e"),a('</div><div class="flex-shrink-0 p-4 border-b border-gray-800/50"><button class="w-full flex items-center justify-between text-sm text-gray-400 hover:text-gray-300 transition-colors"><span class="font-medium">Plant Details</span><div class="flex items-center gap-2">'),d(O)?(a('<button class="p-1 rounded hover:bg-gray-700 text-gray-500 hover:text-gray-300 transition-colors" title="Edit plant">'),a(N(d(He),{class:"w-4 h-4"},null,s)),a("</button>")):a("\x3c!----\x3e"),a(N(d(Ie),{class:["w-4 h-4 transition-transform",d(O)?"rotate-180":""]},null,s)),a("</div></button>"),d(O)?(a(`<div class="mt-3 space-y-2"><div class="flex justify-between text-sm"><span class="text-gray-500">Origin</span><span class="text-gray-300 capitalize">${B(e.plant.origin_type||"Seed")}</span></div><div class="flex justify-between text-sm"><span class="text-gray-500">Started</span><span class="text-gray-300">${B(function(e){return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not set"}(e.plant.date_started))}</span></div><div class="flex justify-between text-sm"><span class="text-gray-500">Medium</span><span class="text-gray-300 capitalize">${B(e.plant.grow_medium||"Not set")}</span></div><div class="flex justify-between text-sm"><span class="text-gray-500">Sex</span><span class="${K(["capitalize","female"===e.plant.sex?"text-pink-400":"male"===e.plant.sex?"text-blue-400":"hermaphrodite"===e.plant.sex?"text-orange-400":"text-gray-400"])}">${B(e.plant.sex||"Unknown")}</span></div><div class="flex justify-between text-sm"><span class="text-gray-500">Selection</span><span class="${K(["px-2 py-0.5 rounded text-xs font-medium",e.plant.is_keeper?"bg-amber-500/20 text-amber-300":"bg-gray-700 text-gray-400"])}">${B(e.plant.is_keeper?"Keeper":e.plant.selection_status||"Evaluating")}</span></div>`),e.plant.container_size?a(`<div class="flex justify-between text-sm"><span class="text-gray-500">Container</span><span class="text-gray-300">${B(e.plant.container_size)}L</span></div>`):a("\x3c!----\x3e"),(null==(ue=e.plant.training_methods)?void 0:ue.length)?a(`<div class="flex justify-between text-sm"><span class="text-gray-500">Training</span><span class="text-gray-300">${B(e.plant.training_methods.join(", "))}</span></div>`):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),a("</div>"),"clone"===e.plant.origin_type||d(pe).length>0?(a('<div class="flex-shrink-0 p-4 border-b border-gray-800/50"><button class="w-full flex items-center justify-between text-sm text-gray-400 hover:text-gray-300 transition-colors"><span class="font-medium flex items-center gap-2">'),a(N(d(ie),{class:"w-4 h-4 text-cyan-400"},null,s)),a(" Clone History "),d(pe).length>0?a(`<span class="px-1.5 py-0.5 rounded-full bg-cyan-500/20 text-cyan-300 text-[10px]">${B(d(pe).length)}</span>`):a("\x3c!----\x3e"),a("</span>"),a(N(d(Ie),{class:["w-4 h-4 transition-transform",d(Z)?"rotate-180":""]},null,s)),a("</button>"),d(Z)?(a('<div class="mt-3 space-y-3">'),"clone"===e.plant.origin_type&&d(de)?(a('<div class="p-3 rounded-xl bg-cyan-500/10 border border-cyan-500/30"><div class="flex items-center gap-2 text-xs text-cyan-300 mb-2">'),a(N(d(tt),{class:"w-3.5 h-3.5"},null,s)),a(`<span class="font-medium">Cloned From</span></div><button class="w-full flex items-center gap-3 p-2 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 transition-colors text-left"><div class="${K(["w-8 h-8 rounded-lg flex items-center justify-center text-lg",d(ce)?`bg-${d(ce).bgColor}`:"bg-gray-700"])}">${B((null==(xe=d(ce))?void 0:xe.icon)||"ðŸŒ±")}</div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-white truncate">${B(d(de).plant_code)}</p><p class="text-xs text-gray-500">${B(d(de).strain_name||"Unknown strain")}</p></div>`),a(N(d(he),{class:"w-4 h-4 text-gray-500"},null,s)),a("</button></div>")):"clone"===e.plant.origin_type?(a('<div class="p-3 rounded-xl bg-gray-800/50 border border-gray-700/50"><p class="text-xs text-gray-500 flex items-center gap-2">'),a(N(d(tt),{class:"w-3.5 h-3.5 text-cyan-400"},null,s)),a(`<span>Cloned from: <span class="text-gray-400">${B(e.plant.parent_plant_id?"Plant not found":"Unknown")}</span></span></p></div>`)):a("\x3c!----\x3e"),d(pe).length>0?(a('<div><div class="flex items-center gap-2 text-xs text-emerald-300 mb-2">'),a(N(d(at),{class:"w-3.5 h-3.5"},null,s)),a(`<span class="font-medium">Clones Made (${B(d(pe).length)})</span></div><div class="space-y-2 max-h-40 overflow-y-auto">\x3c!--[--\x3e`),G(d(pe),e=>{var t,n;a(`<button class="w-full flex items-center gap-3 p-2 rounded-lg bg-gray-800/50 hover:bg-gray-700/50 transition-colors text-left"><div class="${K(["w-8 h-8 rounded-lg flex items-center justify-center text-lg",d(sa)[e.status]?`bg-${d(sa)[e.status].bgColor}`:"bg-gray-700"])}">${B((null==(t=d(sa)[e.status])?void 0:t.icon)||"ðŸŒ±")}</div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-white truncate">${B(e.plant_code)}</p><p class="text-xs text-gray-500 truncate">${B(e.strain_name||"Unknown strain")} `),e.status?a(`<span> Â· ${B((null==(n=d(sa)[e.status])?void 0:n.shortLabel)||e.status)}</span>`):a("\x3c!----\x3e"),a("</p></div>"),a(N(d(he),{class:"w-4 h-4 text-gray-500"},null,s)),a("</button>")}),a("\x3c!--]--\x3e</div></div>")):"clone"!==e.plant.origin_type?a('<div class="text-center py-2"><p class="text-xs text-gray-500">No clones recorded from this plant</p></div>'):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),a('<div class="flex-1 overflow-y-auto p-4">'),a(N(be,{observations:e.observations,"show-all-plants":!1,onAddObservation:e=>y("addObservation"),onSelectObservation:D,onEditObservation:x,onDeletePhoto:j},null,s)),a("</div>"),d(L)?a(N(we,{plant:e.plant,onClose:e=>L.value=!1,onChanged:E},null,s)):a("\x3c!----\x3e"),X(a,e=>{d(F)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70"><div class="w-full max-w-lg max-h-[90vh] bg-gray-900 rounded-2xl shadow-2xl border border-gray-800 flex flex-col overflow-hidden"><div class="flex items-center justify-between px-6 py-4 border-b border-gray-800"><h2 class="text-lg font-semibold text-white">Edit Plant</h2><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">'),e(N(d(me),{class:"w-5 h-5"},null,s)),e(`</button></div><div class="flex-1 overflow-y-auto p-6 space-y-5"><div><label class="block text-sm font-medium text-gray-400 mb-2">Phenotype Label</label><input${Y("value",d(se).pheno_label)} type="text" class="w-full px-4 py-2.5 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none" placeholder="e.g., &#39;The Stinker&#39;, &#39;#3 Purple Pheno&#39;"></div><div><label class="block text-sm font-medium text-gray-400 mb-2">Sex</label><div class="grid grid-cols-4 gap-2">\x3c!--[--\x3e`),G(["unknown","female","male","hermaphrodite"],t=>{e(`<button class="${K(["py-2.5 rounded-lg text-sm font-medium capitalize transition-colors",d(se).sex===t?"female"===t?"bg-pink-500/30 text-pink-300 border-2 border-pink-500":"male"===t?"bg-blue-500/30 text-blue-300 border-2 border-blue-500":"hermaphrodite"===t?"bg-orange-500/30 text-orange-300 border-2 border-orange-500":"bg-gray-600/30 text-gray-300 border-2 border-gray-500":"bg-gray-800 text-gray-400 border-2 border-transparent hover:border-gray-600"])}">${B(t)}</button>`)}),e('\x3c!--]--\x3e</div></div><div><label class="block text-sm font-medium text-gray-400 mb-2">Selection Status</label><div class="grid grid-cols-3 gap-2">\x3c!--[--\x3e'),G(["active","watch","warning","cull_candidate","keeper"],t=>{e(`<button class="${K(["py-2.5 rounded-lg text-sm font-medium capitalize transition-colors",d(se).selection_status===t?"keeper"===t?"bg-amber-500/30 text-amber-300 border-2 border-amber-500":"warning"===t?"bg-orange-500/30 text-orange-300 border-2 border-orange-500":"cull_candidate"===t?"bg-red-500/30 text-red-300 border-2 border-red-500":"watch"===t?"bg-yellow-500/30 text-yellow-300 border-2 border-yellow-500":"bg-spider-green-500/30 text-spider-green-300 border-2 border-spider-green-500":"bg-gray-800 text-gray-400 border-2 border-transparent hover:border-gray-600"])}">${B(t.replace("_"," "))}</button>`)}),e(`\x3c!--]--\x3e</div></div><div class="flex items-center justify-between p-4 rounded-xl bg-gray-800/50"><div><p class="font-medium text-white">Mark as Keeper</p><p class="text-sm text-gray-400">Elite selection for breeding/cloning</p></div><button class="${K(["relative w-12 h-6 rounded-full transition-colors",d(se).is_keeper?"bg-amber-500":"bg-gray-600"])}"><span class="${K(["absolute top-1 w-4 h-4 rounded-full bg-white transition-transform",d(se).is_keeper?"translate-x-7":"translate-x-1"])}"></span></button></div>`),d(se).is_keeper?e(`<div><label class="block text-sm font-medium text-gray-400 mb-2">Keeper Notes</label><textarea rows="2" class="w-full px-4 py-2.5 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-amber-500 focus:outline-none resize-none" placeholder="Why this plant is special...">${B(d(se).keeper_notes)}</textarea></div>`):e("\x3c!----\x3e"),e('<div><label class="block text-sm font-medium text-gray-400 mb-2">Growing Medium</label><div class="grid grid-cols-3 gap-2">\x3c!--[--\x3e'),G(["soil","coco","hydro","dwc","aero","other"],t=>{e(`<button class="${K(["py-2 rounded-lg text-sm font-medium capitalize transition-colors",d(se).grow_medium===t?"bg-spider-green-500/30 text-spider-green-300 border-2 border-spider-green-500":"bg-gray-800 text-gray-400 border-2 border-transparent hover:border-gray-600"])}">${B(t)}</button>`)}),e(`\x3c!--]--\x3e</div></div><div><label class="block text-sm font-medium text-gray-400 mb-2">Container Size (Liters)</label><input${Y("value",d(se).container_size)} type="number" min="0" step="0.5" class="w-full px-4 py-2.5 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none" placeholder="e.g., 5, 10, 20"></div></div><div class="flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-800 bg-gray-900/50"><button class="px-4 py-2.5 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors"> Cancel </button><button${ee(d(ae))?" disabled":""} class="flex items-center gap-2 px-5 py-2.5 rounded-lg bg-spider-green-600 hover:bg-spider-green-500 text-white font-medium transition-colors disabled:opacity-50">`),d(ae)?e("\x3c!----\x3e"):e(N(d(fe),{class:"w-4 h-4"},null,s)),d(ae)?e("<span>Saving...</span>"):e("<span>Save Changes</span>"),e("</button></div></div></div>")):e("\x3c!----\x3e")},"body",!1,s),a("</div>")}}}),ns=is.setup;is.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabPlantDetailPanel.vue"),ns?ns(e,t):void 0};const os=Object.assign(is,{__name:"LabPlantDetailPanel"}),ds=e({__name:"LabObservationEditor",__ssrInlineRender:!0,props:{show:{type:Boolean},observation:{}},emits:["close","save","delete"],setup(e,{emit:a}){const n=e,u=t(!1),h=t(!1),y=["LST","HST","Topping","FIM","Defoliation","Lollipopping","Supercropping","Mainlining","SCROG"],_=t({health_score:7,vigor_score:7,height_cm:null,pest_issues:!1,disease_issues:!1,deficiency_issues:!1,general_notes:"",watering_notes:"",feeding_notes:"",training_applied:[],photos:[]});return s(()=>n.observation,e=>{e&&(_.value={health_score:e.health_score||7,vigor_score:e.vigor_score||7,height_cm:e.height_cm||null,pest_issues:!!e.pest_issues,disease_issues:!!e.disease_issues,deficiency_issues:!!e.deficiency_issues,general_notes:e.general_notes||"",watering_notes:e.watering_notes||"",feeding_notes:e.feeding_notes||"",training_applied:e.training_applied||[],photos:e.photos||[]})},{immediate:!0}),(t,a,s,n)=>{X(a,t=>{e.show?(t('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70"><div class="w-full max-w-2xl max-h-[90vh] bg-gray-900 rounded-2xl shadow-2xl border border-gray-800 flex flex-col overflow-hidden"><div class="flex items-center justify-between px-6 py-4 border-b border-gray-800"><h2 class="text-lg font-semibold text-white">Edit Observation</h2><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">'),t(N(d(me),{class:"w-5 h-5"},null,s)),t('</button></div><div class="flex-1 overflow-y-auto p-6 space-y-6"><div class="grid grid-cols-2 gap-4"><div><label class="block text-sm font-medium text-gray-400 mb-2">Health Score</label><div class="flex gap-1">\x3c!--[--\x3e'),G(10,e=>{t(`<button class="${K(["flex-1 py-2 rounded text-sm font-medium transition-colors",d(_).health_score>=e?"bg-spider-green-600 text-white":"bg-gray-700 text-gray-500 hover:bg-gray-600"])}">${B(e)}</button>`)}),t('\x3c!--]--\x3e</div></div><div><label class="block text-sm font-medium text-gray-400 mb-2">Vigor Score</label><div class="flex gap-1">\x3c!--[--\x3e'),G(10,e=>{t(`<button class="${K(["flex-1 py-2 rounded text-sm font-medium transition-colors",d(_).vigor_score>=e?"bg-yellow-600 text-white":"bg-gray-700 text-gray-500 hover:bg-gray-600"])}">${B(e)}</button>`)}),t(`\x3c!--]--\x3e</div></div></div><div><label class="block text-sm font-medium text-gray-400 mb-2">Height (cm)</label><input${Y("value",d(_).height_cm)} type="number" min="0" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none" placeholder="Plant height in cm"></div><div><label class="block text-sm font-medium text-gray-400 mb-2">Issues</label><div class="flex gap-3"><button class="${K(["flex-1 py-3 rounded-lg border-2 transition-colors text-sm font-medium",d(_).pest_issues?"border-red-500 bg-red-500/20 text-red-300":"border-gray-700 bg-gray-800 text-gray-400 hover:border-gray-600"])}"> ðŸ› Pests </button><button class="${K(["flex-1 py-3 rounded-lg border-2 transition-colors text-sm font-medium",d(_).disease_issues?"border-orange-500 bg-orange-500/20 text-orange-300":"border-gray-700 bg-gray-800 text-gray-400 hover:border-gray-600"])}"> ðŸ¦  Disease </button><button class="${K(["flex-1 py-3 rounded-lg border-2 transition-colors text-sm font-medium",d(_).deficiency_issues?"border-yellow-500 bg-yellow-500/20 text-yellow-300":"border-gray-700 bg-gray-800 text-gray-400 hover:border-gray-600"])}"> ðŸ‚ Deficiency </button></div></div><div><label class="block text-sm font-medium text-gray-400 mb-2">ðŸ“‹ General Notes</label><textarea rows="3" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none resize-none" placeholder="General observations...">${B(d(_).general_notes)}</textarea></div><div><label class="block text-sm font-medium text-gray-400 mb-2">ðŸ’§ Watering Notes</label><textarea rows="2" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none resize-none" placeholder="Watering details...">${B(d(_).watering_notes)}</textarea></div><div><label class="block text-sm font-medium text-gray-400 mb-2">ðŸ§ª Feeding Notes</label><textarea rows="2" class="w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none resize-none" placeholder="Nutrients, EC, pH...">${B(d(_).feeding_notes)}</textarea></div><div><label class="block text-sm font-medium text-gray-400 mb-2">âœ‚ï¸ Training Applied</label><div class="flex flex-wrap gap-2">\x3c!--[--\x3e`),G(y,e=>{t(`<button class="${K(["px-3 py-1.5 rounded-lg text-sm font-medium transition-colors",d(_).training_applied.includes(e)?"bg-purple-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"])}">${B(e)}</button>`)}),t("\x3c!--]--\x3e</div></div>"),d(_).photos.length>0?(t('<div><label class="block text-sm font-medium text-gray-400 mb-2">ðŸ“¸ Photos</label><div class="flex flex-wrap gap-2">\x3c!--[--\x3e'),G(d(_).photos,(e,a)=>{t(`<div class="relative w-20 h-20 rounded-lg overflow-hidden"><img${Y("src",e)} class="w-full h-full object-cover"><button class="absolute top-1 right-1 w-5 h-5 bg-red-600 rounded-full flex items-center justify-center hover:bg-red-500">`),t(N(d(me),{class:"w-3 h-3 text-white"},null,s)),t("</button></div>")}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),t('</div><div class="flex items-center justify-between px-6 py-4 border-t border-gray-800 bg-gray-900/50"><button class="flex items-center gap-2 px-4 py-2 rounded-lg text-red-400 hover:bg-red-500/10 transition-colors">'),t(N(d(Pe),{class:"w-4 h-4"},null,s)),t(` Delete </button><div class="flex items-center gap-3"><button class="px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors"> Cancel </button><button${ee(d(u))?" disabled":""} class="flex items-center gap-2 px-5 py-2 rounded-lg bg-spider-green-600 hover:bg-spider-green-500 text-white font-medium transition-colors disabled:opacity-50">`),d(u)?t(N(d(Ae),{class:"w-4 h-4 animate-spin"},null,s)):t(N(d(fe),{class:"w-4 h-4"},null,s)),t(` ${B(d(u)?"Saving...":"Save Changes")}</button></div></div></div>`),d(h)?t('<div class="absolute inset-0 flex items-center justify-center bg-black/80"><div class="bg-gray-800 rounded-2xl p-6 max-w-sm mx-4 shadow-2xl"><h3 class="text-lg font-semibold text-white mb-2">Delete Observation?</h3><p class="text-gray-400 mb-6">This action cannot be undone.</p><div class="flex gap-3"><button class="flex-1 px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white font-medium transition-colors"> Cancel </button><button class="flex-1 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-500 text-white font-medium transition-colors"> Delete </button></div></div></div>'):t("\x3c!----\x3e"),t("</div>")):t("\x3c!----\x3e")},"body",!1,s)}}}),cs=ds.setup;ds.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabObservationEditor.vue"),cs?cs(e,t):void 0};const ps=Object.assign(ds,{__name:"LabObservationEditor"}),gs=e({__name:"LabScoreWizard",__ssrInlineRender:!0,props:{show:{type:Boolean},plant:{}},emits:["close","saved"],setup(e,{emit:s}){ra();const{getAuthHeaders:n}=kt(),u=t(0),h=t(!1),y=t(""),_=t("standard"),L=O({vigor:5,recuperation:5,growth_speed:5,rooting_speed:5,stem_strength:5,branching:5,node_spacing:5,canopy_uniformity:5,trainability:5,pest_resistance:5,mold_resistance:5,stress_tolerance:5,bud_density:5,flower_size:5,trichome_coverage:5,resin_production:5,yield_estimate:5,smell_intensity:5,smell_complexity:5,smell_appeal:5,clone_success_rate:5,rooting_time:5,clone_vigor:5}),F=[{id:"vigor",title:"Vigor & Health",icon:"ðŸ’ª",weight:15,description:"Evaluate the plant's overall vitality, growth rate, and ability to recover from stress.",fields:[{id:"vigor",label:"Overall Vigor",hint:"General plant health and vitality"},{id:"recuperation",label:"Recuperation",hint:"How quickly it recovers from stress or damage"},{id:"growth_speed",label:"Growth Speed",hint:"Rate of vegetative growth"},{id:"rooting_speed",label:"Rooting Speed",hint:"Speed of root development"}]},{id:"structure",title:"Structure",icon:"ðŸŒ¿",weight:20,description:"Assess the plant's physical structure, branching patterns, and trainability.",fields:[{id:"stem_strength",label:"Stem Strength",hint:"Thickness and rigidity of main stem"},{id:"branching",label:"Branching Pattern",hint:"Quality and distribution of branches"},{id:"node_spacing",label:"Node Spacing",hint:"Distance between nodes (shorter = better)"},{id:"canopy_uniformity",label:"Canopy Uniformity",hint:"Evenness of the canopy"},{id:"trainability",label:"Trainability",hint:"Response to LST, topping, etc."}]},{id:"resistance",title:"Resistance",icon:"ðŸ›¡ï¸",weight:15,description:"Evaluate resistance to pests, mold, and environmental stress.",fields:[{id:"pest_resistance",label:"Pest Resistance",hint:"Resistance to insects and mites"},{id:"mold_resistance",label:"Mold Resistance",hint:"Resistance to botrytis, PM, etc."},{id:"stress_tolerance",label:"Stress Tolerance",hint:"Handles heat, cold, drought well"}]},{id:"production",title:"Flower Production",icon:"ðŸŒ¸",weight:25,description:"Assess flower quality, density, and yield potential.",fields:[{id:"bud_density",label:"Bud Density",hint:"How tight and compact the buds are"},{id:"flower_size",label:"Flower Size",hint:"Size of individual colas"},{id:"trichome_coverage",label:"Trichome Coverage",hint:"Amount of trichomes on buds and leaves"},{id:"resin_production",label:"Resin Production",hint:"Stickiness and oil content"},{id:"yield_estimate",label:"Yield Estimate",hint:"Expected yield relative to size"}]},{id:"aroma",title:"Aroma & Terpenes",icon:"ðŸ‘ƒ",weight:15,description:"Evaluate the smell profile from stem rub test and flowering.",fields:[{id:"smell_intensity",label:"Smell Intensity",hint:"How strong is the aroma?"},{id:"smell_complexity",label:"Smell Complexity",hint:"Number of distinct notes"},{id:"smell_appeal",label:"Smell Appeal",hint:"Personal preference of the aroma"}]},{id:"clonability",title:"Clone Stability",icon:"ðŸ§¬",weight:10,description:"Evaluate how well this phenotype clones and maintains traits.",fields:[{id:"clone_success_rate",label:"Clone Success Rate",hint:"Percentage of clones that root"},{id:"rooting_time",label:"Rooting Time",hint:"Speed of clone rooting (faster = higher)"},{id:"clone_vigor",label:"Clone Vigor",hint:"Health and growth of rooted clones"}]},{id:"summary",title:"Summary",icon:"ðŸ“Š",weight:0,description:"Review your scores and save the evaluation.",fields:[]}];function o$1(e){const t=F.find(t=>t.id===e);return t&&0!==t.fields.length?t.fields.reduce((e,t)=>{var a;return e+(null!=(a=L[t.id])?a:0)},0)/t.fields.length:0}const z=a(()=>{let e=0;for(const t of F.slice(0,6)){e+=o$1(t.id)*(t.weight/100)}return e}),Y=a(()=>!0);return(t,a,s,n)=>{X(a,t=>{var a,n,O,Z,X,ae,se;e.show?(t(`<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm"><div class="w-full max-w-2xl max-h-[90vh] bg-gray-900 rounded-2xl shadow-2xl border border-gray-800 flex flex-col overflow-hidden"><div class="flex-shrink-0 px-6 py-4 border-b border-gray-800 bg-gradient-to-r from-amber-500/10 to-orange-500/10"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-xl bg-amber-500/20 flex items-center justify-center"><span class="text-xl">â­</span></div><div><h2 class="text-lg font-bold text-white">Score Plant</h2><p class="text-sm text-gray-400">${B(null==(a=e.plant)?void 0:a.plant_code)}</p></div></div><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">`),t(N(d(me),{class:"w-5 h-5"},null,s)),t('</button></div><div class="flex items-center gap-1 mt-4">\x3c!--[--\x3e'),G(F,(e,a)=>{t(`<div class="${K(["flex-1 h-1.5 rounded-full transition-all",a<d(u)?"bg-amber-500":a===d(u)?"bg-amber-400":"bg-gray-700"])}"></div>`)}),t(`\x3c!--]--\x3e</div><div class="flex justify-between mt-2 text-xs text-gray-500"><span>${B(null==(n=F[d(u)])?void 0:n.title)}</span><span>Step ${B(d(u)+1)} of ${B(F.length)}</span></div></div><div class="flex-1 overflow-y-auto p-6"><div class="mb-6 p-4 rounded-xl bg-gradient-to-br from-gray-800/50 to-gray-800/30 border border-gray-700/50"><div class="flex items-center justify-between mb-2"><h3 class="text-lg font-semibold text-white flex items-center gap-2"><span class="text-2xl">${B(null==(O=F[d(u)])?void 0:O.icon)}</span> ${B(null==(Z=F[d(u)])?void 0:Z.title)}</h3><span class="px-2 py-1 rounded-lg bg-amber-500/20 text-amber-300 text-sm font-medium">${B(null==(X=F[d(u)])?void 0:X.weight)}% weight </span></div><p class="text-sm text-gray-400">${B(null==(ae=F[d(u)])?void 0:ae.description)}</p></div>`),6===d(u)?(t(`<div class="space-y-4"><div class="p-6 rounded-xl bg-gradient-to-br from-amber-500/10 to-orange-500/10 border border-amber-500/30 text-center"><p class="text-gray-400 mb-2">Final Score</p><p class="text-5xl font-bold text-white">${B(d(z).toFixed(1))}</p><p class="text-sm text-gray-500 mt-2">Based on scoring profile: ${B(d(_))}</p></div><div class="space-y-3">\x3c!--[--\x3e`),G(F.slice(0,6),(e,a)=>{t(`<div class="flex items-center gap-4 p-3 rounded-lg bg-gray-800/50"><span class="text-xl">${B(e.icon)}</span><div class="flex-1"><div class="flex justify-between text-sm mb-1"><span class="text-gray-300">${B(e.title)}</span><span class="text-white font-medium">${B(o$1(e.id).toFixed(1))}</span></div><div class="h-1.5 rounded-full bg-gray-700 overflow-hidden"><div class="h-full bg-gradient-to-r from-amber-500 to-orange-400 rounded-full transition-all" style="${te({width:10*o$1(e.id)+"%"})}"></div></div></div><span class="text-xs text-gray-500 w-10 text-right">${B(e.weight)}%</span></div>`)}),t(`\x3c!--]--\x3e</div><div><label class="block text-sm font-medium text-gray-400 mb-2">Scoring Notes (optional)</label><textarea rows="2" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-amber-500 focus:outline-none resize-none" placeholder="Any notes about this evaluation...">${B(d(y))}</textarea></div></div>`)):(t('<div class="space-y-4">\x3c!--[--\x3e'),G(null==(se=F[d(u)])?void 0:se.fields,e=>{t(`<div class="p-4 rounded-xl bg-gray-800/30 border border-gray-700/50"><div class="flex items-start justify-between mb-3"><div class="flex-1"><label class="block text-sm font-medium text-white mb-1">${B(e.label)}</label><p class="text-xs text-gray-500">${B(e.hint)}</p></div><div class="flex items-center gap-2 ml-4"><span class="text-2xl font-bold text-amber-400 w-8 text-right">${B(d(L)[e.id])}</span><span class="text-gray-500 text-sm">/10</span></div></div><div class="flex gap-1.5">\x3c!--[--\x3e`),G(10,a=>{var s,n;t(`<button class="${K(["flex-1 py-2.5 rounded-lg text-sm font-medium transition-all",(null!=(s=d(L)[e.id])?s:0)===a?"bg-amber-500 text-white shadow-lg shadow-amber-500/30":(null!=(n=d(L)[e.id])?n:0)>a?"bg-amber-500/30 text-amber-300 hover:bg-amber-500/40":"bg-gray-700/50 text-gray-400 hover:bg-gray-700 hover:text-gray-300"])}">${B(a)}</button>`)}),t('\x3c!--]--\x3e</div><div class="flex justify-between mt-2 text-[10px] text-gray-600"><span>Poor</span><span>Average</span><span>Excellent</span></div></div>')}),t("\x3c!--]--\x3e</div>")),t('</div><div class="flex-shrink-0 flex items-center justify-between px-6 py-4 border-t border-gray-800 bg-gray-900/50">'),d(u)>0?(t('<button class="flex items-center gap-2 px-4 py-2.5 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors">'),t(N(d(De),{class:"w-4 h-4"},null,s)),t(" Back </button>")):t("<div></div>"),t('<div class="flex items-center gap-3"><button class="px-4 py-2.5 rounded-lg text-gray-400 hover:text-white transition-colors"> Cancel </button>'),d(u)<F.length-1?(t(`<button${ee(!d(Y))?" disabled":""} class="flex items-center gap-2 px-5 py-2.5 rounded-lg bg-amber-600 hover:bg-amber-500 text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed"> Next `),t(N(d(he),{class:"w-4 h-4"},null,s)),t("</button>")):(t(`<button${ee(d(h))?" disabled":""} class="flex items-center gap-2 px-5 py-2.5 rounded-lg bg-gradient-to-r from-amber-600 to-orange-500 hover:from-amber-500 hover:to-orange-400 text-white font-medium transition-all disabled:opacity-50">`),d(h)?t("\x3c!----\x3e"):t(N(d(Ue),{class:"w-4 h-4"},null,s)),d(h)?t("<span>Saving...</span>"):t("<span>Save Score</span>"),t("</button>")),t("</div></div></div></div>")):t("\x3c!----\x3e")},"body",!1,s)}}}),us=gs.setup;gs.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/wizards/LabScoreWizard.vue"),us?us(e,t):void 0};const xs=Object.assign(gs,{__name:"LabScoreWizard"}),vs=e({__name:"LabQuickPhotoUpload",__ssrInlineRender:!0,props:{show:{type:Boolean},plant:{}},emits:["close","saved"],setup(e,{emit:a}){const n=e;ra(),St();const u=t([]),h=t(!1),y=t(!1),_=t("");return s(()=>n.show,e=>{e&&(u.value=[],_.value="")}),(t,a,s,n)=>{X(a,t=>{var a;e.show?(t('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70"><div class="w-full max-w-md max-h-[85vh] flex flex-col bg-gray-900 rounded-2xl shadow-2xl border border-gray-800 overflow-hidden"><div class="flex items-center justify-between px-6 py-4 border-b border-gray-800 bg-gradient-to-r from-blue-500/10 to-cyan-500/10"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center">'),t(N(d(Ye),{class:"w-5 h-5 text-blue-400"},null,s)),t(`</div><div><h2 class="text-lg font-semibold text-white">Quick Photo</h2><p class="text-xs text-gray-400">${B((null==(a=e.plant)?void 0:a.plant_code)||"Upload a photo")}</p></div></div><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">`),t(N(d(me),{class:"w-5 h-5"},null,s)),t('</button></div><div class="p-6 space-y-4 overflow-y-auto flex-1">'),0===d(u).length?(t(`<div><label class="flex flex-col items-center justify-center gap-3 p-8 border-2 border-dashed border-gray-700 rounded-xl cursor-pointer hover:border-blue-500/50 hover:bg-blue-500/5 transition-all"><input type="file" accept="image/*" multiple class="hidden"${ee(d(h))?" disabled":""}><div class="w-16 h-16 rounded-2xl bg-blue-500/20 flex items-center justify-center">`),d(h)?t(N(d(Ae),{class:"w-8 h-8 text-blue-400 animate-spin"},null,s)):t(N(d(Ye),{class:"w-8 h-8 text-blue-400"},null,s)),t(`</div><div class="text-center"><p class="text-sm font-medium text-white">${B(d(h)?"Uploading...":"Click to add photos")}</p><p class="text-xs text-gray-500 mt-1">JPG, PNG, WEBP up to 10MB</p></div></label></div>`)):(t('<div class="space-y-3"><div class="grid grid-cols-3 gap-2">\x3c!--[--\x3e'),G(d(u),(e,a)=>{t(`<div class="relative aspect-square rounded-xl overflow-hidden bg-gray-800"><img${Y("src",e)} class="w-full h-full object-cover"><button class="absolute top-1.5 right-1.5 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-400 transition-colors shadow-lg">`),t(N(d(me),{class:"w-4 h-4 text-white"},null,s)),t("</button></div>")}),t(`\x3c!--]--\x3e<label class="aspect-square rounded-xl border-2 border-dashed border-gray-700 flex items-center justify-center cursor-pointer hover:border-blue-500/50 hover:bg-blue-500/5 transition-all"><input type="file" accept="image/*" multiple class="hidden"${ee(d(h))?" disabled":""}>`),d(h)?t(N(d(Ae),{class:"w-6 h-6 text-blue-400 animate-spin"},null,s)):t(N(d(oe),{class:"w-6 h-6 text-gray-500"},null,s)),t("</label></div></div>")),t(`<div><label class="block text-sm font-medium text-gray-400 mb-2">Quick Note (optional)</label><textarea rows="2" placeholder="Add a note about this photo..." class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none resize-none">${B(d(_))}</textarea></div></div><div class="flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-800 bg-gray-900/80"><button class="px-4 py-2.5 text-gray-400 hover:text-white transition-colors rounded-xl hover:bg-gray-800"> Cancel </button><button${ee(0===d(u).length||d(y))?" disabled":""} class="${K(["flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium transition-all",0===d(u).length||d(y)?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white"])}">`),d(y)?t(N(d(Ae),{class:"w-4 h-4 animate-spin"},null,s)):t(N(d(fe),{class:"w-4 h-4"},null,s)),t(` ${B(d(y)?"Saving...":"Save Photo")}</button></div></div></div>`)):t("\x3c!----\x3e")},"body",!1,s)}}}),bs=vs.setup;vs.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabQuickPhotoUpload.vue"),bs?bs(e,t):void 0};const ms=Object.assign(vs,{__name:"LabQuickPhotoUpload"}),fs=e({__name:"LabPlants",__ssrInlineRender:!0,emits:["openNewPlant","addObservation"],setup(e,{emit:u}){const h=u,y=ra(),_=t(""),L=t(null),O=t(null),F=t(!1),Z=t(null),X=t(!1),ee=t(!1),te=a(()=>{const e=[];for(const t of Object.keys(sa)){if(["archived","culled"].includes(t))continue;const a=y.plants.filter(e=>e.status===t).length;a>0&&e.push({id:t,count:a})}return e}),ae=a(()=>{let e=[...y.plants];if(e=L.value?e.filter(e=>e.status===L.value):e.filter(e=>!["archived","culled"].includes(e.status)),_.value){const t=_.value.toLowerCase();e=e.filter(e=>{var a,s;return e.plant_code.toLowerCase().includes(t)||(null==(a=e.pheno_label)?void 0:a.toLowerCase().includes(t))||(null==(s=e.strain_name)?void 0:s.toLowerCase().includes(t))})}return e});function i(e){O.value=e,y.fetchPlant(e.id)}function $(){var e;(null==(e=O.value)?void 0:e.id)&&y.fetchPlant(O.value.id)}function R(){O.value&&h("addObservation",O.value.id)}function I(){y.clearPlantForObservation(),h("addObservation","")}function w(){O.value&&(X.value=!0)}function k(){O.value&&(ee.value=!0)}function E(){var e;ee.value=!1,(null==(e=O.value)?void 0:e.id)&&(y.fetchPlant(O.value.id),y.fetchAllObservations())}function D(e){var t;X.value=!1,(null==(t=O.value)?void 0:t.id)&&(y.fetchPlant(O.value.id),y.fetchPlants(),y.fetchDashboard())}function x(e){Z.value=e,F.value=!0}function j(e){if(e.plant_id){const t=y.plants.find(t=>t.id===e.plant_id);t&&i(t)}}function H(e){Z.value=e,F.value=!0}async function M(e){if(e.id)try{await y.updateObservation(e.id,e),F.value=!1,Z.value=null,y.fetchAllObservations(),O.value&&y.fetchPlant(O.value.id)}catch{}}async function q(e){try{await y.deleteObservation(e),F.value=!1,Z.value=null,y.fetchAllObservations(),O.value&&y.fetchPlant(O.value.id)}catch{}}async function m(e,t,a){let s=y.allObservations.find(t=>t.id===e);if(s||(s=y.currentPlantObservations.find(t=>t.id===e)),!s||!s.photos)return;const n=s.photos.filter((e,a)=>a!==t);try{await y.updateObservation(e,{photos:n}),y.fetchAllObservations(),O.value&&y.fetchPlant(O.value.id)}catch{}}return s(()=>y.plants,e=>{if(O.value){const t=e.find(e=>{var t;return e.id===(null==(t=O.value)?void 0:t.id)});t&&(O.value=t)}},{deep:!0}),(e,t,a,s)=>{const u=Wa,h=qa,se=os,le=as,ie=ps,ne=xs,de=ms;t(`<div${z(n({class:"h-full flex overflow-hidden"},s))} data-v-c7bf4130><div class="${K(["flex flex-col transition-all duration-300 overflow-hidden border-r border-gray-800/50","w-full lg:w-2/5"])}" data-v-c7bf4130><div class="flex-shrink-0 p-4 space-y-4" data-v-c7bf4130><div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3" data-v-c7bf4130><div class="relative flex-1 sm:flex-none sm:w-56" data-v-c7bf4130>`),t(N(d(Ee),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"},null,a)),t(`<input${Y("value",d(_))} type="text" placeholder="Search plants..." class="w-full pl-10 pr-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-base text-white placeholder-gray-500 focus:border-spider-green-500/50 focus:outline-none transition-colors" data-v-c7bf4130></div><div class="flex items-center gap-3" data-v-c7bf4130><div class="flex items-center bg-gray-800/50 rounded-xl p-1" data-v-c7bf4130>\x3c!--[--\x3e`),G(["cards","list"],e=>{t(`<button class="${K(["p-2 rounded-lg transition-colors",d(y).plantsView===e?"bg-spider-green-600/30 text-spider-green-400":"text-gray-500 hover:text-gray-300"])}" data-v-c7bf4130>`),t(N(d("cards"===e?Me:xe),{class:"w-5 h-5"},null,a)),t("</button>")}),t('\x3c!--]--\x3e</div><button class="flex items-center gap-2 px-4 py-3 rounded-xl bg-gradient-to-r from-spider-green-600 to-spider-green-500 hover:from-spider-green-500 hover:to-spider-green-400 text-white text-sm font-medium shadow-lg shadow-spider-green-500/20 transition-all" data-v-c7bf4130>'),t(N(d(oe),{class:"w-5 h-5"},null,a)),t(`<span class="hidden sm:inline" data-v-c7bf4130>New Plant</span></button></div></div><div class="flex gap-2 overflow-x-auto pb-1 scrollbar-hide" data-v-c7bf4130><button class="${K(["px-3 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all",d(L)?"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50":"bg-spider-green-600 text-white"])}" data-v-c7bf4130> All Plants </button>\x3c!--[--\x3e`),G(d(te),e=>{t(`<button class="${K(["flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all",d(L)===e.id?`bg-${d(sa)[e.id].bgColor} text-${d(sa)[e.id].color}`:"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50"])}" data-v-c7bf4130><span data-v-c7bf4130>${B(d(sa)[e.id].icon)}</span><span data-v-c7bf4130>${B(d(sa)[e.id].shortLabel)}</span><span class="px-1.5 py-0.5 rounded bg-black/20 text-xs" data-v-c7bf4130>${B(e.count)}</span></button>`)}),t('\x3c!--]--\x3e</div></div><div class="flex-1 overflow-y-auto p-4 pt-0" data-v-c7bf4130>'),d(ae).length>0?(t("<div data-v-c7bf4130>"),"cards"===d(y).plantsView?(t('<div class="grid grid-cols-1 sm:grid-cols-2 gap-3" data-v-c7bf4130>\x3c!--[--\x3e'),G(d(ae),e=>{var s;t(N(u,{key:e.id,plant:e,active:(null==(s=d(O))?void 0:s.id)===e.id,onClick:t=>i(e)},null,a))}),t("\x3c!--]--\x3e</div>")):(t('<div class="space-y-2" data-v-c7bf4130>\x3c!--[--\x3e'),G(d(ae),e=>{var s;t(N(h,{key:e.id,plant:e,active:(null==(s=d(O))?void 0:s.id)===e.id,onClick:t=>i(e)},null,a))}),t("\x3c!--]--\x3e</div>")),t("</div>")):(t('<div class="flex flex-col items-center justify-center py-16 text-center" data-v-c7bf4130><div class="w-20 h-20 rounded-2xl bg-gray-800/50 flex items-center justify-center mb-4" data-v-c7bf4130>'),t(N(d(re),{class:"w-10 h-10 text-gray-600"},null,a)),t(`</div><h3 class="text-lg font-semibold text-gray-300 mb-2" data-v-c7bf4130>No plants found</h3><p class="text-base text-gray-500 mb-6 max-w-sm" data-v-c7bf4130>${B(d(_)?"Try adjusting your search or filters":"Start by adding your first plant to the laboratory")}</p>`),d(_)?t("\x3c!----\x3e"):(t('<button class="flex items-center gap-2 px-5 py-3 rounded-xl bg-spider-green-600 hover:bg-spider-green-500 text-white font-medium transition-colors" data-v-c7bf4130>'),t(N(d(oe),{class:"w-5 h-5"},null,a)),t(" Add First Plant </button>")),t("</div>")),t('</div></div><div class="hidden lg:flex flex-1 flex-col overflow-hidden bg-gray-900/30" data-v-c7bf4130>'),d(O)?(t('\x3c!--[--\x3e<div class="flex-shrink-0 p-3 flex items-center justify-between border-b border-gray-800/50" data-v-c7bf4130><button class="flex items-center gap-2 px-3 py-2 rounded-xl hover:bg-gray-800 text-gray-400 hover:text-white transition-colors" data-v-c7bf4130>'),t(N(d(Ne),{class:"w-5 h-5"},null,a)),t('<span class="text-sm" data-v-c7bf4130>Back to Timeline</span></button></div>'),t(N(se,{plant:d(O),observations:d(y).currentPlantObservations,onAddObservation:R,onAddPhoto:k,onScore:w,onStageChanged:$,onPlantUpdated:$,onSelectObservation:x,onEditObservation:H,onDeletePhoto:m,onSelectClone:i},null,a)),t("\x3c!--]--\x3e")):(t('\x3c!--[--\x3e<div class="flex-shrink-0 p-5 border-b border-gray-800/50" data-v-c7bf4130><div class="flex items-center justify-between" data-v-c7bf4130><div data-v-c7bf4130><h2 class="text-xl font-bold text-white" data-v-c7bf4130>Journal Timeline</h2><p class="text-base text-gray-400 mt-1" data-v-c7bf4130>All observations from all your plants</p></div>'),d(y).activePlants.length>0?(t('<button class="flex items-center gap-2 px-4 py-3 rounded-xl bg-spider-green-600 hover:bg-spider-green-500 text-white font-medium transition-colors" data-v-c7bf4130>'),t(N(d(oe),{class:"w-5 h-5"},null,a)),t(" Add Entry </button>")):t("\x3c!----\x3e"),t('</div></div><div class="flex-1 overflow-y-auto p-5" data-v-c7bf4130>'),t(N(le,{observations:d(y).allObservations,"show-all-plants":!0,onAddObservation:I,onSelectObservation:j,onEditObservation:H,onDeletePhoto:m},null,a)),t("</div>\x3c!--]--\x3e")),t("</div>"),t(N(ie,{show:d(F),observation:d(Z),onClose:e=>{F.value=!1,Z.value=null},onSave:M,onDelete:q},null,a)),t(N(ne,{show:d(X),plant:d(O),onClose:e=>X.value=!1,onSaved:D},null,a)),t(N(de,{show:d(ee),plant:d(O),onClose:e=>ee.value=!1,onSaved:E},null,a)),t("</div>")}}}),hs=fs.setup;fs.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/plants/LabPlants.vue"),hs?hs(e,t):void 0};const ys=Object.assign(Ct(fs,[["__scopeId","data-v-c7bf4130"]]),{__name:"LabPlants"}),ws=e({__name:"LabDeviceOverlay",__ssrInlineRender:!0,props:{room:{},devices:{},outletStates:{}},setup(e){const s=e,u=t(!1),{getSocketDisplayName:h}=Pt(),y=Lt(),_=At(),L=a(()=>{const e=s.room.light_ids||[],t=s.devices.some(e=>"LC"===e.deviceType);return 0===e.length&&t?["light","light2"].filter(e=>"light"===e||!_.isLight2Disabled).map((e,t)=>{var a,s;const n=y.states[e];return{id:e,label:`Light ${t+1}`,isOn:null!=(a=null==n?void 0:n.isOn)&&a,level:null!=(s=null==n?void 0:n.mLevel)?s:0,mode:n?y.getModeName(n.modeType):""}}):e.map((e,t)=>{var a,s;const n=e.includes(":")?e.split(":").pop():e,d=y.states[n];return{id:e,label:`Light ${t+1}`,isOn:null!=(a=null==d?void 0:d.isOn)&&a,level:null!=(s=null==d?void 0:d.mLevel)?s:0,mode:d?y.getModeName(d.modeType):""}})}),O=a(()=>(s.room.outlet_ids||[]).map(e=>{var t;const a=e.includes(":")?e.split(":").pop():e,n=s.outletStates[a];return{key:a,name:h(a,"short"),isOn:null!=(t=null==n?void 0:n.isOn)&&t}}));return(t,a,s,h)=>{a(`<div${z(n({class:"device-overlay"},h))}><button class="flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg bg-gray-900/70 backdrop-blur-xl border border-gray-700/30 text-gray-300 hover:text-white transition-all text-xs font-medium">`),a(N(d(lt),{class:"w-3.5 h-3.5"},null,s)),a(`<span>${B(e.devices.length)}</span>`),a(N(d(Ie),{class:["w-3 h-3 transition-transform",d(u)?"rotate-180":""]},null,s)),a("</button>"),d(u)?(a('<div class="mt-2 w-56 rounded-xl bg-gray-900/70 backdrop-blur-xl border border-gray-700/30 shadow-2xl overflow-hidden">'),d(L).length>0?(a('<div class="p-2.5 border-b border-gray-800/50"><div class="text-[9px] text-gray-500 uppercase tracking-widest mb-2 font-semibold">Lights</div><div class="space-y-1.5">\x3c!--[--\x3e'),G(d(L),e=>{a(`<div class="flex items-center gap-2"><div class="${K([e.isOn?"bg-amber-400 shadow-sm shadow-amber-400/50":"bg-gray-600","w-2 h-2 rounded-full flex-shrink-0 transition-all"])}"></div><span class="${K([e.isOn?"text-amber-200":"text-gray-500","text-xs font-medium flex-1"])}">${B(e.label)}</span>`),e.isOn?a(`<span class="text-[10px] text-gray-400 font-mono">${B(e.level)}%</span>`):a("\x3c!----\x3e"),e.isOn&&e.mode?a(`<span class="text-[8px] px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400 font-medium">${B(e.mode)}</span>`):a("\x3c!----\x3e"),e.isOn?a("\x3c!----\x3e"):a('<span class="text-[10px] text-gray-600">OFF</span>'),a("</div>")}),a("\x3c!--]--\x3e</div></div>")):a("\x3c!----\x3e"),d(O).length>0?(a('<div class="p-2.5 border-b border-gray-800/50"><div class="text-[9px] text-gray-500 uppercase tracking-widest mb-2 font-semibold">Outlets</div><div class="flex gap-1.5 flex-wrap">\x3c!--[--\x3e'),G(d(O),e=>{a(`<div class="${K([e.isOn?"bg-green-500/10":"bg-gray-800/40","flex flex-col items-center gap-0.5 px-1.5 py-1 rounded-lg transition-colors"])}"><div class="${K([e.isOn?"bg-green-400 shadow-sm shadow-green-400/40":"bg-gray-700","w-3 h-3 rounded-full transition-all flex items-center justify-center"])}">`),a(N(d(Re),{class:["w-1.5 h-1.5",e.isOn?"text-gray-900":"text-gray-500"]},null,s)),a(`</div><span class="${K([e.isOn?"text-green-400":"text-gray-600","text-[8px] font-medium leading-none"])}">${B(e.name)}</span></div>`)}),a("\x3c!--]--\x3e</div></div>")):a("\x3c!----\x3e"),a('<div class="p-2.5"><div class="text-[9px] text-gray-500 uppercase tracking-widest mb-2 font-semibold">Connection</div><div class="space-y-1">\x3c!--[--\x3e'),G(e.devices,e=>{a(`<div class="flex items-center gap-2"><div class="${K([e.connected?"bg-green-400 shadow-sm shadow-green-400/50":"bg-red-400","w-1.5 h-1.5 rounded-full flex-shrink-0"])}"></div><span class="text-[10px] text-gray-400 truncate">${B(e.customName||("PS5"===e.deviceType?"Power Strip":"Light Controller"))}</span></div>`)}),a("\x3c!--]--\x3e</div></div></div>")):a("\x3c!----\x3e"),a("</div>")}}}),_s=ws.setup;ws.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/rooms/LabDeviceOverlay.vue"),_s?_s(e,t):void 0};const $s=Object.assign(ws,{__name:"LabDeviceOverlay"}),ks=e({__name:"LabEnvironmentGauges",__ssrInlineRender:!0,props:{temp:{},humi:{},vpd:{},co2:{},tempSoil:{},humiSoil:{},ecSoil:{}},setup(e){const t=e,s=2*Math.PI*50;function p(e){return s*(1-function(e,t,a){return Math.min(a,Math.max(t,e))}(e,0,100)/100)}function v(e,t,a,s,n){return e>=t&&e<=a?"#4ade80":e>=s&&e<=n?"#facc15":"#f87171"}function P(e){return.6108*Math.exp(17.27*e/(e+237.3))}const u=a(()=>{if(null==t.temp||null==t.humi)return null;const e=P(t.temp-2.8),a=P(t.temp)*(t.humi/100);return Math.max(0,e-a)}),h=a(()=>null!=t.temp?(t.temp-15)/20*100:0),y=a(()=>p(h.value)),_=a(()=>null==t.temp?"#374151":v(t.temp,20,28,18,30)),L=a(()=>null!=t.humi?t.humi:0),O=a(()=>p(L.value)),F=a(()=>null==t.humi?"#374151":v(t.humi,40,65,30,75)),N=a(()=>null!=t.vpd?t.vpd/2*100:0),G=a(()=>p(N.value)),K=a(()=>null==t.vpd?"#374151":v(t.vpd,.8,1.2,.4,1.6)),Z=a(()=>null!=u.value?u.value/2*100:0),X=a(()=>p(Z.value)),ee=a(()=>null==u.value?"#374151":v(u.value,.8,1.2,.4,1.6)),te=a(()=>null!=t.co2?t.co2/2e3*100:0),ae=a(()=>p(te.value)),se=a(()=>null==t.co2?"#374151":v(t.co2,800,1200,400,1500)),le=a(()=>null!=t.tempSoil||null!=t.humiSoil||null!=t.ecSoil);return(t,a,h,L)=>{a(`<div${z(n({class:"gauges-wrapper"},L))} data-v-cb485dd1><div class="gauges-container" data-v-cb485dd1><div class="gauge-item" data-v-cb485dd1><svg viewBox="0 0 120 120" class="gauge-svg" data-v-cb485dd1><circle cx="60" cy="60" r="50" fill="none" stroke="#1f2937" stroke-width="7" data-v-cb485dd1></circle><circle cx="60" cy="60" r="50" fill="none"${Y("stroke",d(_))} stroke-width="7" stroke-linecap="round"${Y("stroke-dasharray",s)}${Y("stroke-dashoffset",d(y))} transform="rotate(-90 60 60)" class="gauge-ring" data-v-cb485dd1></circle><text x="60" y="56" text-anchor="middle" dominant-baseline="central" class="gauge-value" fill="white" data-v-cb485dd1>${B(null!=e.temp?e.temp.toFixed(1):"--")}</text><text x="60" y="76" text-anchor="middle" dominant-baseline="central" class="gauge-unit" fill="#6b7280" data-v-cb485dd1>Â°C</text></svg><span class="gauge-label" data-v-cb485dd1>Temp</span></div><div class="gauge-item" data-v-cb485dd1><svg viewBox="0 0 120 120" class="gauge-svg" data-v-cb485dd1><circle cx="60" cy="60" r="50" fill="none" stroke="#1f2937" stroke-width="7" data-v-cb485dd1></circle><circle cx="60" cy="60" r="50" fill="none"${Y("stroke",d(F))} stroke-width="7" stroke-linecap="round"${Y("stroke-dasharray",s)}${Y("stroke-dashoffset",d(O))} transform="rotate(-90 60 60)" class="gauge-ring" data-v-cb485dd1></circle><text x="60" y="56" text-anchor="middle" dominant-baseline="central" class="gauge-value" fill="white" data-v-cb485dd1>${B(null!=e.humi?Math.round(e.humi):"--")}</text><text x="60" y="76" text-anchor="middle" dominant-baseline="central" class="gauge-unit" fill="#6b7280" data-v-cb485dd1>% RH</text></svg><span class="gauge-label" data-v-cb485dd1>Humidity</span></div><div class="gauge-item" data-v-cb485dd1><svg viewBox="0 0 120 120" class="gauge-svg" data-v-cb485dd1><circle cx="60" cy="60" r="50" fill="none" stroke="#1f2937" stroke-width="7" data-v-cb485dd1></circle><circle cx="60" cy="60" r="50" fill="none"${Y("stroke",d(K))} stroke-width="7" stroke-linecap="round"${Y("stroke-dasharray",s)}${Y("stroke-dashoffset",d(G))} transform="rotate(-90 60 60)" class="gauge-ring" data-v-cb485dd1></circle><text x="60" y="56" text-anchor="middle" dominant-baseline="central" class="gauge-value" fill="white" data-v-cb485dd1>${B(null!=e.vpd?e.vpd.toFixed(2):"--")}</text><text x="60" y="76" text-anchor="middle" dominant-baseline="central" class="gauge-unit" fill="#6b7280" data-v-cb485dd1>kPa</text></svg><span class="gauge-label" data-v-cb485dd1>Air VPD</span></div><div class="gauge-item" data-v-cb485dd1><svg viewBox="0 0 120 120" class="gauge-svg" data-v-cb485dd1><circle cx="60" cy="60" r="50" fill="none" stroke="#1f2937" stroke-width="7" data-v-cb485dd1></circle><circle cx="60" cy="60" r="50" fill="none"${Y("stroke",d(ee))} stroke-width="7" stroke-linecap="round"${Y("stroke-dasharray",s)}${Y("stroke-dashoffset",d(X))} transform="rotate(-90 60 60)" class="gauge-ring" data-v-cb485dd1></circle><text x="60" y="56" text-anchor="middle" dominant-baseline="central" class="gauge-value" fill="white" data-v-cb485dd1>${B(null!=d(u)?d(u).toFixed(2):"--")}</text><text x="60" y="76" text-anchor="middle" dominant-baseline="central" class="gauge-unit" fill="#6b7280" data-v-cb485dd1>kPa</text></svg><span class="gauge-label leaf-label" data-v-cb485dd1>Leaf VPD</span></div>`),null!=e.co2&&e.co2>0?a(`<div class="gauge-item" data-v-cb485dd1><svg viewBox="0 0 120 120" class="gauge-svg" data-v-cb485dd1><circle cx="60" cy="60" r="50" fill="none" stroke="#1f2937" stroke-width="7" data-v-cb485dd1></circle><circle cx="60" cy="60" r="50" fill="none"${Y("stroke",d(se))} stroke-width="7" stroke-linecap="round"${Y("stroke-dasharray",s)}${Y("stroke-dashoffset",d(ae))} transform="rotate(-90 60 60)" class="gauge-ring" data-v-cb485dd1></circle><text x="60" y="56" text-anchor="middle" dominant-baseline="central" class="gauge-value" fill="white" data-v-cb485dd1>${B(Math.round(e.co2))}</text><text x="60" y="76" text-anchor="middle" dominant-baseline="central" class="gauge-unit" fill="#6b7280" data-v-cb485dd1>ppm</text></svg><span class="gauge-label" data-v-cb485dd1>CO2</span></div>`):a("\x3c!----\x3e"),a("</div>"),d(le)?a(`<div class="soil-strip" data-v-cb485dd1><span class="soil-strip-title" data-v-cb485dd1>Soil</span><div class="soil-chip" data-v-cb485dd1><span class="soil-chip-label" data-v-cb485dd1>Temp</span><span class="soil-chip-value" data-v-cb485dd1>${B(null!=e.tempSoil?e.tempSoil.toFixed(1)+"Â°C":"--")}</span></div><div class="soil-chip" data-v-cb485dd1><span class="soil-chip-label" data-v-cb485dd1>Moisture</span><span class="soil-chip-value" data-v-cb485dd1>${B(null!=e.humiSoil?Math.round(e.humiSoil)+"%":"--")}</span></div><div class="soil-chip" data-v-cb485dd1><span class="soil-chip-label" data-v-cb485dd1>EC</span><span class="soil-chip-value" data-v-cb485dd1>${B(null!=e.ecSoil?e.ecSoil.toFixed(1)+" mS":"--")}</span></div></div>`):a("\x3c!----\x3e"),a("</div>")}}}),Ss=ks.setup;ks.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/rooms/LabEnvironmentGauges.vue"),Ss?Ss(e,t):void 0};const Cs=Object.assign(Ct(ks,[["__scopeId","data-v-cb485dd1"]]),{__name:"LabEnvironmentGauges"}),js=e({__name:"LabPlantOverlay",__ssrInlineRender:!0,props:{plants:{}},setup(e){const s=e;ra();const u=t(null),h={"amber-400":"#fbbf24","lime-400":"#a3e635","green-400":"#4ade80","green-500":"#22c55e","emerald-400":"#34d399","purple-400":"#c084fc","purple-500":"#a855f7","pink-400":"#f472b6","pink-500":"#ec4899","yellow-400":"#facc15","orange-400":"#fb923c","amber-500":"#f59e0b","amber-600":"#d97706","gray-400":"#9ca3af","red-400":"#f87171"},y=a(()=>s.plants.map(e=>{const t=sa[e.status];return{id:e.id,code:e.plant_code,strain:e.strain_name||"Unknown",stageLabel:(null==t?void 0:t.shortLabel)||e.status,color:t&&h[t.color]||"#4ade80",isKeeper:e.is_keeper,sex:e.sex,day:e.current_day}})),_=a(()=>u.value&&y.value.find(e=>e.id===u.value)||null);return(t,a,s,h)=>{e.plants.length>0?(a(`<div${z(n({class:"plant-overlay"},h))}><div class="flex items-center gap-1 px-2.5 py-2 rounded-xl bg-gray-900/70 backdrop-blur-xl border border-gray-700/30 shadow-2xl"><span class="text-[9px] text-gray-500 font-semibold uppercase tracking-wider mr-1">Plants</span>\x3c!--[--\x3e`),G(d(y),e=>{a(`<button class="${K([d(u)===e.id?"bg-gray-700/60 ring-1 ring-gray-500/30":"hover:bg-gray-800/60","flex items-center gap-1 px-1.5 py-0.5 rounded-md transition-all hover:scale-105"])}"${Y("title",e.strain+" - "+e.stageLabel)}><div class="w-2 h-2 rounded-full flex-shrink-0" style="${te({backgroundColor:e.color})}"></div><span class="text-[9px] font-bold text-gray-200">${B(e.code)}</span>`),e.isKeeper?a('<span class="text-[8px] text-amber-400">â˜…</span>'):a("\x3c!----\x3e"),a("</button>")}),a("\x3c!--]--\x3e</div>"),d(_)?(a(`<div class="mt-2 p-3 rounded-xl bg-gray-900/70 backdrop-blur-xl border border-gray-700/30 shadow-2xl w-52"><div class="flex items-center justify-between mb-2"><div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded-full" style="${te({backgroundColor:d(_).color})}"></div><span class="text-sm font-bold text-white">${B(d(_).code)}</span>`),d(_).isKeeper?a('<span class="text-xs text-amber-400">â˜…</span>'):a("\x3c!----\x3e"),a(`</div><button class="text-gray-500 hover:text-white text-xs">âœ•</button></div><div class="space-y-1 text-[10px]"><div class="flex justify-between"><span class="text-gray-500">Strain</span><span class="text-gray-300 font-medium">${B(d(_).strain)}</span></div><div class="flex justify-between"><span class="text-gray-500">Stage</span><span style="${te({color:d(_).color})}" class="font-semibold">${B(d(_).stageLabel)}</span></div><div class="flex justify-between"><span class="text-gray-500">Day</span><span class="text-gray-300 font-mono">${B(d(_).day)}</span></div>`),"unknown"!==d(_).sex?a(`<div class="flex justify-between"><span class="text-gray-500">Sex</span><span class="text-gray-300">${B(d(_).sex)}</span></div>`):a("\x3c!----\x3e"),a('</div><button class="mt-2 w-full text-center text-[10px] font-medium text-teal-400 hover:text-teal-300 transition-colors"> View Full Details â†’ </button></div>')):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e")}}}),Ps=js.setup;js.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/rooms/LabPlantOverlay.vue"),Ps?Ps(e,t):void 0};const Ds=Object.assign(js,{__name:"LabPlantOverlay"}),As=500,Ls=e({__name:"LabRoomWizard",__ssrInlineRender:!0,props:{editingRoom:{}},emits:["close","saved"],setup(e,{emit:u}){var h,y,_,L,O,F,Z,X,ae,se,le,re,ie,ne;const oe=e,de=ra(),ce=Tt(),pe=t(1),ue=t(!1),xe=["Room Type","Details","Devices","Outlets & Sensors","Plants","Plant Layout","Review"],ve=[{id:"tent",icon:"â›º",label:"Grow Tent",desc:"Indoor fabric tent"},{id:"room",icon:"ðŸ ",label:"Dedicated Room",desc:"Converted room"},{id:"greenhouse",icon:"ðŸŒ¿",label:"Greenhouse",desc:"Glass or poly structure"},{id:"outdoor",icon:"â˜€ï¸",label:"Outdoor",desc:"Open air garden"},{id:"closet",icon:"ðŸšª",label:"Closet",desc:"Small enclosed space"},{id:"custom",icon:"ðŸ”§",label:"Custom",desc:"Other setup"}],be=t({room_type:(null==(h=oe.editingRoom)?void 0:h.room_type)||"tent",name:(null==(y=oe.editingRoom)?void 0:y.name)||"",description:(null==(_=oe.editingRoom)?void 0:_.description)||"",width:(null==(O=null==(L=oe.editingRoom)?void 0:L.dimensions_cm)?void 0:O.width)||120,depth:(null==(Z=null==(F=oe.editingRoom)?void 0:F.dimensions_cm)?void 0:Z.depth)||120,height:(null==(ae=null==(X=oe.editingRoom)?void 0:X.dimensions_cm)?void 0:ae.height)||200,device_macs:[...(null==(se=oe.editingRoom)?void 0:se.device_macs)||[]],outlet_ids:[...(null==(le=oe.editingRoom)?void 0:le.outlet_ids)||[]],plant_ids:[...(null==(re=oe.editingRoom)?void 0:re.active_plant_ids)||[]],plant_positions:{...(null==(ne=null==(ie=oe.editingRoom)?void 0:ie.layout_data)?void 0:ne.plant_positions)||{}}}),he=a(()=>ce.allDevices),ye=a(()=>de.activePlants),we=a(()=>{const e=[];for(const t of be.value.device_macs){const a=he.value.find(e=>e.mac===t);if("PS5"===(null==a?void 0:a.deviceType))for(let s=1;s<=5;s++)e.push({id:`${t}:O${s}`,label:`Outlet ${s}`,device:a.customName||t})}return e}),$e=a(()=>{var e;return(null==(e=ve.find(e=>e.id===be.value.room_type))?void 0:e.icon)||"ðŸ "}),ke=a(()=>{switch(pe.value){case 1:return!!be.value.room_type;case 2:return!!be.value.name.trim()&&be.value.width>0&&be.value.depth>0&&be.value.height>0;case 3:case 4:case 5:case 6:case 7:return!0;default:return!1}}),Se=Math.random().toString(36).slice(2,8);t(null);const Ce=t(null),je=a(()=>ye.value.filter(e=>be.value.plant_ids.includes(e.id))),Pe=a(()=>{const e=(be.value.width||120)/(be.value.depth||120);let t,a;return e>=1?(t=As,a=As/e):(a=As,t=As*e),{width:t+"px",height:a+"px"}}),De=a(()=>20/(be.value.width||120)*parseFloat(Pe.value.width));function x(e){if(be.value.plant_positions[e])return be.value.plant_positions[e];const t=be.value.plant_ids.indexOf(e),a=be.value.plant_ids.length,s=Math.min(a,4),n=Math.ceil(a/s),d=t%s,u=Math.floor(t/s),h=.15*be.value.width,y=.15*be.value.depth,_=be.value.width-2*h,L=be.value.depth-2*y;return{x:s>1?h+d*(_/(s-1)):be.value.width/2,z:n>1?y+u*(L/(n-1)):be.value.depth/2}}function j(e){const t=x(e.id),a=function(e,t){return{left:e/be.value.width*100,top:t/be.value.depth*100}}(t.x,t.z);return{left:a.left+"%",top:a.top+"%",transform:"translate(-50%, -50%)"}}const Ae={germinating:"#fbbf24",seedling:"#a3e635",early_veg:"#4ade80",mid_veg:"#22c55e",late_veg:"#34d399",pre_flower:"#c084fc",early_flower:"#a855f7",mid_flower:"#f472b6",late_flower:"#ec4899",flush:"#fb923c",harvest:"#f59e0b",drying:"#d97706",curing:"#9ca3af",archived:"#6b7280",culled:"#f87171"};function M(e){return Ae[e.status]||"#4ade80"}return s(pe,e=>{if(6===e){for(const e of be.value.plant_ids)be.value.plant_positions[e]||(be.value.plant_positions[e]=x(e));for(const e of Object.keys(be.value.plant_positions))be.value.plant_ids.includes(e)||delete be.value.plant_positions[e]}}),(t,a,s,u)=>{a(`<div${z(n({class:"fixed top-0 right-0 bottom-0 left-0 desktop:left-[var(--sidebar-width,256px)] z-50 bg-gray-900 overflow-hidden flex flex-col"},u))}><div class="h-1 bg-gray-800"><div class="h-full bg-gradient-to-r from-teal-600 to-cyan-400 transition-all duration-500" style="${te({width:pe.value/7*100+"%"})}"></div></div><div class="flex-shrink-0 border-b border-gray-800"><div class="max-w-4xl mx-auto px-6 py-4"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center shadow-lg shadow-teal-500/20">`),a(N(d(ge),{class:"w-6 h-6 text-white"},null,s)),a(`</div><div><h1 class="text-xl font-bold text-white">${B(e.editingRoom?"Edit Room":"New Grow Room")}</h1><p class="text-sm text-gray-400">Step ${B(pe.value)} of ${B(7)} â€” ${B(xe[pe.value-1])}</p></div></div><button class="p-3 rounded-xl hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">`),a(N(d(me),{class:"w-6 h-6"},null,s)),a('</button></div></div></div><div class="flex-1 overflow-y-auto"><div class="max-w-4xl mx-auto px-6 py-8">'),1===pe.value?(a('\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">What type of grow space?</h2><p class="text-lg text-gray-400">Select the type that best describes your cultivation area.</p></div><div class="grid grid-cols-2 sm:grid-cols-3 gap-4">\x3c!--[--\x3e'),G(ve,e=>{a(`<button class="${K([be.value.room_type===e.id?"border-teal-500 bg-teal-500/10 shadow-lg shadow-teal-500/20":"border-gray-700/50 bg-gray-800/40 hover:border-gray-600","group relative p-6 rounded-2xl border-2 transition-all text-center"])}"><div class="text-4xl mb-3">${B(e.icon)}</div><h3 class="text-sm font-bold text-white mb-1">${B(e.label)}</h3><p class="text-[10px] text-gray-400">${B(e.desc)}</p></button>`)}),a("\x3c!--]--\x3e</div>\x3c!--]--\x3e")):a("\x3c!----\x3e"),2===pe.value?a(`\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Room Details</h2><p class="text-lg text-gray-400">Name your room and set its dimensions.</p></div><div class="space-y-6"><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2"> Room Name <span class="text-red-400">*</span></label><input${Y("value",be.value.name)} type="text" placeholder="e.g., Main Tent, Flower Room, Veg Closet..." class="w-full px-5 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white text-lg placeholder-gray-500 focus:border-teal-500 focus:outline-none focus:ring-2 focus:ring-teal-500/20 transition-all" autofocus></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-sm font-semibold text-white mb-2">Description (optional)</label><textarea rows="2" placeholder="Brief description of this grow space..." class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-teal-500 focus:outline-none resize-none transition-all">${B(be.value.description)}</textarea></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-4">Dimensions (cm)</label><div class="grid grid-cols-3 gap-4"><div><label class="block text-xs text-gray-400 mb-1">Width</label><input${Y("value",be.value.width)} type="number" min="30" max="1000" class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white text-center font-mono focus:border-teal-500 focus:outline-none transition-all"></div><div><label class="block text-xs text-gray-400 mb-1">Depth</label><input${Y("value",be.value.depth)} type="number" min="30" max="1000" class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white text-center font-mono focus:border-teal-500 focus:outline-none transition-all"></div><div><label class="block text-xs text-gray-400 mb-1">Height</label><input${Y("value",be.value.height)} type="number" min="50" max="400" class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white text-center font-mono focus:border-teal-500 focus:outline-none transition-all"></div></div><div class="mt-4 flex items-end justify-center gap-1 h-20"><div class="border border-teal-500/50 bg-teal-500/10 rounded transition-all" style="${te({width:Math.max(20,Math.min(120,be.value.width/5))+"px",height:Math.max(20,Math.min(80,be.value.height/5))+"px"})}"><div class="flex items-center justify-center h-full text-[9px] text-teal-400/80 font-mono">${B(be.value.width)}x${B(be.value.depth)}</div></div></div></div></div>\x3c!--]--\x3e`):a("\x3c!----\x3e"),3===pe.value?(a('\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Assign Devices</h2><p class="text-lg text-gray-400">Select the Spider Farmer devices in this grow space.</p></div>'),0===he.value.length?(a('<div class="text-center py-12">'),a(N(d(lt),{class:"w-12 h-12 text-gray-600 mx-auto mb-3"},null,s)),a('<p class="text-gray-400">No devices detected. You can add them later.</p></div>')):(a('<div class="space-y-3">\x3c!--[--\x3e'),G(he.value,e=>{a(`<button class="${K([be.value.device_macs.includes(e.mac)?"border-teal-500 bg-teal-500/10":"border-gray-700/50 bg-gray-800/40 hover:border-gray-600","w-full flex items-center gap-4 p-4 rounded-2xl border-2 transition-all text-left"])}"><div class="${K([be.value.device_macs.includes(e.mac)?"bg-teal-500/20":"bg-gray-700/50","w-12 h-12 rounded-xl flex items-center justify-center"])}">`),a(N(d(lt),{class:["w-6 h-6",be.value.device_macs.includes(e.mac)?"text-teal-400":"text-gray-500"]},null,s)),a(`</div><div class="flex-1"><p class="font-medium text-white">${B(e.customName||e.mac)}</p><p class="text-xs text-gray-500">${B("PS5"===e.deviceType?"Power Strip 5":"Light Controller")} Â· ${B(e.mac)}</p></div><div class="${K([be.value.device_macs.includes(e.mac)?"border-teal-500 bg-teal-500":"border-gray-600","w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors"])}">`),be.value.device_macs.includes(e.mac)?a(N(d(fe),{class:"w-4 h-4 text-white"},null,s)):a("\x3c!----\x3e"),a("</div></button>")}),a("\x3c!--]--\x3e</div>")),a("\x3c!--]--\x3e")):a("\x3c!----\x3e"),4===pe.value?(a('\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Configure Outlets &amp; Sensors</h2><p class="text-lg text-gray-400">Select which outlets and sensors belong to this room.</p></div>'),we.value.length>0?(a('<div class="mb-8"><h3 class="text-sm font-medium text-gray-300 mb-3">Outlets</h3><div class="grid grid-cols-2 sm:grid-cols-3 gap-3">\x3c!--[--\x3e'),G(we.value,e=>{a(`<button class="${K([be.value.outlet_ids.includes(e.id)?"border-amber-500 bg-amber-500/10":"border-gray-700/50 bg-gray-800/40 hover:border-gray-600","p-4 rounded-xl border-2 transition-all text-center"])}">`),a(N(d(Re),{class:["w-6 h-6 mx-auto mb-2",be.value.outlet_ids.includes(e.id)?"text-amber-400":"text-gray-500"]},null,s)),a(`<p class="text-sm font-medium text-white">${B(e.label)}</p><p class="text-[10px] text-gray-500">${B(e.device)}</p></button>`)}),a("\x3c!--]--\x3e</div></div>")):a("\x3c!----\x3e"),a('<div><h3 class="text-sm font-medium text-gray-300 mb-3">Sensors</h3><div class="p-4 rounded-xl bg-gray-800/40 border border-gray-700/50"><p class="text-sm text-gray-400"> Sensor data from assigned devices will be automatically associated with this room. </p></div></div>\x3c!--]--\x3e')):a("\x3c!----\x3e"),5===pe.value?(a('\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Assign Plants</h2><p class="text-lg text-gray-400">Select plants currently growing in this room. You can change this anytime.</p></div>'),0===ye.value.length?a('<div class="text-center py-12"><p class="text-gray-400">No active plants in the lab. You can add them later.</p></div>'):(a('<div class="space-y-2">\x3c!--[--\x3e'),G(ye.value,e=>{a(`<button class="${K([be.value.plant_ids.includes(e.id)?"border-green-500/50 bg-green-500/10":"border-gray-700/50 bg-gray-800/40 hover:border-gray-600","w-full flex items-center gap-3 p-3 rounded-xl border transition-all text-left"])}"><div class="${K([be.value.plant_ids.includes(e.id)?"bg-green-400":"bg-gray-600","w-3 h-3 rounded-full"])}"></div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-white">${B(e.plant_code)}</p><p class="text-[10px] text-gray-500">${B(e.strain_name||"Unknown")} Â· ${B(e.status)}</p></div>`),be.value.plant_ids.includes(e.id)?a(N(d(fe),{class:"w-5 h-5 text-green-400"},null,s)):a("\x3c!----\x3e"),a("</button>")}),a("\x3c!--]--\x3e</div>")),a("\x3c!--]--\x3e")):a("\x3c!----\x3e"),6===pe.value?(a('\x3c!--[--\x3e<div class="mb-6"><h2 class="text-3xl font-bold text-white mb-3">Plant Layout</h2><p class="text-lg text-gray-400">Drag plants to position them in your room. Top-down aerial view.</p></div>'),0===je.value.length?a('<div class="text-center py-12"><p class="text-gray-400">No plants selected. Go back to add plants first, or skip this step.</p></div>'):(a(`<div><div class="relative mx-auto" style="${te(Pe.value)}"><div class="relative w-full h-full rounded-xl border-2 border-gray-600/60 overflow-hidden" style="${te({background:"radial-gradient(circle at 50% 50%, rgba(20,40,35,0.9), rgba(10,15,20,0.95))"})}"><svg class="absolute inset-0 w-full h-full pointer-events-none" preserveAspectRatio="none"><defs><pattern${Y("id","grid-"+d(Se))}${Y("width",De.value)}${Y("height",De.value)} patternUnits="userSpaceOnUse"><path${Y("d",`M ${De.value} 0 L 0 0 0 ${De.value}`)} fill="none" stroke="rgba(100,120,140,0.12)" stroke-width="1"></path></pattern></defs><rect width="100%" height="100%"${Y("fill",`url(#grid-${d(Se)})`)}></rect></svg><div class="absolute -top-6 left-1/2 -translate-x-1/2 text-[10px] text-gray-500 font-mono">${B(be.value.width)} cm </div><div class="absolute top-1/2 -left-8 -translate-y-1/2 -rotate-90 text-[10px] text-gray-500 font-mono whitespace-nowrap">${B(be.value.depth)} cm </div>\x3c!--[--\x3e`),G(je.value,e=>{a(`<div class="absolute cursor-grab active:cursor-grabbing select-none z-10 group" style="${te(j(e))}"><div class="relative"><div class="${K([Ce.value===e.id?"border-teal-400 bg-teal-500/30 scale-110":"border-green-500/60 bg-green-500/20","w-9 h-9 rounded-full border-2 flex items-center justify-center transition-all group-hover:scale-110"])}"><div class="w-4 h-4 rounded-full" style="${te({background:M(e)})}"></div></div><div class="absolute -bottom-5 left-1/2 -translate-x-1/2 whitespace-nowrap text-center"><span class="text-[9px] font-bold text-white/80 bg-gray-900/70 px-1.5 py-0.5 rounded">${B(e.plant_code)}</span></div></div></div>`)}),a('\x3c!--]--\x3e</div></div><div class="flex items-center justify-center gap-3 mt-6"><button class="px-4 py-2 rounded-xl text-xs font-medium text-gray-300 bg-gray-800 hover:bg-gray-700 border border-gray-700 transition-colors"> Auto-distribute evenly </button><span class="text-[10px] text-gray-600">Drag plants to fine-tune positions</span></div></div>')),a("\x3c!--]--\x3e")):a("\x3c!----\x3e"),7===pe.value?(a(`\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Review &amp; Create</h2><p class="text-lg text-gray-400">Check everything looks good before saving.</p></div><div class="space-y-4"><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><div class="flex items-center gap-4 mb-4"><div class="text-3xl">${B($e.value)}</div><div><h3 class="text-xl font-bold text-white">${B(be.value.name)}</h3><p class="text-sm text-gray-400 capitalize">${B(be.value.room_type)}</p></div></div>`),be.value.description?a(`<div class="text-sm text-gray-400 mb-4">${B(be.value.description)}</div>`):a("\x3c!----\x3e"),a(`<div class="grid grid-cols-2 sm:grid-cols-4 gap-3 text-center"><div class="p-3 rounded-xl bg-gray-900/50"><p class="text-[10px] text-gray-500">Dimensions</p><p class="text-sm font-medium text-white">${B(be.value.width)}x${B(be.value.depth)}x${B(be.value.height)}cm</p></div><div class="p-3 rounded-xl bg-gray-900/50"><p class="text-[10px] text-gray-500">Devices</p><p class="text-sm font-medium text-white">${B(be.value.device_macs.length)}</p></div><div class="p-3 rounded-xl bg-gray-900/50"><p class="text-[10px] text-gray-500">Outlets</p><p class="text-sm font-medium text-white">${B(be.value.outlet_ids.length)}</p></div><div class="p-3 rounded-xl bg-gray-900/50"><p class="text-[10px] text-gray-500">Plants</p><p class="text-sm font-medium text-white">${B(be.value.plant_ids.length)}</p></div></div></div></div>\x3c!--]--\x3e`)):a("\x3c!----\x3e"),a('</div></div><div class="flex-shrink-0 border-t border-gray-800"><div class="max-w-4xl mx-auto px-6 py-4 flex items-center justify-between">'),pe.value>1?a('<button class="px-5 py-2.5 rounded-xl text-sm text-gray-400 hover:text-white hover:bg-gray-800 transition-colors"> Back </button>'):a("<div></div>"),a(`<button${ee(!ke.value||ue.value)?" disabled":""} class="${K([7===pe.value?"bg-gradient-to-r from-teal-600 to-cyan-500 hover:from-teal-500 hover:to-cyan-400 shadow-lg shadow-teal-500/25":"bg-gray-700 hover:bg-gray-600","px-6 py-2.5 rounded-xl text-sm font-medium text-white transition-all disabled:opacity-50 disabled:cursor-not-allowed"])}">${B(7===pe.value?ue.value?"Saving...":e.editingRoom?"Save Changes":"Create Room":"Next")}</button></div></div></div>`)}}}),Ts=Ls.setup;Ls.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/wizards/LabRoomWizard.vue"),Ts?Ts(e,t):void 0};const Os=Object.assign(Ls,{__name:"LabRoomWizard"}),Ms=e({__name:"LabRooms",__ssrInlineRender:!0,setup(e){const s=ra(),h=Tt(),y=Dt(),L=At(),O=t(!1),F=t(null),Y=t(null),Z=t(!1);t(!0);const ee=a(()=>s.rooms),te=a(()=>s.currentRoom?s.currentRoom:1===ee.value.length?ee.value[0]:null),ae=a(()=>{var e,t;return(null==(t=null==(e=te.value)?void 0:e.device_macs)?void 0:t.length)?h.allDevices.filter(e=>te.value.device_macs.includes(e.mac)):[]}),se=a(()=>{var e,t;return(null==(t=null==(e=te.value)?void 0:e.active_plant_ids)?void 0:t.length)?s.plants.filter(e=>te.value.active_plant_ids.includes(e.id)):[]}),le=a(()=>{var e,t,a,s,n,d,u;const h=y.current,_=y.soil;return{temp:null!=(e=null==h?void 0:h.temp)?e:null,humi:null!=(t=null==h?void 0:h.humi)?t:null,vpd:null!=(a=null==h?void 0:h.vpd)?a:null,co2:null!=(s=null==h?void 0:h.co2)?s:null,temp_soil:null!=(n=null==_?void 0:_.temp_soil)?n:null,humi_soil:null!=(d=null==_?void 0:_.humi_soil)?d:null,ec_soil:null!=(u=null==_?void 0:_.ec_soil)?u:null}}),re=a(()=>L.states||{}),ie=a(()=>{var e;return{tent:"TENT",room:"ROOM",greenhouse:"GREENHOUSE",outdoor:"OUTDOOR",closet:"CLOSET",custom:"CUSTOM"}[(null==(e=te.value)?void 0:e.room_type)||"tent"]||"ROOM"});function I(e){return{tent:"â›º",room:"ðŸ ",greenhouse:"ðŸŒ¿",outdoor:"â˜€ï¸",closet:"ðŸšª",custom:"ðŸ”§"}[e]||"ðŸ "}function w(e){var t;const a={active:"bg-green-500/20 text-green-400",inactive:"bg-gray-500/20 text-gray-400",setup:"bg-blue-500/20 text-blue-400",harvesting:"bg-amber-500/20 text-amber-400"};return null!=(t=a[e]||a.inactive)?t:""}function k(){O.value=!1,F.value=null}function E(){k(),s.fetchRooms()}return(e,t,a,s)=>{var h,y;const L=jt,ne=$s,de=Cs,ce=Ds,pe=Os;t(`<div${z(n({class:"h-full flex flex-col"},s))}><div class="flex-shrink-0 p-4 pb-2"><div class="flex items-center justify-between gap-3"><div class="flex items-center gap-3 min-w-0"><div class="w-8 h-8 rounded-lg bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center flex-shrink-0">`),t(N(d(ge),{class:"w-4 h-4 text-white"},null,a)),t("</div>"),d(ee).length>1?(t(`<div class="relative min-w-0"><button class="flex items-center gap-2 px-3 py-1.5 rounded-lg hover:bg-gray-800/60 transition-colors"><span class="text-xl">${B(I((null==(h=d(te))?void 0:h.room_type)||"tent"))}</span><span class="text-lg font-bold text-white truncate">${B((null==(y=d(te))?void 0:y.name)||"Select Room")}</span>`),t(N(d(Ie),{class:"w-4 h-4 text-gray-400 flex-shrink-0"},null,a)),t("</button>"),d(Z)?(t('<div class="absolute top-full left-0 mt-1 z-20 w-64 py-1 bg-gray-800 border border-gray-700 rounded-xl shadow-2xl">\x3c!--[--\x3e'),G(d(ee),e=>{var a;t(`<button class="${K([e.id===(null==(a=d(te))?void 0:a.id)?"bg-teal-500/10":"","w-full flex items-center gap-3 px-4 py-2.5 text-left hover:bg-gray-700/60 transition-colors"])}"><span class="text-lg">${B(I(e.room_type))}</span><div class="flex-1 min-w-0"><p class="text-sm font-medium text-white truncate">${B(e.name)}</p><p class="text-[10px] text-gray-500">${B((e.device_macs||[]).length)} devices Â· ${B((e.active_plant_ids||[]).length)} plants</p></div><span class="${K(["active"===e.status?"bg-green-400":"bg-gray-600","w-2 h-2 rounded-full flex-shrink-0"])}"></span></button>`)}),t("\x3c!--]--\x3e</div>")):t("\x3c!----\x3e"),t("</div>")):d(te)?t(`<div class="flex items-center gap-2 min-w-0"><span class="text-xl">${B(I(d(te).room_type))}</span><h2 class="text-lg font-bold text-white truncate">${B(d(te).name)}</h2></div>`):t('<h2 class="text-lg font-bold text-white">Grow Rooms</h2>'),t('</div><div class="flex items-center gap-2 flex-shrink-0">'),d(te)?(t('\x3c!--[--\x3e<button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors" title="Edit Room">'),t(N(d(Fe),{class:"w-4 h-4"},null,a)),t('</button><button class="p-2 rounded-lg hover:bg-red-500/20 text-gray-400 hover:text-red-400 transition-colors" title="Delete Room">'),t(N(d(Pe),{class:"w-4 h-4"},null,a)),t("</button>\x3c!--]--\x3e")):t("\x3c!----\x3e"),t('<button class="flex items-center gap-1.5 px-3 py-2 rounded-xl bg-gradient-to-r from-teal-600 to-cyan-500 hover:from-teal-500 hover:to-cyan-400 text-white text-xs font-medium shadow-lg shadow-teal-500/25 transition-all hover:shadow-teal-500/40">'),t(N(d(oe),{class:"w-3.5 h-3.5"},null,a)),t('<span class="hidden sm:inline">New Room</span></button></div></div></div><div class="flex-1 overflow-hidden">'),0===d(ee).length?(t('<div class="h-full flex flex-col items-center justify-center p-6"><div class="w-24 h-24 rounded-3xl bg-gradient-to-br from-teal-500/10 to-cyan-500/10 border border-teal-500/20 flex items-center justify-center mb-6"><svg class="w-12 h-12 text-teal-400/60" viewBox="0 0 64 64" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="8" y="20" width="48" height="36" rx="2"></rect><path d="M8 20 L32 6 L56 20"></path><rect x="24" y="36" width="16" height="20" rx="1"></rect><circle cx="36" cy="46" r="1.5" fill="currentColor"></circle></svg></div><h3 class="text-xl font-bold text-white mb-2">Set Up Your Grow Space</h3><p class="text-sm text-gray-400 text-center max-w-sm mb-6"> Create a virtual room to organize devices, sensors, outlets, and plants in one visual dashboard. </p><button class="flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-teal-600 to-cyan-500 text-white font-medium shadow-lg shadow-teal-500/25 hover:shadow-teal-500/40 transition-all hover:scale-105">'),t(N(d(oe),{class:"w-5 h-5"},null,a)),t(" Create First Room </button></div>")):d(te)?(t('<div class="h-full relative overflow-hidden">'),t(N(L,null,{fallback:_((e,t,a,s)=>{if(!t)return[u("div",{class:"absolute inset-0 flex items-center justify-center bg-gray-950"},[u("div",{class:"text-center"},[u("div",{class:"w-8 h-8 border-2 border-teal-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),u("span",{class:"text-xs text-gray-500"},"Loading 3D scene...")])])];t(`<div class="absolute inset-0 flex items-center justify-center bg-gray-950"${s}><div class="text-center"${s}><div class="w-8 h-8 border-2 border-teal-400 border-t-transparent rounded-full animate-spin mx-auto mb-3"${s}></div><span class="text-xs text-gray-500"${s}>Loading 3D scene...</span></div></div>`)})},a)),t(`<div class="absolute top-3 left-3 z-10"><div class="flex items-center gap-2 px-3 py-1.5 rounded-xl bg-gray-900/60 backdrop-blur-xl border border-gray-700/30 shadow-lg"><span class="text-xs font-bold tracking-widest uppercase text-cyan-400/70">${B(d(ie))}</span>`),d(te).dimensions_cm?t(`<span class="text-[10px] text-gray-500 font-mono">${B(d(te).dimensions_cm.width)}Ã—${B(d(te).dimensions_cm.depth)}Ã—${B(d(te).dimensions_cm.height)}cm </span>`):t("\x3c!----\x3e"),t(`<span class="${K([w(d(te).status),"px-1.5 py-0.5 rounded-full text-[8px] font-bold uppercase tracking-wider"])}">${B(d(te).status)}</span></div></div><div class="absolute top-3 right-3 z-10">`),t(N(ne,{room:d(te),devices:d(ae),"outlet-states":d(re)},null,a)),t('</div><div class="absolute bottom-4 left-1/2 -translate-x-1/2 z-10">'),t(N(de,{temp:d(le).temp,humi:d(le).humi,vpd:d(le).vpd,co2:d(le).co2,"temp-soil":d(le).temp_soil,"humi-soil":d(le).humi_soil,"ec-soil":d(le).ec_soil},null,a)),t("</div>"),d(se).length>0?(t('<div class="absolute bottom-4 right-4 z-10">'),t(N(ce,{plants:d(se)},null,a)),t("</div>")):t("\x3c!----\x3e"),t("</div>")):t("\x3c!----\x3e"),t("</div>"),d(O)?t(N(pe,{"editing-room":d(F),onClose:k,onSaved:E},null,a)):t("\x3c!----\x3e"),X(t,e=>{d(Y)?e(`<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm"><div class="bg-gray-800 rounded-2xl border border-gray-700 p-6 max-w-md w-full shadow-2xl"><h3 class="text-lg font-bold text-white mb-2">Delete Room</h3><p class="text-sm text-gray-400 mb-6"> Are you sure you want to delete <strong class="text-white">${B(d(Y).name)}</strong>? </p><div class="flex justify-end gap-3"><button class="px-4 py-2 rounded-xl text-sm text-gray-400 hover:text-white hover:bg-gray-700 transition-colors">Cancel</button><button class="px-4 py-2 rounded-xl text-sm bg-red-600 hover:bg-red-500 text-white transition-colors">Delete</button></div></div></div>`):e("\x3c!----\x3e")},"body",!1,a),d(Z)?t('<div class="fixed inset-0 z-10"></div>'):t("\x3c!----\x3e"),t("</div>")}}}),Rs=Ms.setup;Ms.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabRooms.vue"),Rs?Rs(e,t):void 0};const Fs=Object.assign(Ms,{__name:"LabRooms"});function Dr(){const e=t(!1),a=t(""),{getAuthHeaders:s}=kt();async function g(t,n){e.value=!0,a.value="";try{const e=await $fetch(`/api/cameras/${t}/command`,{method:"POST",headers:s(),body:{path:n}});return e.success||(a.value=e.body||"Command failed"),{success:e.success,body:e.body}}catch(e){return a.value=e.message||"Request failed",{success:!1,body:a.value}}finally{e.value=!1}}return{sending:e,error:a,sendCommand:g,fetchSettings:async function(e){try{const t=await g(e,"/status.json?show_avail=1");if(t.success&&t.body)return JSON.parse(t.body)}catch{}return null}}}const zs=e({__name:"LabCameraControls",__ssrInlineRender:!0,props:{cameraId:{}},setup(e){const s=e,{sending:y,error:_,sendCommand:L}=Dr(),O=t(!0),F=t(!1),X=t(!1),te=t(!1),le=t(1),re=t(2),ie=t(!1),ne=t(!1),oe=t(100),de=t("1920x1080"),ce=t("1920x1080"),pe=t("landscape"),ge=t("none"),ue=t("auto"),xe=t(!1),ve=t(100),be=t(100),me=t(3200),fe=t("auto"),he=t("continuous-video"),ye=t("none"),we=t("auto"),$e=t(0),ke=t(["100"]),Se=t(0),Ce=t([]),je=t(["auto","continuous-video"]),Pe=t(["1920x1080"]),De=t(["1920x1080"]),Te=t(["landscape","portrait"]),Oe=t(["auto"]),Me=t(["auto"]),Fe=t(["none"]),ze=t(["auto"]),Ie=t(null),Ee=[{value:"none",label:"Normal"},{value:"mirror",label:"Mirror"},{value:"flip",label:"Flip"},{value:"mirror,flip",label:"Both"}],Ne=a(()=>[{key:"torch",label:"Flash",icon:Re,title:"Toggle flashlight/LED",active:()=>X.value,activeClass:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",toggle:()=>{X.value=!X.value,Be(X.value?"/enabletorch":"/disabletorch")}},{key:"nv",label:"Night Vision",icon:ht,title:"Software night vision â€” amplifies low-light image",active:()=>te.value,activeClass:"bg-indigo-500/20 text-indigo-400 border border-indigo-500/30",toggle:()=>{te.value=!te.value,Be("/settings/night_vision?set="+(te.value?"on":"off"))}},{key:"overlay",label:"Overlay",icon:gt,title:"Show data overlay on video stream (not on photos)",active:()=>ie.value,activeClass:"bg-teal-500/20 text-teal-400 border border-teal-500/30",toggle:()=>{ie.value=!ie.value,Be("/settings/overlay?set="+(ie.value?"on":"off"))}},{key:"ffc",label:"Front Camera",icon:Ae,title:"Switch to front-facing camera",active:()=>ne.value,activeClass:"bg-teal-500/20 text-teal-400 border border-teal-500/30",toggle:()=>{ne.value=!ne.value,Be("/settings/ffc?set="+(ne.value?"on":"off"))}}]),He=a(()=>{const e=ke.value[$e.value];return e?(parseInt(e)/100).toFixed(1)+"x":"1.0x"}),Ge=a(()=>{const e=Ce.value.length-1-Se.value,t=Ce.value[e];if(!t)return"?";const a=parseFloat(t);return 0===a?"Infinity":a<=1?`~${(1/a).toFixed(1)}m`:a<=5?`~${(100/a).toFixed(0)}cm`:`~${(100/a).toFixed(0)}cm (macro)`});function J(e){return e.replace(/[-_]/g," ").replace(/\b\w/g,e=>e.toUpperCase())}async function Be(e){await L(s.cameraId,e)}return(e,t,a,s)=>{t(`<div${z(n({class:"p-4 space-y-4"},s))}>`),d(O)?t('<div class="flex items-center justify-center py-6"><div class="flex items-center gap-2 text-gray-400"><svg class="w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg><span class="text-base">Loading camera settings...</span></div></div>'):d(F)?(t('\x3c!--[--\x3e<div class="flex flex-wrap gap-2">\x3c!--[--\x3e'),G(d(Ne),e=>{t(`<button${ee(d(y))?" disabled":""} class="${K(["flex items-center gap-1.5 px-3 py-2 rounded-lg text-base font-medium transition-all",e.active()?e.activeClass:"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50 hover:text-white border border-transparent"])}"${Y("title",e.title)}>`),Z(t,u(h(e.icon),{class:"w-4 h-4"},null),a),t(` ${B(e.label)}</button>`)}),t('\x3c!--]--\x3e</div><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="space-y-4"><div class="rounded-xl bg-gray-800/40 p-3 space-y-2"><h4 class="text-base font-medium text-gray-300">Focus</h4><select class="w-full bg-gray-700 border-0 rounded-lg text-base text-white px-3 py-2 focus:ring-teal-500">\x3c!--[--\x3e'),G(d(je),e=>{t(`<option${Y("value",e)}${ee(Array.isArray(d(he))?ae(d(he),e):se(d(he),e))?" selected":""}>${B(J(e))}</option>`)}),t("\x3c!--]--\x3e</select>"),d(Ce).length>0?t(`<div class="space-y-1"><div class="flex items-center justify-between"><span class="text-base text-gray-500">Close</span><span class="text-base text-gray-400 font-medium">${B(d(Ge))}</span><span class="text-base text-gray-500">Far</span></div><input type="range"${Y("min",0)}${Y("max",d(Ce).length-1)}${Y("value",d(Se))} class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"><p class="text-base text-gray-600">For timelapse: use Off mode + set distance manually</p></div>`):t("\x3c!----\x3e"),t(`</div><div class="rounded-xl bg-gray-800/40 p-3 space-y-2"><div class="flex items-center justify-between"><h4 class="text-base font-medium text-gray-300">Zoom</h4><span class="text-base text-teal-400 font-medium">${B(d(He))}</span></div><input type="range"${Y("min",0)}${Y("max",d(ke).length-1)}${Y("value",d($e))} class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"></div><div class="rounded-xl bg-gray-800/40 p-3 space-y-2"><div class="flex items-center justify-between"><h4 class="text-base font-medium text-gray-300">Quality</h4><span class="text-base text-teal-400 font-medium">${B(d(oe))}%</span></div><input type="range" min="1" max="100"${Y("value",d(oe))} class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"></div>`),d(te)?t(`<div class="rounded-xl bg-indigo-900/20 border border-indigo-500/20 p-3 space-y-2"><h4 class="text-base font-medium text-indigo-400">Night Vision</h4><div class="grid grid-cols-2 gap-3"><div><span class="text-base text-gray-500">Gain</span><div class="flex items-center gap-2"><input type="range" min="0.25" max="60" step="0.25"${Y("value",d(le))} class="flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"><span class="text-base text-gray-400 w-12 text-right">${B(d(le).toFixed(1))}x</span></div></div><div><span class="text-base text-gray-500">Average</span><div class="flex items-center gap-2"><input type="range" min="1" max="20"${Y("value",d(re))} class="flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"><span class="text-base text-gray-400 w-12 text-right">${B(d(re))}f</span></div></div></div></div>`):t("\x3c!----\x3e"),t('</div><div class="space-y-4"><div class="rounded-xl bg-gray-800/40 p-3 space-y-2"><h4 class="text-base font-medium text-gray-300">Resolution</h4><div class="grid grid-cols-2 gap-2"><div><label class="text-base text-gray-500 mb-1 block">Video</label><select class="w-full bg-gray-700 border-0 rounded-lg text-base text-white px-3 py-2 focus:ring-teal-500">\x3c!--[--\x3e'),G(d(Pe),e=>{t(`<option${Y("value",e)}${ee(Array.isArray(d(de))?ae(d(de),e):se(d(de),e))?" selected":""}>${B(e)}</option>`)}),t('\x3c!--]--\x3e</select></div><div><label class="text-base text-gray-500 mb-1 block">Photo</label><select class="w-full bg-gray-700 border-0 rounded-lg text-base text-white px-3 py-2 focus:ring-teal-500">\x3c!--[--\x3e'),G(d(De),e=>{t(`<option${Y("value",e)}${ee(Array.isArray(d(ce))?ae(d(ce),e):se(d(ce),e))?" selected":""}>${B(e)}</option>`)}),t('\x3c!--]--\x3e</select></div></div></div><div class="rounded-xl bg-gray-800/40 p-3 space-y-2"><h4 class="text-base font-medium text-gray-300">Orientation</h4><div class="flex flex-wrap gap-1">\x3c!--[--\x3e'),G(d(Te),e=>{t(`<button${ee(d(y))?" disabled":""} class="${K(["px-2.5 py-1.5 rounded-lg text-base font-medium transition-all",d(pe)===e?"bg-teal-500/20 text-teal-400":"bg-gray-700/50 text-gray-400 hover:text-white"])}">${B(J(e))}</button>`)}),t('\x3c!--]--\x3e</div><div class="flex flex-wrap gap-1">\x3c!--[--\x3e'),G(Ee,e=>{t(`<button${ee(d(y))?" disabled":""} class="${K(["px-2.5 py-1.5 rounded-lg text-base font-medium transition-all",d(ge)===e.value?"bg-teal-500/20 text-teal-400":"bg-gray-700/50 text-gray-400 hover:text-white"])}">${B(e.label)}</button>`)}),t('\x3c!--]--\x3e</div></div><div class="rounded-xl bg-gray-800/40 p-3 space-y-2"><div class="grid grid-cols-2 gap-2"><div><label class="text-base text-gray-300 font-medium mb-1 block">White Balance</label><select class="w-full bg-gray-700 border-0 rounded-lg text-base text-white px-3 py-2 focus:ring-teal-500">\x3c!--[--\x3e'),G(d(Oe),e=>{t(`<option${Y("value",e)}${ee(Array.isArray(d(ue))?ae(d(ue),e):se(d(ue),e))?" selected":""}>${B(J(e))}</option>`)}),t('\x3c!--]--\x3e</select></div><div><label class="text-base text-gray-300 font-medium mb-1 block">Scene Mode</label><select class="w-full bg-gray-700 border-0 rounded-lg text-base text-white px-3 py-2 focus:ring-teal-500">\x3c!--[--\x3e'),G(d(Me),e=>{t(`<option${Y("value",e)}${ee(Array.isArray(d(fe))?ae(d(fe),e):se(d(fe),e))?" selected":""}>${B(J(e))}</option>`)}),t('\x3c!--]--\x3e</select></div></div></div><div class="rounded-xl bg-gray-800/40 p-3"><div class="grid grid-cols-2 gap-2"><div><label class="text-base text-gray-300 font-medium mb-1 block">Color Effect</label><select class="w-full bg-gray-700 border-0 rounded-lg text-base text-white px-3 py-2 focus:ring-teal-500">\x3c!--[--\x3e'),G(d(Fe),e=>{t(`<option${Y("value",e)}${ee(Array.isArray(d(ye))?ae(d(ye),e):se(d(ye),e))?" selected":""}>${B(J(e))}</option>`)}),t('\x3c!--]--\x3e</select></div><div><label class="text-base text-gray-300 font-medium mb-1 block">Antibanding</label><select class="w-full bg-gray-700 border-0 rounded-lg text-base text-white px-3 py-2 focus:ring-teal-500">\x3c!--[--\x3e'),G(d(ze),e=>{t(`<option${Y("value",e)}${ee(Array.isArray(d(we))?ae(d(we),e):se(d(we),e))?" selected":""}>${B(J(e))}</option>`)}),t(`\x3c!--]--\x3e</select></div></div></div><div class="rounded-xl bg-gray-800/40 p-3 space-y-2"><div class="flex items-center justify-between"><h4 class="text-base font-medium text-gray-300">Manual Sensor</h4><button${ee(d(y))?" disabled":""} class="${K(["w-10 h-6 rounded-full transition-colors relative",d(xe)?"bg-orange-500":"bg-gray-600"])}"><span class="${K(["absolute top-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform",d(xe)?"left-[18px]":"left-0.5"])}"></span></button></div>`),d(xe)?t(`<div class="space-y-2"><div class="flex items-center gap-2"><span class="text-base text-gray-400 w-10 shrink-0">ISO</span><input type="range"${Y("min",d(be))}${Y("max",d(me))}${Y("step",100)}${Y("value",d(ve))} class="flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-orange-500"><span class="text-base text-gray-400 w-12 text-right">${B(d(ve))}</span></div></div>`):t("\x3c!----\x3e"),t("</div></div></div>"),d(Ie)?(t(`<div class="flex flex-wrap items-center gap-4 p-3 rounded-xl bg-gray-900/50 text-base text-gray-500"><span>f/${B(d(Ie).aperture)} Â· ${B(d(Ie).focalLength)}mm</span><span>ISO ${B(d(Ie).iso)}</span>`),d(Ie).battery>=0?t(`<span>Battery ${B(d(Ie).battery)}%</span>`):t("\x3c!----\x3e"),t("</div>")):t("\x3c!----\x3e"),d(_)?(t('<div class="flex items-center gap-2 p-3 rounded-lg bg-red-500/10 border border-red-500/20">'),t(N(d(Le),{class:"w-4 h-4 text-red-400 shrink-0"},null,a)),t(`<span class="text-base text-red-400">${B(d(_))}</span></div>`)):t("\x3c!----\x3e"),t("\x3c!--]--\x3e")):(t('<div class="flex flex-col items-center gap-2 py-6 text-center">'),t(N(d(Le),{class:"w-8 h-8 text-yellow-500"},null,a)),t('<p class="text-base text-gray-300">Cannot reach camera control API</p><button class="mt-2 px-4 py-2 rounded-lg bg-gray-700 text-base text-white hover:bg-gray-600 transition-colors">Retry</button></div>')),t("</div>")}}}),Is=zs.setup;zs.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabCameraControls.vue"),Is?Is(e,t):void 0};const Es=Object.assign(zs,{__name:"LabCameraControls"}),Ns=e({__name:"LabCameraSchedule",__ssrInlineRender:!0,props:{cameraId:{}},setup(e){const{getAuthHeaders:a}=kt(),s=["mon","tue","wed","thu","fri","sat","sun"],u=t(!0),h=t(!1),y=t(!1),_=t(null),L=t([]),O=t({interval_minutes:30,start_time:"",end_time:"",days_active:"all"});function f(e,t){return"all"===e.days_active||e.days_active.split(",").map(e=>e.trim().toLowerCase()).includes(t)}function b(e){return"all"===O.value.days_active||O.value.days_active.split(",").includes(e)}return(e,t,a,F)=>{t(`<div${z(n({class:"p-4 space-y-4"},F))}><div class="flex items-center justify-between"><h3 class="text-lg font-semibold text-white">Timelapse Schedules</h3>`),d(L).length<3?(t('<button class="flex items-center gap-1.5 px-3 py-2 rounded-lg bg-teal-600/80 text-white text-base font-medium hover:bg-teal-500 transition-colors">'),t(N(d(oe),{class:"w-4 h-4"},null,a)),t("<span>Add</span></button>")):t("\x3c!----\x3e"),t("</div>"),d(u)?t('<div class="text-base text-gray-400 text-center py-4">Loading schedules...</div>'):0!==d(L).length||d(y)?t("\x3c!----\x3e"):(t('<div class="text-center py-6">'),t(N(d(et),{class:"w-10 h-10 text-gray-600 mx-auto mb-2"},null,a)),t('<p class="text-base text-gray-400">No timelapse schedules configured</p><p class="text-base text-gray-500 mt-1">Create a schedule to automatically capture photos at regular intervals</p></div>')),t("\x3c!--[--\x3e"),G(d(L),e=>{t(`<div class="rounded-xl bg-gray-800/80 border border-gray-700/50 p-3 space-y-2"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><button class="${K(["w-10 h-6 rounded-full transition-colors relative",e.enabled?"bg-teal-500":"bg-gray-600"])}"><span class="${K(["absolute top-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform",e.enabled?"left-[18px]":"left-0.5"])}"></span></button><div><span class="text-base font-medium text-white"> Every ${B(function(e){if(e<60)return`${e} min`;if(60===e)return"1 hour";if(e<1440){const t=Math.floor(e/60),a=e%60;return a>0?`${t}h ${a}m`:`${t} hours`}return"24 hours"}(e.interval_minutes))}</span>`),e.start_time&&e.end_time?t(`<span class="text-base text-gray-400 ml-2">${B(e.start_time)} â€“ ${B(e.end_time)}</span>`):t('<span class="text-base text-gray-500 ml-2">24h</span>'),t('</div></div><div class="flex items-center gap-2"><button class="p-1.5 rounded-lg text-gray-400 hover:text-white hover:bg-gray-700/50 transition-colors">'),t(N(d(He),{class:"w-4 h-4"},null,a)),t('</button><button class="p-1.5 rounded-lg text-gray-400 hover:text-red-400 hover:bg-red-500/10 transition-colors">'),t(N(d(Pe),{class:"w-4 h-4"},null,a)),t('</button></div></div><div class="flex items-center gap-1">\x3c!--[--\x3e'),G(s,a=>{t(`<span class="${K(["px-2 py-0.5 rounded text-base",f(e,a)?"bg-teal-500/20 text-teal-400":"bg-gray-700/30 text-gray-600"])}">${B(a.charAt(0).toUpperCase()+a.slice(1,3))}</span>`)}),t("\x3c!--]--\x3e</div></div>")}),t("\x3c!--]--\x3e"),d(y)?(t(`<div class="rounded-xl bg-gray-800/80 border border-teal-500/30 p-4 space-y-4"><h4 class="text-base font-semibold text-white">${B(d(_)?"Edit Schedule":"New Schedule")}</h4><div><label class="text-base text-gray-400 block mb-1">Capture Interval</label><select class="bg-gray-700/50 text-white text-base rounded-lg px-3 py-2 border border-gray-600/50 focus:border-teal-500 focus:outline-none"><option${Y("value",1)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,1):se(d(O).interval_minutes,1))?" selected":""}>Every 1 minute</option><option${Y("value",5)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,5):se(d(O).interval_minutes,5))?" selected":""}>Every 5 minutes</option><option${Y("value",10)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,10):se(d(O).interval_minutes,10))?" selected":""}>Every 10 minutes</option><option${Y("value",15)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,15):se(d(O).interval_minutes,15))?" selected":""}>Every 15 minutes</option><option${Y("value",30)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,30):se(d(O).interval_minutes,30))?" selected":""}>Every 30 minutes</option><option${Y("value",60)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,60):se(d(O).interval_minutes,60))?" selected":""}>Every 1 hour</option><option${Y("value",120)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,120):se(d(O).interval_minutes,120))?" selected":""}>Every 2 hours</option><option${Y("value",360)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,360):se(d(O).interval_minutes,360))?" selected":""}>Every 6 hours</option><option${Y("value",720)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,720):se(d(O).interval_minutes,720))?" selected":""}>Every 12 hours</option><option${Y("value",1440)}${ee(Array.isArray(d(O).interval_minutes)?ae(d(O).interval_minutes,1440):se(d(O).interval_minutes,1440))?" selected":""}>Every 24 hours</option></select></div><div><label class="text-base text-gray-400 block mb-1">Time Window (optional)</label><div class="flex items-center gap-2"><input${Y("value",d(O).start_time)} type="time" class="bg-gray-700/50 text-white text-base rounded-lg px-3 py-2 border border-gray-600/50 focus:border-teal-500 focus:outline-none"><span class="text-gray-500">to</span><input${Y("value",d(O).end_time)} type="time" class="bg-gray-700/50 text-white text-base rounded-lg px-3 py-2 border border-gray-600/50 focus:border-teal-500 focus:outline-none">`),d(O).start_time||d(O).end_time?t('<button class="text-base text-gray-400 hover:text-white transition-colors px-2"> Clear </button>'):t("\x3c!----\x3e"),t(`</div><p class="text-base text-gray-500 mt-1">Leave empty to capture 24 hours. Set to photoperiod hours for grow-aligned timelapse.</p></div><div><label class="text-base text-gray-400 block mb-1">Active Days</label><div class="flex items-center gap-1"><button class="${K(["px-3 py-1.5 rounded-lg text-base font-medium transition-colors mr-2","all"===d(O).days_active?"bg-teal-500/20 text-teal-400":"bg-gray-700/50 text-gray-400 hover:text-white"])}"> All </button>\x3c!--[--\x3e`),G(s,e=>{t(`<button class="${K(["px-2.5 py-1.5 rounded-lg text-base font-medium transition-colors",b(e)?"bg-teal-500/20 text-teal-400":"bg-gray-700/50 text-gray-400 hover:text-white"])}">${B(e.charAt(0).toUpperCase()+e.slice(1,3))}</button>`)}),t(`\x3c!--]--\x3e</div></div><div class="flex items-center gap-2 pt-2"><button${ee(d(h))?" disabled":""} class="flex items-center gap-1.5 px-4 py-2 rounded-lg bg-teal-600 text-white text-base font-medium hover:bg-teal-500 transition-colors disabled:opacity-50">${B(d(h)?"Saving...":d(_)?"Update":"Create Schedule")}</button><button class="px-4 py-2 rounded-lg bg-gray-700/50 text-gray-300 text-base hover:bg-gray-600/50 hover:text-white transition-colors"> Cancel </button></div></div>`)):t("\x3c!----\x3e"),t("</div>")}}}),Hs=Ns.setup;Ns.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabCameraSchedule.vue"),Hs?Hs(e,t):void 0};const Bs=Object.assign(Ns,{__name:"LabCameraSchedule"}),Gs=e({__name:"LabCameraOverlay",__ssrInlineRender:!0,props:{cameraId:{}},setup(e){const{getAuthHeaders:s}=kt(),u=t(!0),h=t(""),y=t({enabled:!1,position:"bottom-left",show_date:!0,date_format:"YYYY-MM-DD",show_time:!0,show_day_counter:!1,day_counter_start:"",day_counter_label:"Day",custom_text:"",font_size:36,text_color:"white"}),_=[{value:"top-left",label:"Top Left"},{value:"top-right",label:"Top Right"},{value:"bottom-left",label:"Bottom Left"},{value:"bottom-right",label:"Bottom Right"}],L=[{value:"white",label:"White",hex:"#FFFFFF"},{value:"yellow",label:"Yellow",hex:"#FFDD00"},{value:"green",label:"Green",hex:"#00FF88"},{value:"cyan",label:"Cyan",hex:"#00DDFF"},{value:"red",label:"Red",hex:"#FF4444"}],O=a(()=>({"top-left":"top-1 left-1","top-right":"top-1 right-1","bottom-left":"bottom-1 left-1","bottom-right":"bottom-1 right-1"}[y.value.position]||"bottom-1 left-1")),F=a(()=>{var e;return(null==(e=L.find(e=>e.value===y.value.text_color))?void 0:e.hex)||"#FFFFFF"}),N=a(()=>Math.max(10,Math.round(.4*y.value.font_size))),Z=a(()=>{const e=[],t=new Date;if(y.value.custom_text&&e.push(y.value.custom_text),y.value.show_day_counter&&y.value.day_counter_start){const a=new Date(y.value.day_counter_start+"T00:00:00"),s=Math.max(1,Math.floor((t.getTime()-a.getTime())/864e5)+1);e.push(`${y.value.day_counter_label||"Day"} ${s}`)}if(y.value.show_date){const a=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");switch(y.value.date_format){case"DD/MM/YYYY":e.push(`${n}/${s}/${a}`);break;case"MM/DD/YYYY":e.push(`${s}/${n}/${a}`);break;default:e.push(`${a}-${s}-${n}`)}}if(y.value.show_time){const a=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");e.push(`${a}:${s}:00`)}return e.join(" | ")}),X=a(()=>{if(!y.value.day_counter_start)return"";const e=new Date(y.value.day_counter_start+"T00:00:00"),t=Math.max(1,Math.floor(((new Date).getTime()-e.getTime())/864e5)+1);return`Today would show: "${y.value.day_counter_label||"Day"} ${t}"`});return(e,t,a,s)=>{t(`<div${z(n({class:"p-4 space-y-4"},s))}>`),d(u)?t('<div class="flex items-center justify-center py-4"><div class="flex items-center gap-2 text-gray-400"><svg class="w-5 h-5 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg><span class="text-base">Loading overlay settings...</span></div></div>'):(t(`\x3c!--[--\x3e<div class="flex items-center justify-between"><div><p class="text-base font-medium text-white">Photo Overlay</p><p class="text-base text-gray-400 opacity-70">Server-side text overlay on captured photos</p></div><button class="${K(["relative inline-flex h-7 w-12 shrink-0 cursor-pointer rounded-full transition-colors",d(y).enabled?"bg-teal-500":"bg-gray-600"])}"><span class="${K(["pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform transition-transform mt-1",d(y).enabled?"translate-x-6 ml-0.5":"translate-x-1"])}"></span></button></div>`),d(y).enabled?(t(`\x3c!--[--\x3e<div class="rounded-xl bg-gray-900/80 border border-gray-700/50 p-4"><p class="text-base text-gray-400 mb-2">Preview</p><div class="relative bg-gray-800 rounded-lg overflow-hidden h-20 flex items-end"><div class="absolute inset-0 bg-gradient-to-br from-green-900/30 to-gray-900/50"></div><div class="${K([d(O),"absolute px-3 py-1.5"])}"><span class="font-bold whitespace-nowrap" style="${te({color:d(F),fontSize:d(N)+"px",textShadow:"2px 2px 3px rgba(0,0,0,0.9)"})}">${B(d(Z)||"No overlay text")}</span></div></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div class="space-y-3"><p class="text-base font-medium text-teal-400">Content</p><div><label class="text-base text-gray-400 mb-1 block">Custom Text</label><input${Y("value",d(y).custom_text)} type="text" maxlength="100" placeholder="e.g. Grow Room A" class="w-full px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-base text-white placeholder-gray-600 focus:border-teal-500 focus:outline-none"></div><div class="flex items-center justify-between"><span class="text-base text-gray-300">Show Date</span><button class="${K(["relative inline-flex h-6 w-10 shrink-0 cursor-pointer rounded-full transition-colors",d(y).show_date?"bg-teal-500":"bg-gray-600"])}"><span class="${K(["pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow transform transition-transform mt-1",d(y).show_date?"translate-x-5 ml-0.5":"translate-x-1"])}"></span></button></div>`),d(y).show_date?t(`<div><label class="text-base text-gray-400 mb-1 block">Date Format</label><select class="w-full px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-base text-white focus:border-teal-500 focus:outline-none"><option value="YYYY-MM-DD"${ee(Array.isArray(d(y).date_format)?ae(d(y).date_format,"YYYY-MM-DD"):se(d(y).date_format,"YYYY-MM-DD"))?" selected":""}>2026-02-13</option><option value="DD/MM/YYYY"${ee(Array.isArray(d(y).date_format)?ae(d(y).date_format,"DD/MM/YYYY"):se(d(y).date_format,"DD/MM/YYYY"))?" selected":""}>13/02/2026</option><option value="MM/DD/YYYY"${ee(Array.isArray(d(y).date_format)?ae(d(y).date_format,"MM/DD/YYYY"):se(d(y).date_format,"MM/DD/YYYY"))?" selected":""}>02/13/2026</option></select></div>`):t("\x3c!----\x3e"),t(`<div class="flex items-center justify-between"><span class="text-base text-gray-300">Show Time</span><button class="${K(["relative inline-flex h-6 w-10 shrink-0 cursor-pointer rounded-full transition-colors",d(y).show_time?"bg-teal-500":"bg-gray-600"])}"><span class="${K(["pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow transform transition-transform mt-1",d(y).show_time?"translate-x-5 ml-0.5":"translate-x-1"])}"></span></button></div><div class="flex items-center justify-between"><span class="text-base text-gray-300">Day Counter</span><button class="${K(["relative inline-flex h-6 w-10 shrink-0 cursor-pointer rounded-full transition-colors",d(y).show_day_counter?"bg-teal-500":"bg-gray-600"])}"><span class="${K(["pointer-events-none inline-block h-4 w-4 rounded-full bg-white shadow transform transition-transform mt-1",d(y).show_day_counter?"translate-x-5 ml-0.5":"translate-x-1"])}"></span></button></div>`),d(y).show_day_counter?(t(`\x3c!--[--\x3e<div class="grid grid-cols-2 gap-2"><div><label class="text-base text-gray-400 mb-1 block">Label</label><input${Y("value",d(y).day_counter_label)} type="text" maxlength="20" placeholder="Day" class="w-full px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-base text-white placeholder-gray-600 focus:border-teal-500 focus:outline-none"></div><div><label class="text-base text-gray-400 mb-1 block">Start Date</label><input${Y("value",d(y).day_counter_start)} type="date" class="w-full px-3 py-2 rounded-lg bg-gray-800 border border-gray-700 text-base text-white focus:border-teal-500 focus:outline-none"></div></div>`),d(X)?t(`<p class="text-base text-gray-500">${B(d(X))}</p>`):t("\x3c!----\x3e"),t("\x3c!--]--\x3e")):t("\x3c!----\x3e"),t('</div><div class="space-y-3"><p class="text-base font-medium text-teal-400">Appearance</p><div><label class="text-base text-gray-400 mb-1 block">Position</label><div class="grid grid-cols-2 gap-2">\x3c!--[--\x3e'),G(_,e=>{t(`<button class="${K(["px-3 py-2 rounded-lg text-base font-medium transition-all border",d(y).position===e.value?"bg-teal-500/20 border-teal-500/50 text-teal-400":"bg-gray-800 border-gray-700 text-gray-400 hover:border-gray-600"])}">${B(e.label)}</button>`)}),t(`\x3c!--]--\x3e</div></div><div><label class="text-base text-gray-400 mb-1 block">Font Size: ${B(d(y).font_size)}px</label><input${Y("value",d(y).font_size)} type="range" min="18" max="72" step="2" class="w-full accent-teal-500"><div class="flex justify-between text-base text-gray-500 opacity-70 mt-0.5"><span>18</span><span>72</span></div></div><div><label class="text-base text-gray-400 mb-1 block">Text Color</label><div class="flex flex-wrap gap-2">\x3c!--[--\x3e`),G(L,e=>{t(`<button class="${K(["px-3 py-2 rounded-lg text-base font-medium transition-all border",d(y).text_color===e.value?"border-teal-500/50 ring-1 ring-teal-500/30":"border-gray-700 hover:border-gray-600"])}" style="${te({color:e.hex,backgroundColor:"rgba(0,0,0,0.4)"})}">${B(e.label)}</button>`)}),t("\x3c!--]--\x3e</div></div></div></div>"),d(h)?t(`<div class="${K(["saved"===d(h)?"text-teal-400":"text-red-400","text-base text-center"])}">${B("saved"===d(h)?"Settings saved":"Error saving settings")}</div>`):t("\x3c!----\x3e"),t("\x3c!--]--\x3e")):t("\x3c!----\x3e"),t("\x3c!--]--\x3e")),t("</div>")}}}),Ws=Gs.setup;Gs.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabCameraOverlay.vue"),Ws?Ws(e,t):void 0};const Us=Object.assign(Gs,{__name:"LabCameraOverlay"}),Ys=e({__name:"LabCameraGallery",__ssrInlineRender:!0,props:{cameraId:{}},setup(e){const{getAuthHeaders:s}=kt(),u=t(10),h=t(null),y=t(!1),_=t(0),L=t(0),O=t(!1),F=t(!1),Z=t([]),te=t(new Set),le=t({}),re=t({});t(null);const ie=t(!1),ne=t(new Set),oe=t(null),de=t(null),ce=t(null),pe=t([]),ge=t(null),ue=t(null),xe=t(0),ve=t({hasExport:!1}),be=a(()=>Z.value.reduce((e,t)=>e+t.photoCount,0)),fe=a(()=>Z.value.filter(e=>e.hasVideo).length),ye=a(()=>Z.value.filter(e=>!e.hasVideo&&e.photoCount>=2).length),we=a(()=>{const e=Z.value.reduce((e,t)=>e+(t.photoSize||0),0),t=Z.value.reduce((e,t)=>e+(t.videoSize||0),0),a=[];return e>0&&a.push(`${W(e)} photos`),t>0&&a.push(`${W(t)} video`),a.join(" + ")}),$e=a(()=>Z.value.filter(e=>ne.value.has(e.date)&&!e.hasVideo&&e.photoCount>=2).length),ke=a(()=>ue.value&&le.value[ue.value]?le.value[ue.value]:[]),Se=a(()=>{var e,t;return null!=(t=null==(e=ke.value)?void 0:e.length)?t:0}),Ce=a(()=>xe.value>0),je=a(()=>xe.value<Se.value-1);function W(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(0)} KB`:`${(e/1048576).toFixed(1)} MB`}return(e,t,a,s)=>{d(Z).length>0?(t(`<div${z(n({class:"border-t border-gray-700/50"},s))}><div class="px-4 py-2 flex items-center justify-between flex-wrap gap-2"><div class="flex items-center gap-3"><span class="text-base text-gray-300 font-medium">Timelapse</span><span class="text-base text-gray-500">${B(d(be))} photos Â· ${B(d(Z).length)} days </span>`),d(we)?t(`<span class="text-base text-gray-600"> Â· ${B(d(we))}</span>`):t("\x3c!----\x3e"),t(`</div><div class="flex items-center gap-2 flex-wrap"><select class="bg-gray-700/50 text-gray-300 text-base rounded-lg px-2 py-1 border border-gray-600/50 focus:border-teal-500 focus:outline-none" title="Frames per second for video generation"><option${Y("value",5)}${ee(Array.isArray(d(u))?ae(d(u),5):se(d(u),5))?" selected":""}>5 fps</option><option${Y("value",10)}${ee(Array.isArray(d(u))?ae(d(u),10):se(d(u),10))?" selected":""}>10 fps</option><option${Y("value",15)}${ee(Array.isArray(d(u))?ae(d(u),15):se(d(u),15))?" selected":""}>15 fps</option><option${Y("value",24)}${ee(Array.isArray(d(u))?ae(d(u),24):se(d(u),24))?" selected":""}>24 fps</option><option${Y("value",30)}${ee(Array.isArray(d(u))?ae(d(u),30):se(d(u),30))?" selected":""}>30 fps</option></select><button class="${K(["flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-base font-medium transition-colors",d(ie)?"bg-yellow-500/20 text-yellow-400":"bg-gray-700/50 text-gray-400 hover:text-white hover:bg-gray-600/50"])}">${B(d(ie)?`${d(ne).size} selected`:"Select")}</button>`),d(ye)>0&&!d(ie)?(t(`<button${ee(d(y))?" disabled":""} class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-cyan-500/20 text-cyan-400 text-base font-medium hover:bg-cyan-500/30 transition-colors disabled:opacity-50"${Y("title",`Generate videos for ${d(ye)} days without video`)}>`),t(N(d(wt),{class:"w-3.5 h-3.5"},null,a)),t(` ${B(d(y)?`${d(_)}/${d(L)}...`:`Generate ${d(ye)} Missing`)}</button>`)):t("\x3c!----\x3e"),d(fe)>=2&&!d(ie)?(t(`<button${ee(d(O))?" disabled":""} class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-purple-500/20 text-purple-400 text-base font-medium hover:bg-purple-500/30 transition-colors disabled:opacity-50">`),t(N(d(wt),{class:"w-3.5 h-3.5"},null,a)),t(` ${B(d(O)?"Exporting...":"Export All")}</button>`)):t("\x3c!----\x3e"),d(ve).hasExport&&d(ve).exportUrl&&!d(ie)?(t(`<a${Y("href",d(ve).exportUrl)} download="full_timelapse.mp4" class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-green-500/20 text-green-400 text-base font-medium hover:bg-green-500/30 transition-colors">`),t(N(d(Ve),{class:"w-3.5 h-3.5"},null,a)),t(` Full (${B(W(d(ve).exportSize||0))}) </a>`)):t("\x3c!----\x3e"),d(fe)>0&&d(be)>0&&!d(ie)?(t(`<button${ee(d(F))?" disabled":""} class="${K(["flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-base font-medium transition-colors disabled:opacity-50","cleanAll"===d(oe)?"bg-red-500/30 text-red-400 ring-1 ring-red-500/50":"bg-orange-500/20 text-orange-400 hover:bg-orange-500/30"])}"${Y("title","cleanAll"===d(oe)?"Click again to confirm":"Delete photos for days that already have a video")}>`),t(N(d(Pe),{class:"w-3.5 h-3.5"},null,a)),t(` ${B(d(F)?"Cleaning...":"cleanAll"===d(oe)?"Confirm?":"Clean Photos")}</button>`)):t("\x3c!----\x3e"),t("</div></div>"),d(ie)&&d(ne).size>0?(t(`<div class="px-4 pb-2"><div class="flex items-center gap-2 flex-wrap px-3 py-2 rounded-xl bg-yellow-500/10 border border-yellow-500/30"><span class="text-base text-yellow-400 font-medium mr-1">${B(d(ne).size)} day${B(d(ne).size>1?"s":"")}: </span>`),d($e)>0?(t(`<button${ee(d(y))?" disabled":""} class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-cyan-500/20 text-cyan-400 text-base font-medium hover:bg-cyan-500/30 transition-colors disabled:opacity-50">`),t(N(d(wt),{class:"w-3.5 h-3.5"},null,a)),t(` Generate ${B(d($e))} Video${B(d($e)>1?"s":"")}</button>`)):t("\x3c!----\x3e"),t(`<button${ee(d(F))?" disabled":""} class="${K(["flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-base font-medium transition-colors disabled:opacity-50","deleteSelectedPhotos"===d(oe)?"bg-red-500/30 text-red-400 ring-1 ring-red-500/50":"bg-orange-500/20 text-orange-400 hover:bg-orange-500/30"])}">`),t(N(d(Pe),{class:"w-3.5 h-3.5"},null,a)),t(` ${B("deleteSelectedPhotos"===d(oe)?"Confirm?":"Delete Photos")}</button><button${ee(d(F))?" disabled":""} class="${K(["flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-base font-medium transition-colors disabled:opacity-50","deleteSelectedVideos"===d(oe)?"bg-red-500/30 text-red-400 ring-1 ring-red-500/50":"bg-red-500/20 text-red-400 hover:bg-red-500/30"])}">`),t(N(d(Pe),{class:"w-3.5 h-3.5"},null,a)),t(` ${B("deleteSelectedVideos"===d(oe)?"Confirm?":"Delete Videos")}</button><button${ee(d(F))?" disabled":""} class="${K(["flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-base font-medium transition-colors disabled:opacity-50","deleteSelectedAll"===d(oe)?"bg-red-600/40 text-red-300 ring-1 ring-red-500/50":"bg-red-600/20 text-red-400 hover:bg-red-600/30"])}">`),t(N(d(Pe),{class:"w-3.5 h-3.5"},null,a)),t(` ${B("deleteSelectedAll"===d(oe)?"Confirm?":"Delete All")}</button><div class="flex-1"></div><button class="text-base text-yellow-400/70 hover:text-yellow-400 transition-colors">${B(d(ne).size===d(Z).length?"Deselect All":"Select All")}</button></div></div>`)):t("\x3c!----\x3e"),d(de)?(t(`<div class="px-4 pb-3"><div class="relative rounded-xl overflow-hidden bg-black"><video${Y("src",d(de))} controls autoplay class="w-full max-h-[400px]"></video><button class="absolute top-2 right-2 p-1.5 rounded-lg bg-black/60 text-white hover:bg-black/80 transition-colors">`),t(N(d(me),{class:"w-4 h-4"},null,a)),t(`</button><div class="absolute bottom-12 left-3 bg-black/70 px-2 py-1 rounded text-base text-white">${B(d(ce))} `),d(pe).length>0?t(`<span class="text-gray-400 ml-1">(${B(d(pe).length)} more)</span>`):t("\x3c!----\x3e"),t("</div></div></div>")):t("\x3c!----\x3e"),t('<div class="px-4 pb-3 space-y-2">\x3c!--[--\x3e'),G(d(Z),e=>{t(`<div class="${K([d(ne).has(e.date)?"border-yellow-500/40 ring-1 ring-yellow-500/20":"border-gray-700/50","rounded-xl bg-gray-800/80 border overflow-hidden transition-colors"])}"><div class="px-3 py-2 flex items-center justify-between gap-2"><div class="flex items-center gap-2 min-w-0">`),d(ie)?t(`<input type="checkbox"${ee(d(ne).has(e.date))?" checked":""} class="w-4 h-4 rounded border-gray-600 bg-gray-700 text-yellow-500 focus:ring-yellow-500 focus:ring-offset-0 shrink-0 cursor-pointer">`):t("\x3c!----\x3e"),t('<button class="text-gray-400 hover:text-white transition-colors shrink-0">'),t(N(d(he),{class:["w-4 h-4 transition-transform",d(te).has(e.date)?"rotate-90":""]},null,a)),t(`</button><span class="text-base font-medium text-white">${B(e.date)}</span><span class="text-base text-gray-500">${B(e.photoCount)} photos</span>`),e.photoSize?t(`<span class="text-base text-gray-600">${B(W(e.photoSize))}</span>`):t("\x3c!----\x3e"),e.hasVideo?(t('<span class="px-1.5 py-0.5 rounded bg-green-500/20 text-green-400 text-base"> MP4 '),e.videoSize?t(`<span class="text-green-500/60 ml-0.5">${B(W(e.videoSize))}</span>`):t("\x3c!----\x3e"),t("</span>")):t("\x3c!----\x3e"),t("</div>"),d(ie)?t("\x3c!----\x3e"):(t('<div class="flex items-center gap-1.5 shrink-0">'),e.hasVideo&&e.videoUrl?(t('<button class="p-1.5 rounded-lg bg-green-500/20 text-green-400 hover:bg-green-500/30 transition-colors" title="Play video">'),t(N(d(pt),{class:"w-4 h-4"},null,a)),t("</button>")):t("\x3c!----\x3e"),e.hasVideo&&d(fe)>=2?(t('<button class="p-1.5 rounded-lg bg-purple-500/20 text-purple-400 hover:bg-purple-500/30 transition-colors" title="Play all days from here">'),t(N(d(_t),{class:"w-4 h-4"},null,a)),t("</button>")):t("\x3c!----\x3e"),e.hasVideo&&e.videoUrl?(t(`<a${Y("href",e.videoUrl)}${Y("download",`timelapse-${e.date}.mp4`)} class="p-1.5 rounded-lg bg-gray-700/50 text-gray-400 hover:text-green-400 hover:bg-green-500/10 transition-colors" title="Download video">`),t(N(d(Ve),{class:"w-4 h-4"},null,a)),t("</a>")):t("\x3c!----\x3e"),e.photoCount>=2?(t(`<button${ee(d(h)===e.date)?" disabled":""}${Y("title",`Create video from ${e.photoCount} photos at ${d(u)} fps`)} class="p-1.5 rounded-lg bg-cyan-500/20 text-cyan-400 hover:bg-cyan-500/30 transition-colors disabled:opacity-50">`),d(h)!==e.date?t(N(d(wt),{class:"w-4 h-4"},null,a)):t('<svg class="w-4 h-4 animate-spin" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path></svg>'),t("</button>")):t("\x3c!----\x3e"),e.hasVideo&&e.photoCount>0?(t(`<button${ee(d(F))?" disabled":""} class="p-1.5 rounded-lg bg-gray-700/50 text-gray-400 hover:text-orange-400 hover:bg-orange-500/10 transition-colors" title="Delete photos (video preserved)">`),t(N(d(Pe),{class:"w-4 h-4"},null,a)),t("</button>")):t("\x3c!----\x3e"),t("</div>")),t("</div>"),d(te).has(e.date)?(t('<div class="px-3 pb-3 pt-1">'),d(le)[e.date]?d(le)[e.date].length>0?(t('<div class="flex gap-2 overflow-x-auto pb-2 scrollbar-thin">\x3c!--[--\x3e'),G(d(le)[e.date].slice(0,d(re)[e.date]||20),e=>{t(`<div class="relative group cursor-pointer shrink-0"${Y("title",`${e.time} â€” ${W(e.size)}`)}><img${Y("src",e.url)}${Y("alt",e.filename)} class="w-24 h-16 object-cover rounded-lg border border-gray-700/50 group-hover:border-teal-500/50 transition-all" loading="lazy"><div class="absolute inset-0 rounded-lg bg-black/0 group-hover:bg-black/30 transition-all flex items-center justify-center">`),t(N(d(Ee),{class:"w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"},null,a)),t("</div></div>")}),t("\x3c!--]--\x3e"),d(le)[e.date].length>(d(re)[e.date]||20)?t(`<button class="shrink-0 w-24 h-16 rounded-lg border border-dashed border-gray-600 flex items-center justify-center text-gray-400 hover:text-teal-400 hover:border-teal-500/50 transition-colors"><span class="text-base font-medium">+${B(d(le)[e.date].length-(d(re)[e.date]||20))}</span></button>`):t("\x3c!----\x3e"),t("</div>")):t('<div class="text-base text-gray-600 py-1">No photos (video only)</div>'):t('<div class="text-base text-gray-500 py-2">Loading...</div>'),t("</div>")):t("\x3c!----\x3e"),t("</div>")}),t("\x3c!--]--\x3e</div>"),X(t,e=>{d(ge)?(e('<div class="fixed inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-4"><button class="absolute top-4 right-4 p-2 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors z-10">'),e(N(d(me),{class:"w-6 h-6"},null,a)),e("</button>"),d(Ce)?(e('<button class="absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors z-10">'),e(N(d(De),{class:"w-6 h-6"},null,a)),e("</button>")):e("\x3c!----\x3e"),d(je)?(e('<button class="absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-white/10 text-white hover:bg-white/20 transition-colors z-10">'),e(N(d(he),{class:"w-6 h-6"},null,a)),e("</button>")):e("\x3c!----\x3e"),e(`<div class="text-center mb-3"><p class="text-base text-gray-400">${B(d(ge).date)} ${B(d(ge).time)} Â· ${B(W(d(ge).size))} `),d(Se)>0?e(`<span class="ml-2 text-gray-500">${B(d(xe)+1)} / ${B(d(Se))}</span>`):e("\x3c!----\x3e"),e(`</p></div><img${Y("src",d(ge).url)}${Y("alt",d(ge).filename)} class="max-w-full max-h-[75vh] rounded-lg object-contain"><div class="mt-4 flex items-center gap-3"><a${Y("href",d(ge).url)}${Y("download",d(ge).filename)} class="flex items-center gap-2 px-4 py-2 rounded-lg bg-teal-600 text-white text-base font-medium hover:bg-teal-500 transition-colors">`),e(N(d(Ve),{class:"w-4 h-4"},null,a)),e(' Download </a></div><p class="mt-2 text-base text-gray-600">Arrow keys to navigate Â· ESC to close</p></div>')):e("\x3c!----\x3e")},"body",!1,a),t("</div>")):t("\x3c!----\x3e")}}}),qs=Ys.setup;Ys.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabCameraGallery.vue"),qs?qs(e,t):void 0};const Vs=Object.assign(Ys,{__name:"LabCameraGallery"}),Ks=e({__name:"LabCameraCard",__ssrInlineRender:!0,props:{camera:{}},setup(e){const{getAuthHeaders:s}=kt(),u=t(!1),h=t(!1),y=t(!1),_=t(!1),L=t(!1),O=t(!1),F=t([]),Z=t(null),te=a(()=>_.value?F.value:F.value.slice(0,6));return(t,a,s,ae)=>{const se=Es,le=Bs,re=Us,ie=Vs;a(`<div${z(n({class:"rounded-2xl bg-gray-800/60 border border-gray-700/50 overflow-hidden hover:border-teal-500/50 hover:shadow-xl transition-all"},ae))}><div class="relative">`),e.camera.enabled?a(N(Rt,{"camera-id":e.camera.id,"camera-name":e.camera.name},null,s)):a('<div class="aspect-video bg-gray-900 flex items-center justify-center"><span class="text-base text-gray-500">Camera Disabled</span></div>'),a(`</div><div class="px-4 py-3 border-t border-gray-700/50"><div class="flex items-center justify-between"><div class="flex items-center gap-2 min-w-0"><span class="${K([e.camera.enabled?"bg-spider-green-400 shadow-lg shadow-spider-green-400/50":"bg-gray-500","w-2.5 h-2.5 rounded-full shrink-0"])}"></span><span class="text-base font-medium text-white truncate">${B(e.camera.name)}</span></div><div class="flex items-center gap-2"><button${ee(!e.camera.enabled||d(L))?" disabled":""} class="flex items-center gap-1.5 px-3 py-2 rounded-lg bg-gray-700/50 text-gray-300 hover:bg-gray-600/50 hover:text-white transition-all disabled:opacity-40" title="Capture photo (saved to server)">`),a(N(d(Ye),{class:"w-4 h-4"},null,s)),d(L)?a('<span class="text-base">Capturing...</span>'):a('<span class="text-base">Capture</span>'),a(`</button><button class="${K(["flex items-center gap-1.5 px-3 py-2 rounded-lg text-base font-medium transition-all",d(h)?"bg-cyan-500/20 text-cyan-400":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50 hover:text-white"])}">`),a(N(d(et),{class:"w-4 h-4"},null,s)),a(`<span>Timelapse</span></button><button class="${K(["flex items-center gap-1.5 px-3 py-2 rounded-lg text-base font-medium transition-all",d(y)?"bg-purple-500/20 text-purple-400":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50 hover:text-white"])}">`),a(N(d(rt),{class:"w-4 h-4"},null,s)),a(`<span>Overlay</span></button><button class="${K(["flex items-center gap-1.5 px-3 py-2 rounded-lg text-base font-medium transition-all",d(u)?"bg-teal-500/20 text-teal-400":"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50 hover:text-white"])}">`),a(N(d(it),{class:"w-4 h-4"},null,s)),a(`<span>Controls</span></button></div></div><div class="mt-1.5 flex items-center gap-3 text-base text-gray-500"><span>${B(e.camera.protocol.toUpperCase())}</span><span>Â·</span><span>${B(e.camera.host)}:${B(e.camera.port)}</span></div></div>`),d(F).length>0?(a(`<div class="border-t border-gray-700/50"><div class="px-4 py-2 flex items-center justify-between"><span class="text-base text-gray-400 font-medium"> Captures (${B(d(F).length)}) </span>`),d(F).length>6?a(`<button class="text-base text-teal-400 hover:text-teal-300 transition-colors">${B(d(_)?"Show less":"Show all")}</button>`):a("\x3c!----\x3e"),a('</div><div class="px-4 pb-3"><div class="flex flex-wrap gap-2">\x3c!--[--\x3e'),G(d(te),e=>{a(`<div class="relative group cursor-pointer"><img${Y("src",e.url)}${Y("alt",e.filename)} class="w-20 h-14 object-cover rounded-lg border border-gray-700/50 group-hover:border-teal-500/50 transition-all" loading="lazy"><div class="absolute inset-0 rounded-lg bg-black/0 group-hover:bg-black/30 transition-all flex items-center justify-center">`),a(N(d(Ee),{class:"w-5 h-5 text-white opacity-0 group-hover:opacity-100 transition-opacity"},null,s)),a('</div><div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent h-6 rounded-b-lg"></div></div>')}),a("\x3c!--]--\x3e</div></div></div>")):a("\x3c!----\x3e"),d(u)?(a('<div class="overflow-hidden border-t border-gray-700/50">'),a(N(se,{"camera-id":e.camera.id},null,s)),a("</div>")):a("\x3c!----\x3e"),d(h)?(a('<div class="overflow-hidden border-t border-gray-700/50">'),a(N(le,{"camera-id":e.camera.id},null,s)),a("</div>")):a("\x3c!----\x3e"),d(y)?(a('<div class="overflow-hidden border-t border-gray-700/50">'),a(N(re,{"camera-id":e.camera.id},null,s)),a("</div>")):a("\x3c!----\x3e"),a(N(ie,{"camera-id":e.camera.id},null,s)),X(a,t=>{d(Z)?(t('<div class="fixed inset-0 z-50 bg-black/90 flex flex-col items-center justify-center p-4"><button class="absolute top-4 right-4 p-2 rounded-lg bg-white/10 text-white hover:bg-white/20 transition-colors">'),t(N(d(me),{class:"w-6 h-6"},null,s)),t(`</button><div class="text-center mb-3"><p class="text-base text-white font-medium">${B(e.camera.name)}</p><p class="text-base text-gray-400">${B(d(Z).date)} ${B(d(Z).time)} Â· ${B(function(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(0)} KB`:`${(e/1048576).toFixed(1)} MB`}(d(Z).size))}</p></div><img${Y("src",d(Z).url)}${Y("alt",d(Z).filename)} class="max-w-full max-h-[75vh] rounded-lg object-contain"><div class="mt-4 flex items-center gap-3"><a${Y("href",d(Z).url)}${Y("download",d(Z).filename)} class="flex items-center gap-2 px-4 py-2 rounded-lg bg-teal-600 text-white text-base font-medium hover:bg-teal-500 transition-colors">`),t(N(d(Ve),{class:"w-4 h-4"},null,s)),t(` Download </a><button${ee(d(O))?" disabled":""} class="flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600/80 text-white text-base font-medium hover:bg-red-500 transition-colors disabled:opacity-50">`),t(N(d(Pe),{class:"w-4 h-4"},null,s)),t(` ${B(d(O)?"Deleting...":"Delete")}</button></div></div>`)):t("\x3c!----\x3e")},"body",!1,s),a("</div>")}}}),Js=Ks.setup;Ks.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabCameraCard.vue"),Js?Js(e,t):void 0};const Qs=Object.assign(Ks,{__name:"LabCameraCard"}),Zs=e({__name:"LabCameras",__ssrInlineRender:!0,setup(e){const{cameras:t,loading:a,go2rtcRunning:s}=Mt();return(e,u,h,y)=>{const O=Ot,F=Qs;u(`<div${z(n({class:"p-4 lg:p-6 space-y-6"},y))}><div class="flex items-center justify-between"><div><h2 class="text-xl font-bold text-white">Cameras</h2><p class="text-base text-gray-400 mt-1">Live feeds and camera controls</p></div>`),d(s)?u('<div class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-spider-green-500/20"><span class="w-2 h-2 rounded-full bg-spider-green-400 shadow-lg shadow-spider-green-400/50"></span><span class="text-base text-spider-green-400 font-medium">Streaming</span></div>'):u('<div class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gray-700/50"><span class="w-2 h-2 rounded-full bg-gray-500"></span><span class="text-base text-gray-400 font-medium">Offline</span></div>'),u("</div>"),d(a)||0!==d(t).length?(u('<div class="grid grid-cols-1 xl:grid-cols-2 gap-6">\x3c!--[--\x3e'),G(d(t),e=>{u(N(F,{key:e.id,camera:e},null,h))}),u("\x3c!--]--\x3e</div>")):(u('<div class="flex flex-col items-center justify-center py-16 text-center"><div class="w-16 h-16 rounded-2xl bg-gray-800 flex items-center justify-center mb-4">'),u(N(d(ue),{class:"w-8 h-8 text-gray-600"},null,h)),u('</div><h3 class="text-lg font-semibold text-white mb-2">No Cameras Configured</h3><p class="text-base text-gray-400 max-w-md mb-6"> Add IP cameras in System &gt; Server &amp; Services to start viewing live feeds and controlling camera settings here. </p>'),u(N(O,{to:"/system",class:"px-5 py-2.5 rounded-xl bg-gradient-to-r from-teal-600 to-cyan-500 text-white text-base font-medium hover:from-teal-500 hover:to-cyan-400 transition-all shadow-lg shadow-teal-500/25"},{default:_((e,t,a,s)=>{if(!t)return[L(" Go to System Settings ")];t(" Go to System Settings ")}),_:1},h)),u("</div>")),u("</div>")}}}),Xs=Zs.setup;Zs.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabCameras.vue"),Xs?Xs(e,t):void 0};const el=Object.assign(Zs,{__name:"LabCameras"}),tl=e({__name:"LabStrainCardExpanded",__ssrInlineRender:!0,props:{strain:{},plants:{default:()=>[]},plantsCount:{default:0},keepersCount:{default:0},avgScore:{default:0}},emits:["edit","select-plant"],setup(e,{emit:u}){const h=e,y=t(!1),_=t(null),L=t(!1);s(()=>h.strain.id,async function(){y.value=!0;try{_.value=await $fetch(`/api/lab/strains/${h.strain.id}`)}catch{}finally{y.value=!1}});const O=a(()=>{var e;const t=(null==(e=_.value)?void 0:e.plants)||h.plants;return L.value?t:t.slice(0,6)}),F=a(()=>{const e={feminized:"bg-pink-500/20 text-pink-300",regular:"bg-blue-500/20 text-blue-300",autoflower:"bg-amber-500/20 text-amber-300"};return e[h.strain.seed_type||"feminized"]||e.feminized}),Z=a(()=>({feminized:"Fem",regular:"Reg",autoflower:"Auto"}[h.strain.seed_type||"feminized"]||"Fem")),X=a(()=>{const e={easy:"bg-green-500/20 text-green-400",moderate:"bg-yellow-500/20 text-yellow-400",advanced:"bg-orange-500/20 text-orange-400",expert:"bg-red-500/20 text-red-400"};return e[h.strain.grow_difficulty||"moderate"]||e.moderate}),ee=a(()=>({easy:"Easy",moderate:"Med",advanced:"Hard",expert:"Expert"}[h.strain.grow_difficulty||"moderate"]||"Med")),ae=a(()=>{var e;return h.strain.total_seeds?(null!=(e=h.strain.seeds_remaining)?e:h.strain.total_seeds)/h.strain.total_seeds*100:0}),se=a(()=>{var e,t;const a=(null==(t=null==(e=_.value)?void 0:e.stats)?void 0:t.avg_score)||h.avgScore||0;return a>=80?"text-spider-green-400":a>=60?"text-yellow-400":a>=40?"text-orange-400":"text-gray-400"});function $(e){const t=sa[e];if(!t)return"bg-gray-500/20 text-gray-300";const a=t.color.replace("text-","").replace("-400","");return`bg-${a}-500/20 text-${a}-300`}function I(e){return e>=80?"text-spider-green-400":e>=60?"text-yellow-400":e>=40?"text-orange-400":"text-red-400"}function w(e){var t;const a={general:"bg-gray-500/20 text-gray-300",watering:"bg-blue-500/20 text-blue-300",nutrients:"bg-green-500/20 text-green-300",problem:"bg-red-500/20 text-red-300",training:"bg-purple-500/20 text-purple-300",photo:"bg-pink-500/20 text-pink-300"};return null!=(t=a[e]||a.general)?t:""}function k(e){var t;const a={planning:"bg-blue-500/20 text-blue-300",active:"bg-green-500/20 text-green-300",paused:"bg-yellow-500/20 text-yellow-300",completed:"bg-purple-500/20 text-purple-300",abandoned:"bg-gray-500/20 text-gray-300"};return null!=(t=a[e]||a.planning)?t:""}return(t,a,s,u)=>{var h,le,re,ie,oe,de,ce,pe,ge,ue,xe,ve,be,me,fe,ye,we,$e,ke,Se,Ce,je,Pe,De,Ae,Le,Te,Oe,Me,Re,Fe,Ie,Ee,Ne;a(`<div${z(n({class:"rounded-xl bg-gray-800/50 border border-gray-700/50 overflow-hidden"},u))}>`),y.value?a('<div class="p-8 flex items-center justify-center"><div class="w-6 h-6 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"></div></div>'):(a(`\x3c!--[--\x3e<div class="flex items-center gap-3 px-4 py-3 border-b border-gray-700/30"><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500/30 to-pink-500/30 flex items-center justify-center shrink-0"><span class="text-xl">ðŸ§¬</span></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 flex-wrap"><h3 class="text-lg font-bold text-white">${B(e.strain.name)}</h3><span class="${K([[F.value],"px-2 py-0.5 rounded text-xs font-medium"])}">${B(Z.value)}</span>`),e.strain.grow_difficulty?a(`<span class="${K(["px-2 py-0.5 rounded text-xs font-bold",X.value])}">${B(ee.value)}</span>`):a("\x3c!----\x3e"),a('</div><p class="text-sm text-gray-400 truncate">'),e.strain.breeder?a(`<span>${B(e.strain.breeder)}</span>`):a("\x3c!----\x3e"),e.strain.breeder&&e.strain.lineage?a('<span class="text-gray-600"> Â· </span>'):a("\x3c!----\x3e"),e.strain.lineage?a(`<span class="text-gray-500">${B(e.strain.lineage)}</span>`):a("\x3c!----\x3e"),a('</p></div><button class="flex items-center gap-2 px-3 py-2 rounded-lg bg-purple-600/20 hover:bg-purple-600/30 text-purple-400 hover:text-purple-300 transition-colors shrink-0">'),a(N(d(He),{class:"w-4 h-4"},null,s)),a('<span class="text-sm">Edit</span></button></div><div class="p-4 grid grid-cols-1 lg:grid-cols-12 gap-4"><div class="lg:col-span-4 space-y-3"><div class="p-3 rounded-lg bg-gray-900/40 space-y-2">'),void 0!==e.strain.indica_ratio?a(`<div class="flex items-center gap-2"><span class="w-2 h-2 rounded-full bg-purple-500 shrink-0"></span><span class="text-xs text-gray-400 w-14">${B(e.strain.indica_ratio)}% Ind</span><div class="flex-1 h-2 rounded-full bg-gray-700 overflow-hidden flex"><div class="bg-purple-500" style="${te({width:`${e.strain.indica_ratio}%`})}"></div><div class="bg-green-500 flex-1"></div></div><span class="text-xs text-gray-400 w-14 text-right">${B(100-e.strain.indica_ratio)}% Sat</span><span class="w-2 h-2 rounded-full bg-green-500 shrink-0"></span></div>`):a("\x3c!----\x3e"),a(`<div class="flex items-center gap-3 text-xs flex-wrap"><div class="flex items-center gap-1"${Y("title",`Expected: ${e.strain.expected_flowering_days||"N/A"} days`)}>`),a(N(d(et),{class:"w-3.5 h-3.5 text-blue-400"},null,s)),(null==(le=null==(h=_.value)?void 0:h.stats)?void 0:le.avg_flowering_days)?(a(`<span class="text-gray-300">${B(_.value.stats.avg_flowering_days)}d `),_.value.stats.flowering_diff?a(`<span class="${K(_.value.stats.flowering_diff>0?"text-orange-400":"text-green-400")}"> (${B(_.value.stats.flowering_diff>0?"+":"")}${B(_.value.stats.flowering_diff)}) </span>`):a("\x3c!----\x3e"),a("</span>")):e.strain.expected_flowering_days?a(`<span class="text-gray-500"> ~${B(e.strain.expected_flowering_days)}d </span>`):a('<span class="text-gray-600">--</span>'),a('</div><span class="text-gray-700">|</span><div class="flex items-center gap-1" title="Average height">'),a(N(d(nt),{class:"w-3.5 h-3.5 text-green-400"},null,s)),(null==(ie=null==(re=_.value)?void 0:re.stats)?void 0:ie.avg_height_cm)?a(`<span class="text-gray-300">${B(_.value.stats.avg_height_cm)}cm</span>`):a('<span class="text-gray-600">--</span>'),a('</div><span class="text-gray-700">|</span><div class="flex items-center gap-1" title="Seed inventory">'),a(N(d(ze),{class:"w-3.5 h-3.5 text-gray-500"},null,s)),e.strain.total_seeds?a(`<span class="${K(ae.value<=20?"text-orange-400":"text-gray-300")}">${B(null!=(oe=e.strain.seeds_remaining)?oe:e.strain.total_seeds)}/${B(e.strain.total_seeds)}</span>`):a('<span class="text-gray-600">--</span>'),a("</div></div>"),(null==(pe=null==(ce=null==(de=_.value)?void 0:de.stats)?void 0:ce.common_training)?void 0:pe.length)?(a('<div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-gray-500">Training:</span>\x3c!--[--\x3e'),G(_.value.stats.common_training,e=>{a(`<span class="px-1.5 py-0.5 rounded bg-emerald-500/20 text-emerald-300 text-[10px]">${B(e)}</span>`)}),a("\x3c!--]--\x3e</div>")):a("\x3c!----\x3e"),(null==(ge=e.strain.dominant_terpenes)?void 0:ge.length)?(a('<div class="flex items-center gap-2 flex-wrap"><span class="text-xs text-gray-500">Terpenes:</span>\x3c!--[--\x3e'),G(e.strain.dominant_terpenes,e=>{a(`<span class="px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-300 text-[10px]">${B(e)}</span>`)}),a("\x3c!--]--\x3e</div>")):a("\x3c!----\x3e"),a(`</div><div class="grid grid-cols-2 gap-2"><div class="p-2 rounded-lg bg-purple-500/10 border border-purple-500/20 text-center"><p class="text-lg font-bold text-white">${B((null==(xe=null==(ue=_.value)?void 0:ue.stats)?void 0:xe.total_plants)||e.plantsCount)}</p><p class="text-[10px] text-purple-300 uppercase">Total Plants</p></div><div class="p-2 rounded-lg bg-amber-500/10 border border-amber-500/20 text-center"><p class="text-lg font-bold text-amber-400">${B((null==(be=null==(ve=_.value)?void 0:ve.stats)?void 0:be.keepers)||e.keepersCount)}</p><p class="text-[10px] text-amber-300 uppercase">Keepers</p></div><div class="p-2 rounded-lg bg-spider-green-500/10 border border-spider-green-500/20 text-center"><p class="${K(["text-lg font-bold",se.value])}">${B((null==(fe=null==(me=_.value)?void 0:me.stats)?void 0:fe.avg_score)||e.avgScore?((null==(we=null==(ye=_.value)?void 0:ye.stats)?void 0:we.avg_score)||e.avgScore).toFixed(1):"--")}</p><p class="text-[10px] text-spider-green-300 uppercase">Avg Score</p></div><div class="p-2 rounded-lg bg-blue-500/10 border border-blue-500/20 text-center"><p class="text-lg font-bold text-blue-400">${B((null==(ke=null==($e=_.value)?void 0:$e.stats)?void 0:ke.best_score)?_.value.stats.best_score.toFixed(1):"--")}</p><p class="text-[10px] text-blue-300 uppercase">Best Score</p></div></div>`),(null==(Ce=null==(Se=_.value)?void 0:Se.stats)?void 0:Ce.best_plant)?a(`<div class="p-2 rounded-lg bg-gradient-to-r from-amber-500/10 to-yellow-500/10 border border-amber-500/30 cursor-pointer hover:border-amber-400/50 transition-colors"><div class="flex items-center gap-2"><span class="text-amber-400">â˜…</span><div class="flex-1 min-w-0"><p class="text-xs text-amber-300">Best Performer</p><p class="text-sm font-medium text-white truncate">${B(_.value.stats.best_plant.code)}</p></div><span class="text-lg font-bold text-amber-400">${B(_.value.stats.best_plant.score.toFixed(1))}</span></div></div>`):a("\x3c!----\x3e"),e.strain.description?a(`<div class="p-2 rounded-lg bg-gray-900/30"><p class="text-xs text-gray-500 mb-1">Notes</p><p class="text-xs text-gray-400 line-clamp-3">${B(e.strain.description)}</p></div>`):a("\x3c!----\x3e"),a('</div><div class="lg:col-span-4"><div class="p-3 rounded-lg bg-gray-900/40 h-full"><div class="flex items-center justify-between mb-2"><span class="text-xs text-gray-500 uppercase">Photo Gallery</span>'),(null==(Pe=null==(je=_.value)?void 0:je.photos)?void 0:Pe.length)?a(`<span class="text-xs text-gray-600">${B(_.value.photos.length)} photos</span>`):a("\x3c!----\x3e"),a("</div>"),(null==(Ae=null==(De=_.value)?void 0:De.photos)?void 0:Ae.length)?(a('<div class="grid grid-cols-3 gap-1">\x3c!--[--\x3e'),G(_.value.photos.slice(0,9),(e,t)=>{a(`<div class="aspect-square rounded-lg overflow-hidden bg-gray-800 cursor-pointer hover:opacity-80 transition-opacity relative group"><img${Y("src",e.url)}${Y("alt",e.plant_code)} class="w-full h-full object-cover"><div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-1"><span class="text-[10px] text-white truncate">${B(e.plant_code)}</span></div></div>`)}),a("\x3c!--]--\x3e"),_.value.photos.length>9?a(`<div class="aspect-square rounded-lg bg-gray-800 flex items-center justify-center cursor-pointer hover:bg-gray-700 transition-colors"><span class="text-sm text-gray-400">+${B(_.value.photos.length-9)}</span></div>`):a("\x3c!----\x3e"),a("</div>")):(a('<div class="py-8 text-center">'),a(N(d(Ye),{class:"w-8 h-8 text-gray-700 mx-auto mb-2"},null,s)),a('<p class="text-xs text-gray-600">No photos yet</p><p class="text-[10px] text-gray-700">Add photos via plant observations</p></div>')),a('</div></div><div class="lg:col-span-4 space-y-3"><div class="p-3 rounded-lg bg-gray-900/40"><div class="flex items-center justify-between mb-2"><span class="text-xs text-gray-500 uppercase">Plants</span><div class="flex items-center gap-2 text-[10px]">'),(null==(Te=null==(Le=_.value)?void 0:Le.stats)?void 0:Te.active_plants)?a(`<span class="text-green-400">${B(_.value.stats.active_plants)} active</span>`):a("\x3c!----\x3e"),(null==(Me=null==(Oe=_.value)?void 0:Oe.stats)?void 0:Me.completed_plants)?a(`<span class="text-gray-500">${B(_.value.stats.completed_plants)} done</span>`):a("\x3c!----\x3e"),a("</div></div>"),O.value.length>0?(a('<div class="space-y-1 max-h-[200px] overflow-y-auto">\x3c!--[--\x3e'),G(O.value,e=>{a('<div class="flex items-center gap-2 p-1.5 rounded-lg bg-gray-800/50 hover:bg-gray-800 cursor-pointer transition-colors group">'),e.is_keeper?a('<span class="text-amber-400 text-sm">â˜…</span>'):a('<span class="w-3.5"></span>'),a(`<div class="flex-1 min-w-0"><p class="text-sm font-medium text-white truncate">${B(e.plant_code)}</p>`),e.pheno_label?a(`<p class="text-[10px] text-gray-500 truncate">&quot;${B(e.pheno_label)}&quot;</p>`):a("\x3c!----\x3e"),a(`</div><span class="${K([$(e.status),"px-1.5 py-0.5 rounded text-[10px]"])}">${B(function(e){var t;return(null==(t=sa[e])?void 0:t.shortLabel)||e}(e.status))}</span>`),e.final_score?a(`<span class="${K(["text-xs font-medium",I(e.final_score)])}">${B(e.final_score.toFixed(1))}</span>`):a("\x3c!----\x3e"),a(N(d(he),{class:"w-3.5 h-3.5 text-gray-600 opacity-0 group-hover:opacity-100 transition-opacity"},null,s)),a("</div>")}),a("\x3c!--]--\x3e"),(null==(Re=_.value)?void 0:Re.plants)&&_.value.plants.length>6?a(`<div class="text-center py-1 text-xs text-gray-500 cursor-pointer hover:text-gray-300">${B(L.value?"Show less":`+${_.value.plants.length-6} more`)}</div>`):a("\x3c!----\x3e"),a("</div>")):a('<div class="py-4 text-center"><p class="text-xs text-gray-600">No plants yet</p></div>'),a("</div>"),(null==(Ie=null==(Fe=_.value)?void 0:Fe.recent_observations)?void 0:Ie.length)?(a('<div class="p-3 rounded-lg bg-gray-900/40"><span class="text-xs text-gray-500 uppercase">Recent Activity</span><div class="mt-2 space-y-1">\x3c!--[--\x3e'),G(_.value.recent_observations.slice(0,4),e=>{a(`<div class="flex items-center gap-2 text-xs"><span class="text-gray-600 w-16 shrink-0">${B(function(e){return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}(e.observed_at))}</span><span class="text-gray-400 truncate">${B(e.plant_code)}</span><span class="${K([w(e.obs_type),"px-1 py-0.5 rounded text-[10px] shrink-0"])}">${B(e.obs_type)}</span></div>`)}),a("\x3c!--]--\x3e</div></div>")):a("\x3c!----\x3e"),(null==(Ne=null==(Ee=_.value)?void 0:Ee.breeding_projects)?void 0:Ne.length)?(a('<div class="p-3 rounded-lg bg-gray-900/40"><span class="text-xs text-gray-500 uppercase">Breeding Projects</span><div class="mt-2 space-y-1">\x3c!--[--\x3e'),G(_.value.breeding_projects,e=>{a('<div class="flex items-center gap-2 p-1.5 rounded-lg bg-pink-500/10 border border-pink-500/20 cursor-pointer hover:border-pink-400/40 transition-colors">'),a(N(d(ne),{class:"w-3.5 h-3.5 text-pink-400 shrink-0"},null,s)),a(`<div class="flex-1 min-w-0"><p class="text-xs font-medium text-white truncate">${B(e.name)}</p><p class="text-[10px] text-gray-500">${B(e.project_type)}</p></div><span class="${K([k(e.status),"px-1.5 py-0.5 rounded text-[10px]"])}">${B(e.status)}</span></div>`)}),a("\x3c!--]--\x3e</div></div>")):a("\x3c!----\x3e"),a("</div></div>\x3c!--]--\x3e")),a("</div>")}}}),al=tl.setup;tl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/strains/LabStrainCardExpanded.vue"),al?al(e,t):void 0};const sl=Object.assign(tl,{__name:"LabStrainCardExpanded"}),ll=e({__name:"LabStrainCard",__ssrInlineRender:!0,props:{strain:{},plantsCount:{default:0},keepersCount:{default:0}},emits:["click"],setup(e,{emit:t}){const s=e,u=a(()=>{const e={feminized:{icon:"â™€",bg:"bg-pink-500"},regular:{icon:"âš¥",bg:"bg-blue-500"},autoflower:{icon:"â±",bg:"bg-amber-500"}};return e[s.strain.seed_type||"regular"]||e.regular}),h=a(()=>{const e={easy:"bg-green-500/20 text-green-400",moderate:"bg-yellow-500/20 text-yellow-400",advanced:"bg-orange-500/20 text-orange-400",expert:"bg-red-500/20 text-red-400"};return e[s.strain.grow_difficulty||"moderate"]||e.moderate}),y=a(()=>({easy:"Easy",moderate:"Medium",advanced:"Hard",expert:"Expert"}[s.strain.grow_difficulty||"moderate"]||"Medium")),_=a(()=>{var e;return s.strain.total_seeds?(null!=(e=s.strain.seeds_remaining)?e:s.strain.total_seeds)/s.strain.total_seeds*100:0});return(t,a,s,L)=>{var O;a(`<button${z(n({class:"group relative p-4 rounded-2xl bg-gray-800/40 border border-gray-700/50 hover:border-purple-500/50 cursor-pointer transition-all hover:shadow-xl hover:scale-[1.02] text-left w-full"},L))}><div class="absolute inset-0 rounded-2xl bg-gradient-to-br from-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity"></div><div class="relative"><div class="flex items-start justify-between gap-3 mb-3"><div class="relative"><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500/30 to-pink-500/30 flex items-center justify-center"><span class="text-2xl">ðŸ§¬</span></div><div class="${K(["absolute -bottom-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold shadow-lg",d(u).bg])}">${B(d(u).icon)}</div></div><div class="flex-1 min-w-0"><h3 class="text-base font-bold text-white truncate group-hover:text-purple-300 transition-colors">${B(e.strain.name)}</h3>`),e.strain.breeder?(a('<p class="text-xs text-gray-500 truncate flex items-center gap-1">'),a(N(d(ot),{class:"w-3 h-3"},null,s)),a(` ${B(e.strain.breeder)}</p>`)):a("\x3c!----\x3e"),a("</div>"),e.strain.grow_difficulty?a(`<div class="${K(["px-2 py-1 rounded-lg text-[10px] font-bold",d(h)])}">${B(d(y))}</div>`):a("\x3c!----\x3e"),a("</div>"),void 0!==e.strain.indica_ratio?a(`<div class="mb-3"><div class="flex justify-between text-[10px] text-gray-500 mb-1"><span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-purple-500"></span> Indica ${B(e.strain.indica_ratio)}% </span><span class="flex items-center gap-1"> Sativa ${B(100-e.strain.indica_ratio)}% <span class="w-2 h-2 rounded-full bg-green-500"></span></span></div><div class="h-2 rounded-full bg-gray-700/50 overflow-hidden flex"><div class="bg-gradient-to-r from-purple-600 to-purple-400 rounded-l-full transition-all duration-500" style="${te({width:`${e.strain.indica_ratio}%`})}"></div><div class="bg-gradient-to-r from-green-500 to-green-400 rounded-r-full flex-1"></div></div></div>`):a("\x3c!----\x3e"),a('<div class="flex items-center gap-3 text-[11px] mb-3">'),e.strain.expected_flowering_days?(a('<div class="flex items-center gap-1 text-gray-400">'),a(N(d(et),{class:"w-3.5 h-3.5"},null,s)),a(`<span>${B(e.strain.expected_flowering_days)}d flower</span></div>`)):a("\x3c!----\x3e"),e.plantsCount>0?(a('<div class="flex items-center gap-1 text-gray-400">'),a(N(d(re),{class:"w-3.5 h-3.5"},null,s)),a(`<span>${B(e.plantsCount)} plants</span></div>`)):a("\x3c!----\x3e"),e.keepersCount>0?(a('<div class="flex items-center gap-1 text-amber-400">'),a(N(d(Ue),{class:"w-3.5 h-3.5"},null,s)),a(`<span>${B(e.keepersCount)} keepers</span></div>`)):a("\x3c!----\x3e"),a("</div>"),e.strain.total_seeds?(a('<div class="p-2 rounded-xl bg-gray-800/50 border border-gray-700/30"><div class="flex items-center justify-between mb-1.5"><span class="text-[10px] text-gray-500 uppercase tracking-wider flex items-center gap-1">'),a(N(d(ze),{class:"w-3 h-3"},null,s)),a(` Seed Bank </span><span class="text-xs font-bold text-white">${B(null!=(O=e.strain.seeds_remaining)?O:e.strain.total_seeds)} / ${B(e.strain.total_seeds)}</span></div><div class="h-2 rounded-full bg-gray-700/50 overflow-hidden"><div class="${K(["h-full rounded-full transition-all duration-500",d(_)>50?"bg-gradient-to-r from-spider-green-600 to-spider-green-400":d(_)>20?"bg-gradient-to-r from-yellow-500 to-amber-400":"bg-gradient-to-r from-red-500 to-orange-400"])}" style="${te({width:`${d(_)}%`})}"></div></div>`),d(_)<=20?(a('<p class="mt-1 text-[9px] text-orange-400 flex items-center gap-1">'),a(N(d(Le),{class:"w-3 h-3"},null,s)),a(" Low stock! </p>")):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),e.strain.lineage?a(`<p class="mt-3 text-[10px] text-gray-500 truncate italic">${B(e.strain.lineage)}</p>`):a("\x3c!----\x3e"),a('<div class="absolute bottom-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity">'),a(N(d(he),{class:"w-5 h-5 text-purple-400"},null,s)),a("</div></div></button>")}}}),rl=ll.setup;ll.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/strains/LabStrainCard.vue"),rl?rl(e,t):void 0};const il=Object.assign(ll,{__name:"LabStrainCard"}),nl=e({__name:"LabStrainWizard",__ssrInlineRender:!0,emits:["close","created"],setup(e,{emit:s}){ra();const u=t(1),h=t(!1),y=["Basic Info","Details","Inventory"],_=t({name:"",seed_type:"feminized",indica_ratio:50,breeder:"",lineage:"",expected_flowering_days:null,grow_difficulty:"moderate",total_seeds:null,seeds_remaining:null,description:""}),L=[{value:"feminized",label:"Feminized",icon:"â™€ï¸",description:"99%+ female seeds, no males to remove"},{value:"regular",label:"Regular",icon:"âš¥",description:"Mix of male/female, good for breeding"},{value:"autoflower",label:"Autoflower",icon:"â±ï¸",description:"Flowers automatically, faster cycle"}],O=[{value:"easy",label:"Easy",icon:"ðŸŒ±"},{value:"moderate",label:"Moderate",icon:"ðŸŒ¿"},{value:"advanced",label:"Advanced",icon:"ðŸŒ³"},{value:"expert",label:"Expert",icon:"ðŸ†"}],F=a(()=>1!==u.value||_.value.name.trim().length>0),Z=a(()=>{const e=L.find(e=>e.value===_.value.seed_type);return e?e.label:"Unknown"}),X=a(()=>{var e;return _.value.total_seeds?_.value.total_seeds-(null!=(e=_.value.seeds_remaining)?e:_.value.total_seeds):0}),ae=a(()=>_.value.total_seeds?X.value/_.value.total_seeds*100:0),se=a(()=>{const e=_.value.indica_ratio;return e>=80?"ðŸ’œ":e>=60?"ðŸŸ£":e>=40?"ðŸ”®":e>=20?"ðŸŸ ":"ðŸ§¡"}),ie=a(()=>{const e=_.value.indica_ratio;return e>=90?"Pure Indica":e>=70?"Indica Dominant":e>=55?"Indica Leaning Hybrid":e>=45?"Balanced Hybrid":e>=30?"Sativa Leaning Hybrid":e>=10?"Sativa Dominant":"Pure Sativa"}),ne=a(()=>{const e=_.value.indica_ratio;return e>=80?"Compact, bushy plants with broad leaves. Typically shorter flowering times and relaxing effects.":e>=60?"Predominantly indica traits with some sativa influence. Good balance of yield and manageable height.":e>=40?"A true hybrid combining traits from both parents. Versatile growth patterns and varied effects.":e>=20?"Predominantly sativa traits with some indica influence. Taller plants with energetic effects.":"Tall, stretchy plants with narrow leaves. Longer flowering times and uplifting, cerebral effects."}),oe=a(()=>{const e=_.value.indica_ratio;return e>=60?"bg-purple-500/20 border border-purple-500/30":e>=40?"bg-violet-500/20 border border-violet-500/30":"bg-orange-500/20 border border-orange-500/30"});return(e,t,a,s)=>{var de;t(`<div${z(n({class:"fixed top-0 right-0 bottom-0 left-0 desktop:left-[var(--sidebar-width,256px)] z-50 bg-gray-900 overflow-hidden flex flex-col"},s))} data-v-94581dcc><div class="h-1 bg-gray-800" data-v-94581dcc><div class="h-full bg-gradient-to-r from-purple-600 to-purple-400 transition-all duration-500" style="${te({width:d(u)/3*100+"%"})}" data-v-94581dcc></div></div><div class="flex-shrink-0 border-b border-gray-800" data-v-94581dcc><div class="max-w-4xl mx-auto px-6 py-4" data-v-94581dcc><div class="flex items-center justify-between" data-v-94581dcc><div class="flex items-center gap-4" data-v-94581dcc><div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center shadow-lg shadow-purple-500/20" data-v-94581dcc>`),t(N(d(le),{class:"w-6 h-6 text-white"},null,a)),t(`</div><div data-v-94581dcc><h1 class="text-xl font-bold text-white" data-v-94581dcc>Add New Strain</h1><p class="text-sm text-gray-400" data-v-94581dcc>Step ${B(d(u))} of ${B(3)} â€” ${B(y[d(u)-1])}</p></div></div><button class="p-3 rounded-xl hover:bg-gray-800 text-gray-400 hover:text-white transition-colors" data-v-94581dcc>`),t(N(d(me),{class:"w-6 h-6"},null,a)),t('</button></div></div></div><div class="flex-1 overflow-y-auto" data-v-94581dcc><div class="max-w-4xl mx-auto px-6 py-8" data-v-94581dcc>'),1===d(u)?(t('\x3c!--[--\x3e<div class="mb-8" data-v-94581dcc><h2 class="text-3xl font-bold text-white mb-3" data-v-94581dcc>Basic Strain Information</h2><p class="text-lg text-gray-400" data-v-94581dcc> Let&#39;s start with the essentials. This information helps you identify and organize your strain collection. </p></div><div class="p-5 rounded-2xl bg-purple-500/10 border border-purple-500/30 mb-8" data-v-94581dcc><div class="flex gap-4" data-v-94581dcc><div class="w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center flex-shrink-0" data-v-94581dcc>'),t(N(d(we),{class:"w-5 h-5 text-purple-400"},null,a)),t(`</div><div data-v-94581dcc><h4 class="font-semibold text-purple-300 mb-1" data-v-94581dcc>What is a Strain?</h4><p class="text-sm text-purple-300/80" data-v-94581dcc> A strain is a specific genetic variety of cannabis with unique characteristics like growth patterns, flowering time, and effects. Keeping track of strains helps you learn which genetics work best in your environment and refine your growing techniques over time. </p></div></div></div><div class="space-y-6" data-v-94581dcc><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-94581dcc><label class="block text-lg font-semibold text-white mb-2" data-v-94581dcc> Strain Name <span class="text-red-400" data-v-94581dcc>*</span></label><p class="text-sm text-gray-400 mb-4" data-v-94581dcc> Enter the official name of the strain. This is usually provided by the breeder or seed bank. </p><input${Y("value",d(_).name)} type="text" placeholder="e.g., Blue Dream, OG Kush, Girl Scout Cookies..." class="w-full px-5 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white text-lg placeholder-gray-500 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all" autofocus data-v-94581dcc><p class="text-xs text-gray-500 mt-2" data-v-94581dcc> ðŸ’¡ Tip: Use the exact name from the seed pack for accurate record-keeping </p></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-94581dcc><label class="block text-lg font-semibold text-white mb-2" data-v-94581dcc>Seed Type</label><p class="text-sm text-gray-400 mb-4" data-v-94581dcc> What type of seeds do you have? This affects flowering behavior and growing approach. </p><div class="grid grid-cols-1 sm:grid-cols-3 gap-4" data-v-94581dcc>\x3c!--[--\x3e`),G(L,e=>{t(`<button class="${K(["p-5 rounded-xl border-2 transition-all text-left",d(_).seed_type===e.value?"border-purple-500 bg-purple-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}" data-v-94581dcc><div class="text-3xl mb-3" data-v-94581dcc>${B(e.icon)}</div><div class="text-base font-semibold text-white mb-1" data-v-94581dcc>${B(e.label)}</div><div class="text-xs text-gray-400" data-v-94581dcc>${B(e.description)}</div></button>`)}),t(`\x3c!--]--\x3e</div><div class="mt-4 p-4 rounded-xl bg-gray-700/30 border border-gray-600/50" data-v-94581dcc><h5 class="text-sm font-medium text-gray-300 mb-2" data-v-94581dcc>Understanding Seed Types:</h5><ul class="text-xs text-gray-400 space-y-1" data-v-94581dcc><li data-v-94581dcc><span class="text-purple-400" data-v-94581dcc>â™€ Feminized:</span> 99%+ female, no need to identify sex</li><li data-v-94581dcc><span class="text-purple-400" data-v-94581dcc>âš¥ Regular:</span> Mix of male/female, for breeding or traditional growing</li><li data-v-94581dcc><span class="text-purple-400" data-v-94581dcc>â±ï¸ Autoflower:</span> Flowers based on age, not light cycle</li></ul></div></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-94581dcc><label class="block text-lg font-semibold text-white mb-2" data-v-94581dcc>Genetic Profile</label><p class="text-sm text-gray-400 mb-4" data-v-94581dcc> Adjust the slider to indicate the Indica/Sativa ratio of this strain. </p><div class="mb-6" data-v-94581dcc><div class="flex items-center justify-between text-sm mb-3" data-v-94581dcc><span class="text-purple-400 font-medium" data-v-94581dcc>${B(d(_).indica_ratio)}% Indica</span><span class="text-orange-400 font-medium" data-v-94581dcc>${B(100-d(_).indica_ratio)}% Sativa</span></div><input${Y("value",d(_).indica_ratio)} type="range" min="0" max="100" step="5" class="w-full h-3 rounded-full appearance-none cursor-pointer bg-gradient-to-r from-purple-500 to-orange-500" data-v-94581dcc></div><div class="${K([d(oe),"p-4 rounded-xl"])}" data-v-94581dcc><div class="flex items-start gap-3" data-v-94581dcc><div class="text-2xl" data-v-94581dcc>${B(d(se))}</div><div data-v-94581dcc><h5 class="font-medium text-white mb-1" data-v-94581dcc>${B(d(ie))}</h5><p class="text-sm text-gray-300" data-v-94581dcc>${B(d(ne))}</p></div></div></div></div></div>\x3c!--]--\x3e`)):t("\x3c!----\x3e"),2===d(u)?(t('\x3c!--[--\x3e<div class="mb-8" data-v-94581dcc><h2 class="text-3xl font-bold text-white mb-3" data-v-94581dcc>Breeder &amp; Growing Details</h2><p class="text-lg text-gray-400" data-v-94581dcc> Optional but valuable information that helps you track performance and plan your grow. </p></div><div class="p-5 rounded-2xl bg-amber-500/10 border border-amber-500/30 mb-8" data-v-94581dcc><div class="flex gap-4" data-v-94581dcc><div class="w-10 h-10 rounded-xl bg-amber-500/20 flex items-center justify-center flex-shrink-0" data-v-94581dcc>'),t(N(d(Ue),{class:"w-5 h-5 text-amber-400"},null,a)),t(`</div><div data-v-94581dcc><h4 class="font-semibold text-amber-300 mb-1" data-v-94581dcc>Pro Tip</h4><p class="text-sm text-amber-300/80" data-v-94581dcc> Recording the breeder and lineage helps you understand genetic traits and predict how plants will perform. This becomes invaluable when comparing results across grows. </p></div></div></div><div class="space-y-6" data-v-94581dcc><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-94581dcc><label class="block text-lg font-semibold text-white mb-2" data-v-94581dcc>Breeder / Seed Bank</label><p class="text-sm text-gray-400 mb-4" data-v-94581dcc> Where did these seeds come from? The breeder&#39;s name helps verify authenticity and track genetics. </p><input${Y("value",d(_).breeder)} type="text" placeholder="e.g., Humboldt Seed Co, Barney&#39;s Farm, Mephisto..." class="w-full px-5 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all" data-v-94581dcc></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-94581dcc><label class="block text-lg font-semibold text-white mb-2" data-v-94581dcc>Lineage / Parent Strains</label><p class="text-sm text-gray-400 mb-4" data-v-94581dcc> If known, the genetic parents of this strain. Helps predict growth characteristics. </p><input${Y("value",d(_).lineage)} type="text" placeholder="e.g., Blueberry x Super Silver Haze" class="w-full px-5 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500/20 transition-all" data-v-94581dcc><p class="text-xs text-gray-500 mt-2" data-v-94581dcc> ðŸ’¡ Format: Parent 1 x Parent 2 (mother x father for breeding records) </p></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-6" data-v-94581dcc><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-94581dcc><label class="block text-lg font-semibold text-white mb-2" data-v-94581dcc>Flowering Days</label><p class="text-sm text-gray-400 mb-4" data-v-94581dcc> Expected flowering period in days. Usually listed on seed pack. </p><input${Y("value",d(_).expected_flowering_days)} type="number" min="40" max="120" placeholder="e.g., 65" class="w-full px-5 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-all" data-v-94581dcc><p class="text-xs text-gray-500 mt-2" data-v-94581dcc> Typical range: 45-75 days </p></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-94581dcc><label class="block text-lg font-semibold text-white mb-2" data-v-94581dcc>Growing Difficulty</label><p class="text-sm text-gray-400 mb-4" data-v-94581dcc> How challenging is this strain to grow successfully? </p><div class="grid grid-cols-4 gap-2" data-v-94581dcc>\x3c!--[--\x3e`),G(O,e=>{t(`<button class="${K(["p-3 rounded-xl border-2 transition-all text-center",d(_).grow_difficulty===e.value?"border-purple-500 bg-purple-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"${Y("title",e.label)} data-v-94581dcc><div class="text-2xl mb-1" data-v-94581dcc>${B(e.icon)}</div><div class="text-[10px] text-gray-400" data-v-94581dcc>${B(e.label)}</div></button>`)}),t('\x3c!--]--\x3e</div></div></div><div class="p-5 rounded-2xl bg-gray-800/30 border border-gray-700/30" data-v-94581dcc><h4 class="font-medium text-gray-300 mb-3" data-v-94581dcc>Difficulty Guide</h4><div class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm" data-v-94581dcc><div data-v-94581dcc><div class="text-lg mb-1" data-v-94581dcc>ðŸŒ±</div><div class="text-gray-300 font-medium" data-v-94581dcc>Easy</div><div class="text-xs text-gray-500" data-v-94581dcc>Forgiving, good for beginners</div></div><div data-v-94581dcc><div class="text-lg mb-1" data-v-94581dcc>ðŸŒ¿</div><div class="text-gray-300 font-medium" data-v-94581dcc>Moderate</div><div class="text-xs text-gray-500" data-v-94581dcc>Some experience needed</div></div><div data-v-94581dcc><div class="text-lg mb-1" data-v-94581dcc>ðŸŒ³</div><div class="text-gray-300 font-medium" data-v-94581dcc>Advanced</div><div class="text-xs text-gray-500" data-v-94581dcc>Specific requirements</div></div><div data-v-94581dcc><div class="text-lg mb-1" data-v-94581dcc>ðŸ†</div><div class="text-gray-300 font-medium" data-v-94581dcc>Expert</div><div class="text-xs text-gray-500" data-v-94581dcc>Challenging, precise control</div></div></div></div></div>\x3c!--]--\x3e')):t("\x3c!----\x3e"),3===d(u)?(t('\x3c!--[--\x3e<div class="mb-8" data-v-94581dcc><h2 class="text-3xl font-bold text-white mb-3" data-v-94581dcc>Inventory &amp; Notes</h2><p class="text-lg text-gray-400" data-v-94581dcc> Track your seed inventory and add any notes about this strain. </p></div><div class="p-5 rounded-2xl bg-teal-500/10 border border-teal-500/30 mb-8" data-v-94581dcc><div class="flex gap-4" data-v-94581dcc><div class="w-10 h-10 rounded-xl bg-teal-500/20 flex items-center justify-center flex-shrink-0" data-v-94581dcc>'),t(N(d(re),{class:"w-5 h-5 text-teal-400"},null,a)),t(`</div><div data-v-94581dcc><h4 class="font-semibold text-teal-300 mb-1" data-v-94581dcc>Seed Inventory Tracking</h4><p class="text-sm text-teal-300/80" data-v-94581dcc> Keeping track of your seed inventory helps you plan future grows and know when to restock. The system will automatically decrement your count when you create new plants from this strain. </p></div></div></div><div class="space-y-6" data-v-94581dcc><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-94581dcc><label class="block text-lg font-semibold text-white mb-2" data-v-94581dcc>Seed Inventory</label><p class="text-sm text-gray-400 mb-4" data-v-94581dcc> How many seeds did you purchase, and how many remain? </p><div class="grid grid-cols-2 gap-4" data-v-94581dcc><div data-v-94581dcc><label class="block text-sm font-medium text-gray-400 mb-2" data-v-94581dcc>Total Seeds Purchased</label><input${Y("value",d(_).total_seeds)} type="number" min="0" placeholder="e.g., 10" class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-all" data-v-94581dcc></div><div data-v-94581dcc><label class="block text-sm font-medium text-gray-400 mb-2" data-v-94581dcc>Seeds Remaining</label><input${Y("value",d(_).seeds_remaining)} type="number" min="0"${Y("max",d(_).total_seeds||999)}${Y("placeholder",d(_).total_seeds?String(d(_).total_seeds):"10")} class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none transition-all" data-v-94581dcc></div></div>`),d(_).total_seeds&&null!==d(_).seeds_remaining?t(`<div class="mt-4 p-4 rounded-xl bg-gray-700/30" data-v-94581dcc><div class="flex items-center justify-between text-sm mb-2" data-v-94581dcc><span class="text-gray-400" data-v-94581dcc>Seed Usage</span><span class="text-white font-medium" data-v-94581dcc>${B(d(X))} of ${B(d(_).total_seeds)} used</span></div><div class="h-2 bg-gray-600 rounded-full overflow-hidden" data-v-94581dcc><div class="h-full bg-gradient-to-r from-purple-500 to-purple-400 transition-all" style="${te({width:`${d(ae)}%`})}" data-v-94581dcc></div></div></div>`):t("\x3c!----\x3e"),t(`</div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50" data-v-94581dcc><label class="block text-lg font-semibold text-white mb-2" data-v-94581dcc>Notes &amp; Description</label><p class="text-sm text-gray-400 mb-4" data-v-94581dcc> Any additional information about this strain - expected effects, grow tips, purchase info, etc. </p><textarea rows="4" placeholder="Add your notes here...\n\nExamples:\nâ€¢ Expected effects or terpene profile\nâ€¢ Where/when you purchased\nâ€¢ Growing tips you&#39;ve learned\nâ€¢ Special care requirements" class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none resize-none" data-v-94581dcc>${B(d(_).description)}</textarea></div><div class="p-6 rounded-2xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/30" data-v-94581dcc><h4 class="font-semibold text-white mb-4 flex items-center gap-2" data-v-94581dcc>`),t(N(d(Ce),{class:"w-5 h-5 text-purple-400"},null,a)),t(` Strain Summary </h4><div class="grid grid-cols-2 sm:grid-cols-3 gap-4" data-v-94581dcc><div data-v-94581dcc><div class="text-xs text-gray-400 mb-1" data-v-94581dcc>Name</div><div class="text-white font-medium" data-v-94581dcc>${B(d(_).name||"Not set")}</div></div><div data-v-94581dcc><div class="text-xs text-gray-400 mb-1" data-v-94581dcc>Type</div><div class="text-white" data-v-94581dcc>${B(d(Z))}</div></div><div data-v-94581dcc><div class="text-xs text-gray-400 mb-1" data-v-94581dcc>Genetics</div><div class="text-white" data-v-94581dcc>${B(d(_).indica_ratio)}% Indica / ${B(100-d(_).indica_ratio)}% Sativa</div></div>`),d(_).breeder?t(`<div data-v-94581dcc><div class="text-xs text-gray-400 mb-1" data-v-94581dcc>Breeder</div><div class="text-white" data-v-94581dcc>${B(d(_).breeder)}</div></div>`):t("\x3c!----\x3e"),d(_).expected_flowering_days?t(`<div data-v-94581dcc><div class="text-xs text-gray-400 mb-1" data-v-94581dcc>Flowering</div><div class="text-white" data-v-94581dcc>${B(d(_).expected_flowering_days)} days</div></div>`):t("\x3c!----\x3e"),d(_).total_seeds?t(`<div data-v-94581dcc><div class="text-xs text-gray-400 mb-1" data-v-94581dcc>Seeds</div><div class="text-white" data-v-94581dcc>${B(null!=(de=d(_).seeds_remaining)?de:d(_).total_seeds)} remaining</div></div>`):t("\x3c!----\x3e"),t("</div></div></div>\x3c!--]--\x3e")):t("\x3c!----\x3e"),t('</div></div><div class="flex-shrink-0 border-t border-gray-800 bg-gray-900/80 backdrop-blur-sm" data-v-94581dcc><div class="max-w-4xl mx-auto px-6 py-4" data-v-94581dcc><div class="flex items-center justify-between" data-v-94581dcc>'),d(u)>1?(t('<button class="flex items-center gap-2 px-5 py-3 text-gray-400 hover:text-white transition-colors rounded-xl hover:bg-gray-800" data-v-94581dcc>'),t(N(d(De),{class:"w-5 h-5"},null,a)),t(" Back </button>")):t("<div data-v-94581dcc></div>"),t('<div class="flex items-center gap-3" data-v-94581dcc><button class="px-5 py-3 text-gray-400 hover:text-white transition-colors rounded-xl hover:bg-gray-800" data-v-94581dcc> Cancel </button>'),d(u)<3?(t(`<button${ee(!d(F))?" disabled":""} class="${K(["flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all",d(F)?"bg-purple-600 hover:bg-purple-500 text-white shadow-lg shadow-purple-500/20":"bg-gray-700 text-gray-500 cursor-not-allowed"])}" data-v-94581dcc> Continue `),t(N(d(he),{class:"w-5 h-5"},null,a)),t("</button>")):(t(`<button${ee(d(h)||!d(F))?" disabled":""} class="flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white transition-all shadow-lg shadow-purple-500/20 disabled:opacity-50 disabled:cursor-not-allowed" data-v-94581dcc>`),d(h)?t(N(d(Ae),{class:"w-5 h-5 animate-spin"},null,a)):t(N(d(re),{class:"w-5 h-5"},null,a)),t(` ${B(d(h)?"Adding...":"Add Strain")}</button>`)),t("</div></div></div></div></div>")}}}),ol=nl.setup;nl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/wizards/LabStrainWizard.vue"),ol?ol(e,t):void 0};const dl=Object.assign(Ct(nl,[["__scopeId","data-v-94581dcc"]]),{__name:"LabStrainWizard"}),cl=e({__name:"LabStrainPerformanceChart",__ssrInlineRender:!0,props:{strain:{},plants:{default:()=>[]},stats:{default:()=>({totalPlants:0,keepers:0,avgScore:null,avgFlowerDays:null})}},setup(e){Nt.register(Ht,Bt,Gt,Wt,Ut,Yt,qt,Vt,Kt,Jt);const s=e,u=[{id:"traits",label:"Traits"},{id:"scores",label:"Scores"},{id:"timeline",label:"Timeline"}],h=t("traits"),y=a(()=>{var e,t;return(null==(e=s.stats)?void 0:e.scores)||(null==(t=s.plants)?void 0:t.some(e=>e.final_score))}),_=a(()=>{var e;return(null==(e=s.plants)?void 0:e.length)>0}),L=a(()=>{var e;const t=(null==(e=s.stats)?void 0:e.scores)||{vigor:7,structure:6.5,resistance:7.5,production:8,aroma:7,clonability:6};return{labels:["Vigor","Structure","Resistance","Production","Aroma","Clonability"],datasets:[{label:s.strain.name,data:[t.vigor,t.structure,t.resistance,t.production,t.aroma,t.clonability],fill:!0,backgroundColor:"rgba(168, 85, 247, 0.2)",borderColor:"rgba(168, 85, 247, 0.8)",pointBackgroundColor:"rgba(168, 85, 247, 1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(168, 85, 247, 1)"}]}}),O={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{r:{angleLines:{color:"rgba(75, 85, 99, 0.3)"},grid:{color:"rgba(75, 85, 99, 0.3)"},pointLabels:{color:"#9ca3af",font:{size:9}},ticks:{display:!1,stepSize:2},suggestedMin:0,suggestedMax:10}}},F=a(()=>{var e;const t=(null==(e=s.plants)?void 0:e.filter(e=>e.final_score))||[];return{labels:t.map(e=>e.plant_code),datasets:[{label:"Score",data:t.map(e=>e.final_score),backgroundColor:t.map(e=>e.is_keeper?"rgba(251, 191, 36, 0.6)":"rgba(34, 197, 94, 0.6)"),borderColor:t.map(e=>e.is_keeper?"rgba(251, 191, 36, 1)":"rgba(34, 197, 94, 1)"),borderWidth:1,borderRadius:4}]}}),Y={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1f2937",borderColor:"#374151",borderWidth:1}},scales:{x:{grid:{display:!1},ticks:{color:"#9ca3af",font:{size:9}}},y:{grid:{color:"rgba(55, 65, 81, 0.3)"},ticks:{color:"#9ca3af",font:{size:9}},suggestedMin:0,suggestedMax:100}}},Z=a(()=>{const e=[...s.plants||[]].sort((e,t)=>new Date(e.date_started).getTime()-new Date(t.date_started).getTime());return{labels:e.map(e=>new Date(e.date_started).toLocaleDateString("en-US",{month:"short",year:"2-digit"})),datasets:[{label:"Plants Started",data:e.map((e,t)=>t+1),fill:!0,backgroundColor:"rgba(34, 197, 94, 0.1)",borderColor:"rgba(34, 197, 94, 0.8)",tension:.4,pointRadius:3,pointBackgroundColor:e.map(e=>e.is_keeper?"rgba(251, 191, 36, 1)":"rgba(34, 197, 94, 1)")}]}}),X={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1},ticks:{color:"#9ca3af",font:{size:9}}},y:{grid:{color:"rgba(55, 65, 81, 0.3)"},ticks:{color:"#9ca3af",font:{size:9},stepSize:1}}}},ee=a(()=>{var e,t,a;return s.stats||{totalPlants:(null==(e=s.plants)?void 0:e.length)||0,keepers:(null==(t=s.plants)?void 0:t.filter(e=>e.is_keeper).length)||0,avgScore:(null==(a=s.plants)?void 0:a.filter(e=>e.final_score).length)>0?Math.round(s.plants.filter(e=>e.final_score).reduce((e,t)=>e+t.final_score,0)/s.plants.filter(e=>e.final_score).length*10)/10:null,avgFlowerDays:null}});return(e,t,a,s)=>{t(`<div${z(n({class:"space-y-4"},s))}><div class="flex items-center justify-between"><h3 class="text-sm font-semibold text-white flex items-center gap-2">`),t(N(d(ve),{class:"w-4 h-4 text-purple-400"},null,a)),t(' Performance Analytics </h3><div class="flex items-center gap-1 p-0.5 rounded-lg bg-gray-800/60">\x3c!--[--\x3e'),G(u,e=>{t(`<button class="${K(["px-2 py-1 rounded-md text-[10px] font-medium transition-all",d(h)===e.id?"bg-purple-500/30 text-purple-300":"text-gray-500 hover:text-gray-300"])}">${B(e.label)}</button>`)}),t('\x3c!--]--\x3e</div></div><div class="h-48 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50">'),"traits"===d(h)&&d(y)?t(N(d(Ft),{data:d(L),options:O},null,a)):"scores"===d(h)&&d(y)?t(N(d(zt),{data:d(F),options:Y},null,a)):"timeline"===d(h)&&d(_)?t(N(d(It),{data:d(Z),options:X},null,a)):(t('<div class="h-full flex flex-col items-center justify-center text-center"><div class="w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center mb-3">'),t(N(d(ve),{class:"w-6 h-6 text-purple-400"},null,a)),t(`</div><p class="text-sm text-gray-400 mb-1">No data yet</p><p class="text-xs text-gray-500">${B("timeline"===d(h)?"Grow plants from this strain to see timeline":"Score plants to see analytics")}</p></div>`)),t(`</div><div class="grid grid-cols-4 gap-2"><div class="p-2 rounded-lg bg-gray-800/40 text-center"><p class="text-lg font-bold text-purple-400">${B(d(ee).totalPlants)}</p><p class="text-[9px] text-gray-500 uppercase">Plants</p></div><div class="p-2 rounded-lg bg-gray-800/40 text-center"><p class="text-lg font-bold text-amber-400">${B(d(ee).keepers)}</p><p class="text-[9px] text-gray-500 uppercase">Keepers</p></div><div class="p-2 rounded-lg bg-gray-800/40 text-center"><p class="text-lg font-bold text-spider-green-400">${B(d(ee).avgScore||"--")}</p><p class="text-[9px] text-gray-500 uppercase">Avg Score</p></div><div class="p-2 rounded-lg bg-gray-800/40 text-center"><p class="text-lg font-bold text-blue-400">${B(d(ee).avgFlowerDays||"--")}</p><p class="text-[9px] text-gray-500 uppercase">Avg Days</p></div></div></div>`)}}}),pl=cl.setup;cl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/strains/LabStrainPerformanceChart.vue"),pl?pl(e,t):void 0};const gl=Object.assign(cl,{__name:"LabStrainPerformanceChart"}),ul=e({__name:"LabStrains",__ssrInlineRender:!0,emits:["selectPlant"],setup(e,{emit:s}){const u=s,h=ra(),y=t(""),_=t(null),L=t("cards"),O=t(!1),F=t(null),Z=t(null),re=t(!1),ie=t(!1),ne=t(null),de=t(!1),ce=t({name:"",breeder:"",lineage:"",seed_type:"feminized",indica_ratio:50,expected_flowering_days:null,grow_difficulty:"moderate",total_seeds:null,seeds_remaining:null,dominant_terpenes:"",description:""}),pe=[{value:"feminized",label:"Feminized",icon:"â™€"},{value:"regular",label:"Regular",icon:"âš¥"},{value:"autoflower",label:"Autoflower",icon:"â±"}],ge=[{id:"feminized",label:"Feminized",icon:"â™€",bgActive:"bg-pink-500/20",textActive:"text-pink-300"},{id:"regular",label:"Regular",icon:"âš¥",bgActive:"bg-blue-500/20",textActive:"text-blue-300"},{id:"autoflower",label:"Autoflower",icon:"â±",bgActive:"bg-amber-500/20",textActive:"text-amber-300"}],ue=a(()=>{let e=[...h.strains];if(_.value&&(e=e.filter(e=>e.seed_type===_.value)),y.value){const t=y.value.toLowerCase();e=e.filter(e=>{var a,s;return e.name.toLowerCase().includes(t)||(null==(a=e.breeder)?void 0:a.toLowerCase().includes(t))||(null==(s=e.lineage)?void 0:s.toLowerCase().includes(t))})}return e});function k(e){return h.strains.filter(t=>t.seed_type===e).length}function E(e){return h.plants.filter(t=>t.strain_id===e)}function D(e){return h.plants.filter(t=>t.strain_id===e).length}function x(e){return h.plants.filter(t=>t.strain_id===e&&t.is_keeper).length}function j(e){const t=h.plants.filter(t=>t.strain_id===e&&t.final_score&&t.final_score>0);return 0===t.length?0:t.reduce((e,t)=>e+(t.final_score||0),0)/t.length}function H(e){u("selectPlant",e)}function q(e){return e?{feminized:"Feminized",regular:"Regular",autoflower:"Autoflower"}[e]||e:"Regular"}function m(e){return{feminized:"bg-pink-500/20 text-pink-300",regular:"bg-blue-500/20 text-blue-300",autoflower:"bg-amber-500/20 text-amber-300"}[e||"regular"]||"bg-gray-500/20 text-gray-300"}function C(e){return{easy:"bg-green-500/20 text-green-300",moderate:"bg-yellow-500/20 text-yellow-300",advanced:"bg-orange-500/20 text-orange-300",expert:"bg-red-500/20 text-red-300"}[e||"moderate"]||"bg-gray-500/20 text-gray-300"}function A(e){return{germinating:"bg-lime-500/20 text-lime-300",seedling:"bg-green-500/20 text-green-300",early_veg:"bg-emerald-500/20 text-emerald-300",mid_veg:"bg-emerald-500/20 text-emerald-300",late_veg:"bg-teal-500/20 text-teal-300",pre_flower:"bg-purple-500/20 text-purple-300",early_flower:"bg-pink-500/20 text-pink-300",mid_flower:"bg-pink-500/20 text-pink-300",late_flower:"bg-fuchsia-500/20 text-fuchsia-300",flush:"bg-blue-500/20 text-blue-300",harvest:"bg-amber-500/20 text-amber-300",drying:"bg-orange-500/20 text-orange-300",curing:"bg-yellow-500/20 text-yellow-300",archived:"bg-gray-500/20 text-gray-300",culled:"bg-red-500/20 text-red-300"}[e||""]||"bg-gray-500/20 text-gray-300"}function W(e){O.value=!1}return a(()=>F.value?h.plants.filter(e=>{var t;return e.strain_id===(null==(t=F.value)?void 0:t.id)}):[]),(e,t,a,s)=>{const u=sl,h=il,ve=dl,be=gl;t(`<div${z(n({class:"h-full flex flex-col"},s))} data-v-27509d5e><div class="flex-shrink-0 p-4 space-y-4" data-v-27509d5e><div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3" data-v-27509d5e><div class="relative flex-1 sm:flex-none sm:w-64" data-v-27509d5e>`),t(N(d(Ee),{class:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-500"},null,a)),t(`<input${Y("value",d(y))} type="text" placeholder="Search strains..." class="w-full pl-10 pr-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-base text-white placeholder-gray-500 focus:border-purple-500/50 focus:outline-none transition-colors" data-v-27509d5e></div><div class="flex items-center gap-3" data-v-27509d5e><div class="flex items-center bg-gray-800/50 rounded-xl p-1" data-v-27509d5e>\x3c!--[--\x3e`),G(["cards","list"],e=>{t(`<button class="${K(["p-2 rounded-lg transition-colors",d(L)===e?"bg-purple-600/30 text-purple-400":"text-gray-500 hover:text-gray-300"])}" data-v-27509d5e>`),t(N(d("cards"===e?Me:xe),{class:"w-5 h-5"},null,a)),t("</button>")}),t('\x3c!--]--\x3e</div><button class="flex items-center gap-2 px-4 py-3 rounded-xl bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white text-sm font-medium shadow-lg shadow-purple-500/20 transition-all" data-v-27509d5e>'),t(N(d(oe),{class:"w-5 h-5"},null,a)),t(`<span class="hidden sm:inline" data-v-27509d5e>Add Strain</span></button></div></div><div class="flex gap-2 overflow-x-auto pb-1 scrollbar-hide" data-v-27509d5e><button class="${K(["px-3 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all",d(_)?"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50":"bg-purple-600 text-white"])}" data-v-27509d5e> All Strains </button>\x3c!--[--\x3e`),G(ge,e=>{t(`<button class="${K(["flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium whitespace-nowrap transition-all",d(_)===e.id?`${e.bgActive} ${e.textActive}`:"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50"])}" data-v-27509d5e><span data-v-27509d5e>${B(e.icon)}</span><span data-v-27509d5e>${B(e.label)}</span>`),k(e.id)>0?t(`<span class="px-1.5 py-0.5 rounded bg-black/20 text-xs" data-v-27509d5e>${B(k(e.id))}</span>`):t("\x3c!----\x3e"),t("</button>")}),t('\x3c!--]--\x3e</div></div><div class="flex-1 overflow-y-auto p-4 pt-0" data-v-27509d5e>'),0!==d(ue).length||d(y)?0===d(ue).length&&d(y)?(t('<div class="flex flex-col items-center justify-center py-16 text-center" data-v-27509d5e><div class="w-16 h-16 rounded-2xl bg-gray-800/50 flex items-center justify-center mb-4" data-v-27509d5e>'),t(N(d(Ee),{class:"w-8 h-8 text-gray-600"},null,a)),t('</div><h3 class="text-lg font-semibold text-gray-300 mb-2" data-v-27509d5e>No strains found</h3><p class="text-base text-gray-500 mb-4" data-v-27509d5e>Try adjusting your search or filters</p><button class="px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white text-sm transition-colors" data-v-27509d5e> Clear filters </button></div>')):(t("<div data-v-27509d5e>"),"cards"===d(L)?(t(`<div class="${K(["gap-4",d(ue).length<=3?"flex flex-col":d(ue).length<=6?"grid grid-cols-1 md:grid-cols-2":"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"])}" data-v-27509d5e>`),d(ue).length<=3?(t("\x3c!--[--\x3e"),G(d(ue),e=>{t(N(u,{key:e.id,strain:e,plants:E(e.id),"plants-count":D(e.id),"keepers-count":x(e.id),"avg-score":j(e.id),onEdit:t=>function(e){var t,a;ne.value=e.id,ce.value={name:e.name||"",breeder:e.breeder||"",lineage:e.lineage||"",seed_type:e.seed_type||"feminized",indica_ratio:null!=(t=e.indica_ratio)?t:50,expected_flowering_days:e.expected_flowering_days||null,grow_difficulty:e.grow_difficulty||"moderate",total_seeds:e.total_seeds||null,seeds_remaining:e.seeds_remaining||null,dominant_terpenes:(null==(a=e.dominant_terpenes)?void 0:a.join(", "))||"",description:e.description||""},ie.value=!0}(e),onSelectPlant:H},null,a))}),t("\x3c!--]--\x3e")):(t("\x3c!--[--\x3e"),G(d(ue),e=>{t(N(h,{key:e.id,strain:e,"plants-count":D(e.id),"keepers-count":x(e.id),onClick:t=>async function(e){F.value=e,re.value=!0;try{const t=await $fetch(`/api/lab/strains/${e.id}`);Z.value=t}catch{Z.value=e}finally{re.value=!1}}(e)},null,a))}),t("\x3c!--]--\x3e")),t("</div>")):(t('<div class="space-y-2" data-v-27509d5e>\x3c!--[--\x3e'),G(d(ue),e=>{var s;t(`<div class="flex items-center gap-4 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50 hover:border-purple-500/50 cursor-pointer transition-all" data-v-27509d5e><div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center shrink-0" data-v-27509d5e><span class="text-lg" data-v-27509d5e>ðŸ§¬</span></div><div class="flex-1 min-w-0" data-v-27509d5e><div class="flex items-center gap-2" data-v-27509d5e><h3 class="text-base font-medium text-white truncate" data-v-27509d5e>${B(e.name)}</h3><span class="${K([m(e.seed_type),"px-2 py-0.5 rounded text-xs font-medium"])}" data-v-27509d5e>${B(q(e.seed_type))}</span></div><p class="text-sm text-gray-500 truncate" data-v-27509d5e>${B(e.breeder||"Unknown breeder")} `),e.lineage?t(`<span data-v-27509d5e> Â· ${B(e.lineage)}</span>`):t("\x3c!----\x3e"),t('</p></div><div class="flex items-center gap-6 text-sm shrink-0" data-v-27509d5e>'),void 0!==e.indica_ratio?t(`<div class="text-center hidden lg:block" data-v-27509d5e><p class="text-gray-400" data-v-27509d5e>${B(e.indica_ratio)}% / ${B(100-e.indica_ratio)}%</p><p class="text-xs text-gray-600" data-v-27509d5e>I / S</p></div>`):t("\x3c!----\x3e"),e.expected_flowering_days?t(`<div class="text-center hidden sm:block" data-v-27509d5e><p class="text-white" data-v-27509d5e>${B(e.expected_flowering_days)}</p><p class="text-xs text-gray-600" data-v-27509d5e>Days</p></div>`):t("\x3c!----\x3e"),e.total_seeds?t(`<div class="text-center" data-v-27509d5e><p class="text-white" data-v-27509d5e>${B(null!=(s=e.seeds_remaining)?s:e.total_seeds)}</p><p class="text-xs text-gray-600" data-v-27509d5e>Seeds</p></div>`):t("\x3c!----\x3e"),t(N(d(he),{class:"w-5 h-5 text-gray-600"},null,a)),t("</div></div>")}),t("\x3c!--]--\x3e</div>")),t("</div>")):(t('<div class="flex flex-col items-center justify-center py-20 text-center" data-v-27509d5e><div class="w-20 h-20 rounded-2xl bg-gradient-to-br from-purple-500/20 to-purple-600/20 flex items-center justify-center mb-4" data-v-27509d5e>'),t(N(d(le),{class:"w-10 h-10 text-purple-400"},null,a)),t('</div><h2 class="text-xl font-bold text-white mb-2" data-v-27509d5e>Strain Catalog</h2><p class="text-gray-400 max-w-md mb-6" data-v-27509d5e> Build your personal strain library with genetics, growing notes, and performance data. </p><button class="flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gradient-to-r from-purple-600 to-purple-500 hover:from-purple-500 hover:to-purple-400 text-white text-sm font-medium shadow-lg shadow-purple-500/20 transition-all" data-v-27509d5e>'),t(N(d(oe),{class:"w-5 h-5"},null,a)),t(' Add Your First Strain </button><div class="grid grid-cols-2 lg:grid-cols-4 gap-4 mt-12 w-full max-w-3xl" data-v-27509d5e><div class="p-4 rounded-xl bg-gray-800/40 border border-gray-700/50 text-center" data-v-27509d5e><div class="text-2xl mb-2" data-v-27509d5e>ðŸ§¬</div><p class="text-xs text-gray-400" data-v-27509d5e>Track genetics &amp; lineage</p></div><div class="p-4 rounded-xl bg-gray-800/40 border border-gray-700/50 text-center" data-v-27509d5e><div class="text-2xl mb-2" data-v-27509d5e>ðŸ“¦</div><p class="text-xs text-gray-400" data-v-27509d5e>Seed batch inventory</p></div><div class="p-4 rounded-xl bg-gray-800/40 border border-gray-700/50 text-center" data-v-27509d5e><div class="text-2xl mb-2" data-v-27509d5e>ðŸ“Š</div><p class="text-xs text-gray-400" data-v-27509d5e>Performance stats</p></div><div class="p-4 rounded-xl bg-gray-800/40 border border-gray-700/50 text-center" data-v-27509d5e><div class="text-2xl mb-2" data-v-27509d5e>ðŸ“</div><p class="text-xs text-gray-400" data-v-27509d5e>Growing notes</p></div></div></div>')),t("</div>"),d(O)?t(N(ve,{onClose:e=>O.value=!1,onCreated:W},null,a)):t("\x3c!----\x3e"),X(t,e=>{var t,s,n,u,h,y,_,L,O,z;d(F)?(e(`<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70" data-v-27509d5e><div class="w-full max-w-lg bg-gray-900 rounded-2xl shadow-2xl border border-gray-800 overflow-hidden" data-v-27509d5e><div class="flex items-center justify-between px-6 py-4 border-b border-gray-800" data-v-27509d5e><div class="flex items-center gap-3" data-v-27509d5e><div class="w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center" data-v-27509d5e><span class="text-xl" data-v-27509d5e>ðŸ§¬</span></div><div data-v-27509d5e><h2 class="text-lg font-semibold text-white" data-v-27509d5e>${B(d(F).name)}</h2>`),d(F).breeder?e(`<p class="text-sm text-gray-500" data-v-27509d5e>${B(d(F).breeder)}</p>`):e("\x3c!----\x3e"),e('</div></div><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors" data-v-27509d5e>'),e(N(d(me),{class:"w-5 h-5"},null,a)),e('</button></div><div class="p-6 space-y-5 max-h-[60vh] overflow-y-auto" data-v-27509d5e>'),d(re)?e('<div class="flex items-center justify-center py-8" data-v-27509d5e><div class="w-8 h-8 border-2 border-purple-500 border-t-transparent rounded-full animate-spin" data-v-27509d5e></div></div>'):(e(`\x3c!--[--\x3e<div class="flex flex-wrap items-center gap-2" data-v-27509d5e><span class="${K([m(d(F).seed_type),"px-3 py-1.5 rounded-lg text-sm font-medium"])}" data-v-27509d5e>${B(q(d(F).seed_type))}</span>`),d(F).grow_difficulty?e(`<span class="${K([C(d(F).grow_difficulty),"px-3 py-1.5 rounded-lg text-sm font-medium"])}" data-v-27509d5e>${B(function(e){return{easy:"Easy",moderate:"Moderate",advanced:"Advanced",expert:"Expert"}[e||"moderate"]||e||""}(d(F).grow_difficulty))}</span>`):e("\x3c!----\x3e"),e("</div>"),(null==(t=d(Z))?void 0:t.stats)?e(`<div class="grid grid-cols-4 gap-3" data-v-27509d5e><div class="p-3 rounded-xl bg-gradient-to-br from-purple-500/10 to-purple-600/5 border border-purple-500/20 text-center" data-v-27509d5e><p class="text-xl font-bold text-white" data-v-27509d5e>${B(d(Z).stats.total_plants)}</p><p class="text-[10px] text-purple-300 uppercase tracking-wider" data-v-27509d5e>Plants</p></div><div class="p-3 rounded-xl bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20 text-center" data-v-27509d5e><p class="text-xl font-bold text-white" data-v-27509d5e>${B(d(Z).stats.keepers)}</p><p class="text-[10px] text-amber-300 uppercase tracking-wider" data-v-27509d5e>Keepers</p></div><div class="p-3 rounded-xl bg-gradient-to-br from-spider-green-500/10 to-spider-green-600/5 border border-spider-green-500/20 text-center" data-v-27509d5e><p class="text-xl font-bold text-white" data-v-27509d5e>${B(d(Z).stats.avg_score||"--")}</p><p class="text-[10px] text-spider-green-300 uppercase tracking-wider" data-v-27509d5e>Avg Score</p></div><div class="p-3 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 text-center" data-v-27509d5e><p class="text-xl font-bold text-white" data-v-27509d5e>${B(d(F).expected_flowering_days||"--")}</p><p class="text-[10px] text-blue-300 uppercase tracking-wider" data-v-27509d5e>Flower Days</p></div></div>`):e("\x3c!----\x3e"),void 0!==d(F).indica_ratio?e(`<div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Genetics Profile</label><div class="p-3 rounded-xl bg-gray-800/50" data-v-27509d5e><div class="flex justify-between text-sm text-gray-400 mb-2" data-v-27509d5e><span class="flex items-center gap-1.5" data-v-27509d5e><span class="w-2 h-2 rounded-full bg-purple-500" data-v-27509d5e></span> Indica ${B(d(F).indica_ratio)}% </span><span class="flex items-center gap-1.5" data-v-27509d5e><span class="w-2 h-2 rounded-full bg-green-500" data-v-27509d5e></span> Sativa ${B(100-d(F).indica_ratio)}% </span></div><div class="h-4 rounded-full bg-gray-700 overflow-hidden flex" data-v-27509d5e><div class="bg-gradient-to-r from-purple-600 to-purple-400 transition-all" style="${te({width:`${d(F).indica_ratio}%`})}" data-v-27509d5e></div><div class="bg-gradient-to-r from-green-500 to-green-400 flex-1" data-v-27509d5e></div></div></div></div>`):e("\x3c!----\x3e"),d(F).lineage?e(`<div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Lineage</label><div class="p-3 rounded-xl bg-gray-800/50 border border-gray-700/50" data-v-27509d5e><p class="text-white text-sm" data-v-27509d5e>${B(d(F).lineage)}</p></div></div>`):e("\x3c!----\x3e"),(null==(n=null==(s=d(Z))?void 0:s.dominant_terpenes)?void 0:n.length)>0?(e('<div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Dominant Terpenes</label><div class="flex flex-wrap gap-2" data-v-27509d5e>\x3c!--[--\x3e'),G(d(Z).dominant_terpenes,t=>{e(`<span class="px-3 py-1.5 rounded-lg bg-gradient-to-r from-orange-500/20 to-yellow-500/20 border border-orange-500/30 text-orange-200 text-sm" data-v-27509d5e>${B(t)}</span>`)}),e("\x3c!--]--\x3e</div></div>")):e("\x3c!----\x3e"),d(F).total_seeds?e(`<div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Seed Inventory</label><div class="p-3 rounded-xl bg-gray-800/50" data-v-27509d5e><div class="flex justify-between text-sm mb-2" data-v-27509d5e><span class="text-gray-400" data-v-27509d5e>Available</span><span class="text-white font-medium" data-v-27509d5e>${B(null!=(u=d(F).seeds_remaining)?u:d(F).total_seeds)} / ${B(d(F).total_seeds)} seeds</span></div><div class="h-2 rounded-full bg-gray-700 overflow-hidden" data-v-27509d5e><div class="h-full bg-gradient-to-r from-spider-green-600 to-spider-green-400 rounded-full transition-all" style="${te({width:(null!=(h=d(F).seeds_remaining)?h:d(F).total_seeds)/d(F).total_seeds*100+"%"})}" data-v-27509d5e></div></div></div></div>`):e("\x3c!----\x3e"),d(F).description?e(`<div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Growing Notes</label><div class="p-3 rounded-xl bg-gray-800/50 border border-gray-700/50" data-v-27509d5e><p class="text-gray-300 text-sm whitespace-pre-wrap" data-v-27509d5e>${B(d(F).description)}</p></div></div>`):e("\x3c!----\x3e"),(null==(_=null==(y=d(Z))?void 0:y.plants)?void 0:_.length)>0||(null==(L=d(Z))?void 0:L.stats)?(e("<div data-v-27509d5e>"),e(N(be,{strain:d(F),plants:d(Z).plants||[],stats:d(Z).stats},null,a)),e("</div>")):e("\x3c!----\x3e"),(null==(z=null==(O=d(Z))?void 0:O.plants)?void 0:z.length)>0?(e(`<div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e> Plants &amp; Phenotypes (${B(d(Z).plants.length)}) </label><div class="space-y-2 max-h-48 overflow-y-auto" data-v-27509d5e>\x3c!--[--\x3e`),G(d(Z).plants,t=>{e('<div class="flex items-center justify-between p-2.5 rounded-lg bg-gray-800/50 hover:bg-gray-800 transition-colors" data-v-27509d5e><div class="flex items-center gap-3" data-v-27509d5e>'),t.is_keeper?e('<span class="text-amber-400" data-v-27509d5e>â˜…</span>'):e('<span class="w-4" data-v-27509d5e></span>'),e(`<div data-v-27509d5e><p class="text-sm font-medium text-white" data-v-27509d5e>${B(t.plant_code)}</p>`),t.pheno_label?e(`<p class="text-xs text-gray-500" data-v-27509d5e>&quot;${B(t.pheno_label)}&quot;</p>`):e("\x3c!----\x3e"),e(`</div></div><div class="flex items-center gap-3" data-v-27509d5e><span class="${K([A(t.status),"px-2 py-0.5 rounded text-xs font-medium"])}" data-v-27509d5e>${B(function(e){return{germinating:"Germ",seedling:"Seedling",early_veg:"Veg",mid_veg:"Veg",late_veg:"Veg",pre_flower:"Pre-F",early_flower:"Flower",mid_flower:"Flower",late_flower:"Flower",flush:"Flush",harvest:"Harvest",drying:"Drying",curing:"Curing",archived:"Done",culled:"Culled"}[e||""]||e||"Unknown"}(t.status))}</span>`),t.final_score?e(`<span class="text-sm font-medium text-spider-green-400" data-v-27509d5e>${B(t.final_score.toFixed(1))}</span>`):e('<span class="text-sm text-gray-600" data-v-27509d5e>--</span>'),e("</div></div>")}),e("\x3c!--]--\x3e</div></div>")):e("\x3c!----\x3e"),e("\x3c!--]--\x3e")),e('</div><div class="flex items-center justify-between px-6 py-4 border-t border-gray-800 bg-gray-900/50" data-v-27509d5e><button class="flex items-center gap-2 px-4 py-2 rounded-lg bg-purple-600/20 hover:bg-purple-600/30 text-purple-300 transition-colors" data-v-27509d5e>'),e(N(d(He),{class:"w-4 h-4"},null,a)),e(' Edit Strain </button><button class="px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors" data-v-27509d5e> Close </button></div></div></div>')):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{var t;d(ie)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70" data-v-27509d5e><div class="w-full max-w-2xl max-h-[90vh] bg-gray-900 rounded-2xl shadow-2xl border border-gray-800 flex flex-col overflow-hidden" data-v-27509d5e><div class="flex items-center justify-between px-6 py-4 border-b border-gray-800" data-v-27509d5e><h2 class="text-lg font-semibold text-white" data-v-27509d5e>Edit Strain</h2><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors" data-v-27509d5e>'),e(N(d(me),{class:"w-5 h-5"},null,a)),e(`</button></div><div class="flex-1 overflow-y-auto p-6 space-y-6" data-v-27509d5e><div class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-v-27509d5e><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Name *</label><input${Y("value",d(ce).name)} type="text" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none" placeholder="Strain name" data-v-27509d5e></div><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Breeder</label><input${Y("value",d(ce).breeder)} type="text" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none" placeholder="Breeder name" data-v-27509d5e></div></div><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Seed Type</label><div class="flex gap-3" data-v-27509d5e>\x3c!--[--\x3e`),G(pe,t=>{e(`<button class="${K(["flex-1 py-3 rounded-xl border-2 transition-colors text-sm font-medium",d(ce).seed_type===t.value?"border-purple-500 bg-purple-500/20 text-purple-300":"border-gray-700 bg-gray-800 text-gray-400 hover:border-gray-600"])}" data-v-27509d5e>${B(t.icon)} ${B(t.label)}</button>`)}),e(`\x3c!--]--\x3e</div></div><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Lineage</label><input${Y("value",d(ce).lineage)} type="text" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none" placeholder="Parent strains (e.g., Girl Scout Cookies x Chem Dog)" data-v-27509d5e></div><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e> Genetics: ${B(d(ce).indica_ratio)}% Indica / ${B(100-d(ce).indica_ratio)}% Sativa </label><input${Y("value",d(ce).indica_ratio)} type="range" min="0" max="100" class="w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500" data-v-27509d5e><div class="flex justify-between text-xs text-gray-500 mt-1" data-v-27509d5e><span data-v-27509d5e>100% Sativa</span><span data-v-27509d5e>100% Indica</span></div></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-v-27509d5e><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Expected Flowering (days)</label><input${Y("value",d(ce).expected_flowering_days)} type="number" min="30" max="120" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none" placeholder="e.g., 63" data-v-27509d5e></div><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Grow Difficulty</label><select class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white focus:border-purple-500 focus:outline-none" data-v-27509d5e><option value="easy" data-v-27509d5e${ee(Array.isArray(d(ce).grow_difficulty)?ae(d(ce).grow_difficulty,"easy"):se(d(ce).grow_difficulty,"easy"))?" selected":""}>Easy</option><option value="moderate" data-v-27509d5e${ee(Array.isArray(d(ce).grow_difficulty)?ae(d(ce).grow_difficulty,"moderate"):se(d(ce).grow_difficulty,"moderate"))?" selected":""}>Moderate</option><option value="advanced" data-v-27509d5e${ee(Array.isArray(d(ce).grow_difficulty)?ae(d(ce).grow_difficulty,"advanced"):se(d(ce).grow_difficulty,"advanced"))?" selected":""}>Advanced</option><option value="expert" data-v-27509d5e${ee(Array.isArray(d(ce).grow_difficulty)?ae(d(ce).grow_difficulty,"expert"):se(d(ce).grow_difficulty,"expert"))?" selected":""}>Expert</option></select></div></div><div class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-v-27509d5e><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Total Seeds</label><input${Y("value",d(ce).total_seeds)} type="number" min="0" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none" placeholder="0" data-v-27509d5e></div><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Seeds Remaining</label><input${Y("value",d(ce).seeds_remaining)} type="number" min="0" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none" placeholder="0" data-v-27509d5e></div></div><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Dominant Terpenes</label><input${Y("value",d(ce).dominant_terpenes)} type="text" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none" placeholder="e.g., Myrcene, Limonene, Caryophyllene" data-v-27509d5e><p class="text-xs text-gray-500 mt-1" data-v-27509d5e>Comma-separated list of terpenes</p></div><div data-v-27509d5e><label class="block text-sm font-medium text-gray-400 mb-2" data-v-27509d5e>Notes / Description</label><textarea rows="3" class="w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:border-purple-500 focus:outline-none resize-none" placeholder="Your notes about this strain..." data-v-27509d5e>${B(d(ce).description)}</textarea></div></div><div class="flex items-center justify-end gap-3 px-6 py-4 border-t border-gray-800 bg-gray-900/50" data-v-27509d5e><button class="px-4 py-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors" data-v-27509d5e> Cancel </button><button${ee(d(de)||!(null==(t=d(ce).name)?void 0:t.trim()))?" disabled":""} class="flex items-center gap-2 px-5 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed" data-v-27509d5e>`),d(de)?e(N(d(Ae),{class:"w-4 h-4 animate-spin"},null,a)):e(N(d(fe),{class:"w-4 h-4"},null,a)),e(` ${B(d(de)?"Saving...":"Save Changes")}</button></div></div></div>`)):e("\x3c!----\x3e")},"body",!1,a),t("</div>")}}}),xl=ul.setup;ul.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabStrains.vue"),xl?xl(e,t):void 0};const vl=Object.assign(Ct(ul,[["__scopeId","data-v-27509d5e"]]),{__name:"LabStrains"}),bl=e({__name:"LabGeneticTree",__ssrInlineRender:!0,props:{strains:{default:()=>[]},projects:{default:()=>[]},selectedStrainId:{default:null}},emits:["selectStrain","selectProject"],setup(e,{emit:a}){const h=e,{fitView:y,zoomIn:L,zoomOut:O}=Zt(),F=t([]),B=t([]);return s(()=>[h.strains,h.projects],function(){const e=[],t=new Map,a=0,s=150,n=300;h.projects.forEach((d,u)=>{const h=400*u,y={id:`female-${d.id}`,type:"strain",position:{x:h,y:a},data:{name:d.female_strain_name||"Female",breeder:"",sex:"female",projectId:d.id}};e.push(y),t.set(`female-${d.id}`,y.position);const _={id:`male-${d.id}`,type:"strain",position:{x:h+200,y:a},data:{name:d.male_strain_name||"Male",breeder:"",sex:"male",projectId:d.id}};e.push(_),t.set(`male-${d.id}`,_.position);const L={id:`cross-${d.id}`,type:"cross",position:{x:h+100,y:s},data:{year:d.started_at?new Date(d.started_at).getFullYear():"",projectId:d.id}};e.push(L);const O={id:`offspring-${d.id}`,type:"strain",position:{x:h+100,y:n},data:{name:d.name,generation:d.generation||"F1",sex:null,projectId:d.id,isOffspring:!0}};e.push(O)}),h.strains.forEach((t,a)=>{h.projects.some(e=>e.female_strain_name===t.name||e.male_strain_name===t.name)||e.push({id:`strain-${t.id}`,type:"strain",position:{x:400*h.projects.length+180*a,y:0},data:{name:t.name,breeder:t.breeder||"",sex:"feminized"===t.seed_type?"female":null,strainId:t.id}})});const d=[];h.projects.forEach(e=>{d.push({id:`e-female-cross-${e.id}`,source:`female-${e.id}`,target:`cross-${e.id}`,targetHandle:"target-left",type:"smoothstep",animated:!0,style:{stroke:"#ec4899",strokeWidth:2}}),d.push({id:`e-male-cross-${e.id}`,source:`male-${e.id}`,target:`cross-${e.id}`,targetHandle:"target-right",type:"smoothstep",animated:!0,style:{stroke:"#3b82f6",strokeWidth:2}}),d.push({id:`e-cross-offspring-${e.id}`,source:`cross-${e.id}`,target:`offspring-${e.id}`,type:"smoothstep",animated:!0,style:{stroke:"#a855f7",strokeWidth:2}})}),F.value=e,B.value=d},{immediate:!0,deep:!0}),(e,t,a,s)=>{const h=jt;t(`<div${z(n({class:"h-full relative"},s))}><div class="absolute top-3 right-3 z-10 flex items-center gap-2"><button class="p-2 rounded-lg bg-gray-800/80 hover:bg-gray-700 text-gray-300 hover:text-white backdrop-blur-sm transition-colors" title="Fit view">`),t(N(d(ct),{class:"w-4 h-4"},null,a)),t('</button><button class="p-2 rounded-lg bg-gray-800/80 hover:bg-gray-700 text-gray-300 hover:text-white backdrop-blur-sm transition-colors" title="Zoom in">'),t(N(d(oe),{class:"w-4 h-4"},null,a)),t('</button><button class="p-2 rounded-lg bg-gray-800/80 hover:bg-gray-700 text-gray-300 hover:text-white backdrop-blur-sm transition-colors" title="Zoom out">'),t(N(d(je),{class:"w-4 h-4"},null,a)),t('</button></div><div class="absolute bottom-3 left-3 z-10 p-2 rounded-lg bg-gray-800/80 backdrop-blur-sm"><div class="flex items-center gap-4 text-[10px]"><div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded-full bg-pink-500"></div><span class="text-gray-400">Female</span></div><div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded-full bg-blue-500"></div><span class="text-gray-400">Male</span></div><div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded-full bg-purple-500"></div><span class="text-gray-400">Offspring</span></div><div class="flex items-center gap-1.5"><div class="w-3 h-3 rounded-full bg-amber-500"></div><span class="text-gray-400">Keeper</span></div></div></div>'),t(N(h,null,{fallback:_((e,t,a,s)=>{if(!t)return[u("div",{class:"h-full flex items-center justify-center"},[u("div",{class:"text-gray-500 text-sm"},"Loading genetic tree...")])];t(`<div class="h-full flex items-center justify-center"${s}><div class="text-gray-500 text-sm"${s}>Loading genetic tree...</div></div>`)})},a)),0===d(F).length?(t('<div class="absolute inset-0 flex flex-col items-center justify-center text-center p-4"><div class="w-16 h-16 rounded-2xl bg-purple-500/20 flex items-center justify-center mb-4">'),t(N(d(We),{class:"w-8 h-8 text-purple-400"},null,a)),t('</div><h3 class="text-base font-semibold text-gray-300 mb-2">No lineage data</h3><p class="text-sm text-gray-500 max-w-sm"> Create breeding projects with parent strains to see their genetic lineage tree. </p></div>')):t("\x3c!----\x3e"),t("</div>")}}}),ml=bl.setup;bl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/breeding/LabGeneticTree.vue"),ml?ml(e,t):void 0};const fl=Object.assign(bl,{__name:"LabGeneticTree"}),hl=e({__name:"LabBreedingTimeline",__ssrInlineRender:!0,props:{project:{}},emits:["milestone-action","log-event","add-photo"],setup(e,{emit:t}){const s=e,y=a(()=>{const e=s.project,t=!!e.started_at,a=!!e.pollination_date,n=!!e.seed_harvest_date,d=(e.total_seeds_produced||0)>0,u=(e.seeds_tested||0)>0;return[{id:"start",label:"Project Started",description:"Selected parents and documented goals",icon:pt,completed:t,active:!t,date:e.started_at,actionLabel:t?void 0:"Start Project",position:0},{id:"pollinate",label:"Pollination",description:"Apply pollen to selected female branches",icon:ne,completed:a,active:t&&!a,date:e.pollination_date,estimatedDays:14,actionLabel:"Log Pollination",position:25},{id:"harvest",label:"Seed Harvest",description:"Collect mature seeds from pollinated flowers",icon:re,completed:n,active:a&&!n,date:e.seed_harvest_date,estimatedDays:42,subProgress:a&&!n?P(e.pollination_date):void 0,actionLabel:"Log Harvest",position:50},{id:"germinate",label:"Germination Test",description:"Test seed viability and germination rate",icon:ie,completed:d,active:n&&!d,estimatedDays:7,actionLabel:"Log Results",position:75},{id:"pheno",label:"Pheno Hunt",description:"Grow out and select best phenotypes",icon:Ue,completed:u,active:d&&!u,estimatedDays:90,subProgress:d?Math.round((e.seeds_tested||0)/(e.total_seeds_produced||1)*100):void 0,position:100}]}),_=a(()=>{var e;const t=y.value.filter(e=>e.completed).length,a=(null==(e=y.value.find(e=>e.active))?void 0:e.subProgress)||0,s=t/y.value.length*100,n=a/100*(100/y.value.length);return Math.min(100,s+n)}),L=a(()=>{if(!s.project.started_at)return 0;const e=new Date(s.project.started_at);return Math.floor(((new Date).getTime()-e.getTime())/864e5)});function P(e){if(!e)return 0;const t=new Date(e),a=Math.floor(((new Date).getTime()-t.getTime())/864e5);return Math.min(100,Math.round(a/42*100))}return(e,t,a,s)=>{t(`<div${z(n({class:"space-y-4"},s))}><div class="flex items-center justify-between"><h4 class="text-sm font-semibold text-white flex items-center gap-2">`),t(N(d(et),{class:"w-4 h-4 text-pink-400"},null,a)),t(` Project Timeline </h4><span class="text-xs text-gray-500">${B(d(L))} days total</span></div><div class="relative"><div class="h-2 rounded-full bg-gray-700/50 overflow-hidden"><div class="h-full rounded-full bg-gradient-to-r from-pink-500 via-purple-500 to-spider-green-500 transition-all duration-500" style="${te({width:`${d(_)}%`})}"></div></div><div class="relative h-8 mt-1">\x3c!--[--\x3e`),G(d(y),(e,s)=>{t(`<div class="absolute top-0 -translate-x-1/2 flex flex-col items-center" style="${te({left:`${e.position}%`})}"><div class="${K(["w-4 h-4 rounded-full border-2 transition-all",e.completed?"bg-spider-green-500 border-spider-green-400 shadow-lg shadow-spider-green-500/40":e.active?"bg-purple-500 border-purple-400 animate-pulse shadow-lg shadow-purple-500/40":"bg-gray-700 border-gray-600"])}">`),e.completed?t(N(d(fe),{class:"w-2.5 h-2.5 text-white m-auto mt-0.5"},null,a)):t("\x3c!----\x3e"),t("</div></div>")}),t('\x3c!--]--\x3e</div></div><div class="grid grid-cols-1 gap-2">\x3c!--[--\x3e'),G(d(y),(e,s)=>{t(`<div class="${K(["p-3 rounded-xl border transition-all",e.completed?"bg-spider-green-500/10 border-spider-green-500/30":e.active?"bg-purple-500/10 border-purple-500/30":"bg-gray-800/40 border-gray-700/30 opacity-60"])}"><div class="flex items-start gap-3"><div class="${K(["w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",e.completed?"bg-spider-green-500/20":e.active?"bg-purple-500/20":"bg-gray-700/50"])}">`),Z(t,u(h(e.icon),{class:["w-5 h-5",e.completed?"text-spider-green-400":e.active?"text-purple-400":"text-gray-500"]},null),a),t(`</div><div class="flex-1 min-w-0"><div class="flex items-center justify-between gap-2 mb-1"><h5 class="${K(["text-sm font-medium",e.completed||e.active?"text-white":"text-gray-400"])}">${B(e.label)}</h5>`),e.date?t(`<span class="${K(["text-[10px] px-2 py-0.5 rounded-full",e.completed?"bg-spider-green-500/20 text-spider-green-300":e.active?"bg-purple-500/20 text-purple-300":"bg-gray-700/50 text-gray-500"])}">${B(function(e){return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""}(e.date))}</span>`):e.estimatedDays&&!e.completed?t(`<span class="text-[10px] px-2 py-0.5 rounded-full bg-gray-700/50 text-gray-500"> ~${B(e.estimatedDays)}d </span>`):t("\x3c!----\x3e"),t(`</div><p class="text-xs text-gray-500">${B(e.description)}</p>`),e.active&&e.subProgress?t(`<div class="mt-2"><div class="flex items-center justify-between text-[10px] mb-1"><span class="text-gray-400">Progress</span><span class="text-purple-300">${B(e.subProgress)}%</span></div><div class="h-1 rounded-full bg-gray-700/50 overflow-hidden"><div class="h-full rounded-full bg-purple-500 transition-all" style="${te({width:`${e.subProgress}%`})}"></div></div></div>`):t("\x3c!----\x3e"),t("</div>"),e.active&&e.actionLabel?t(`<button class="px-3 py-1.5 rounded-lg bg-purple-500/20 hover:bg-purple-500/30 text-purple-300 text-xs font-medium transition-colors">${B(e.actionLabel)}</button>`):t("\x3c!----\x3e"),t("</div></div>")}),t('\x3c!--]--\x3e</div><div class="flex gap-2 pt-2"><button class="flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 text-gray-300 text-sm transition-colors">'),t(N(d(Fe),{class:"w-4 h-4"},null,a)),t(' Log Event </button><button class="flex-1 flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl bg-gray-800/60 hover:bg-gray-700/60 border border-gray-700/50 text-gray-300 text-sm transition-colors">'),t(N(d(Ye),{class:"w-4 h-4"},null,a)),t(" Add Photo </button></div></div>")}}}),yl=hl.setup;hl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/breeding/LabBreedingTimeline.vue"),yl?yl(e,t):void 0};const wl=Object.assign(hl,{__name:"LabBreedingTimeline"}),_l=e({__name:"LabPollenCard",__ssrInlineRender:!0,props:{pollen:{},usedInProjects:{default:()=>[]}},emits:["click"],setup(e,{emit:t}){const s=e,y={refrigerated:{icon:dt,label:"4Â°C",shelfLife:30},frozen:{icon:ie,label:"-20Â°C",shelfLife:180},deep_frozen:{icon:ze,label:"-80Â°C",shelfLife:365},desiccated:{icon:dt,label:"Desiccant",shelfLife:14}},_=a(()=>{var e,t;if(!(null==(e=s.pollen)?void 0:e.storage_method))return dt;const a=s.pollen.storage_method.toLowerCase().replace(" ","_");return(null==(t=y[a])?void 0:t.icon)||dt}),L=a(()=>{var e,t;if(!(null==(e=s.pollen)?void 0:e.storage_method))return"Unknown";const a=s.pollen.storage_method.toLowerCase().replace(" ","_");return(null==(t=y[a])?void 0:t.label)||s.pollen.storage_method}),O=a(()=>{var e,t;if(!(null==(e=s.pollen)?void 0:e.storage_method))return 30;const a=s.pollen.storage_method.toLowerCase().replace(" ","_");return(null==(t=y[a])?void 0:t.shelfLife)||30}),F=a(()=>{if(!s.pollen.collection_date)return 0;const e=new Date(s.pollen.collection_date);return Math.floor(((new Date).getTime()-e.getTime())/864e5)}),Y=a(()=>{var e;return"expired"===s.pollen.status||(null!=(e=s.pollen.current_viability)?e:0)<10}),X=a(()=>{var e,t;return"low"===s.pollen.status||(null!=(e=s.pollen.current_viability)?e:0)<50&&(null!=(t=s.pollen.current_viability)?t:0)>=10}),ee=a(()=>{switch(s.pollen.status){case"available":return"bg-spider-green-500/20 text-spider-green-300";case"low":return"bg-yellow-500/20 text-yellow-300";case"depleted":return"bg-red-500/20 text-red-300";default:return"bg-gray-500/20 text-gray-400"}}),ae=a(()=>{var e,t;return(null!=(e=s.pollen.current_viability)?e:0)>=70?"text-spider-green-400":(null!=(t=s.pollen.current_viability)?t:0)>=40?"text-yellow-400":"text-red-400"}),se=a(()=>{var e,t;return(null!=(e=s.pollen.current_viability)?e:0)>=70?"bg-gradient-to-r from-spider-green-600 to-spider-green-400":(null!=(t=s.pollen.current_viability)?t:0)>=40?"bg-gradient-to-r from-yellow-600 to-yellow-400":"bg-gradient-to-r from-red-600 to-red-400"}),le=a(()=>{var e;if(Y.value)return"Pollen may no longer be viable";if(F.value>.8*O.value){const e=O.value-F.value;return e>0?`~${e} days remaining at optimal viability`:"Past optimal storage time"}return(null!=(e=s.pollen.current_viability)?e:0)<50?"Low viability - use soon":null}),re=a(()=>Y.value?"text-red-400":X.value?"text-yellow-400":"text-orange-400");return(t,a,s,y)=>{var O,ie,ne;a(`<div${z(n({class:["p-4 rounded-xl border transition-all cursor-pointer group",d(Y)?"bg-red-500/10 border-red-500/30 opacity-75":d(X)?"bg-yellow-500/10 border-yellow-500/30":"bg-gray-800/40 border-gray-700/50 hover:border-yellow-500/30"]},y))}><div class="flex items-start gap-3"><div class="${K(["w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0",d(Y)?"bg-red-500/20":d(X)?"bg-yellow-500/20":"bg-yellow-500/10"])}">`),Z(a,u(h(d(_)),{class:["w-6 h-6",d(Y)?"text-red-400":d(X)?"text-yellow-400":"text-yellow-500"]},null),s),a(`</div><div class="flex-1 min-w-0"><div class="flex items-start justify-between gap-2 mb-1"><div><h4 class="text-sm font-semibold text-white truncate group-hover:text-yellow-300 transition-colors">${B(e.pollen.strain_name||e.pollen.strainName||"Unknown")}</h4><p class="text-[10px] text-gray-500 font-mono">${B(e.pollen.batch_code)}</p></div><span class="${K(["px-2 py-0.5 rounded-full text-[10px] font-bold uppercase",d(ee)])}">${B(e.pollen.status)}</span></div><div class="mb-2"><div class="flex items-center justify-between text-[10px] mb-1"><span class="text-gray-500">Viability</span><span class="${K(d(ae))}">${B(null!=(O=e.pollen.current_viability)?O:0)}%</span></div><div class="h-1.5 rounded-full bg-gray-700/50 overflow-hidden"><div class="${K(["h-full rounded-full transition-all",d(se)])}" style="${te({width:`${null!=(ie=e.pollen.current_viability)?ie:0}%`})}"></div></div></div><div class="flex items-center gap-3 text-[10px] text-gray-500"><div class="flex items-center gap-1">`),a(N(d(Xt),{class:"w-3 h-3"},null,s)),a(`<span>${B(function(e){return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"}):"-"}(e.pollen.collection_date))}</span></div><div class="flex items-center gap-1">`),Z(a,u(h(d(_)),{class:"w-3 h-3"},null),s),a(`<span>${B(d(L))}</span></div>`),d(F)>0?(a('<div class="flex items-center gap-1">'),a(N(d(ea),{class:"w-3 h-3"},null,s)),a(`<span>${B(d(F))}d old</span></div>`)):a("\x3c!----\x3e"),a("</div>"),d(le)?(a(`<div class="${K([d(re),"mt-2 flex items-center gap-1.5 text-[10px]"])}">`),a(N(d(ta),{class:"w-3 h-3"},null,s)),a(`<span>${B(d(le))}</span></div>`)):a("\x3c!----\x3e"),(null==(ne=e.usedInProjects)?void 0:ne.length)?(a(`<div class="mt-2 pt-2 border-t border-gray-700/30"><p class="text-[10px] text-gray-500 mb-1">Used in ${B(e.usedInProjects.length)} project(s)</p><div class="flex flex-wrap gap-1">\x3c!--[--\x3e`),G(e.usedInProjects.slice(0,3),e=>{a(`<span class="px-1.5 py-0.5 rounded bg-pink-500/20 text-pink-300 text-[9px]">${B(e)}</span>`)}),a("\x3c!--]--\x3e"),e.usedInProjects.length>3?a(`<span class="text-[9px] text-gray-500"> +${B(e.usedInProjects.length-3)} more </span>`):a("\x3c!----\x3e"),a("</div></div>")):a("\x3c!----\x3e"),a("</div></div></div>")}}}),$l=_l.setup;_l.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/breeding/LabPollenCard.vue"),$l?$l(e,t):void 0};const kl=Object.assign(_l,{__name:"LabPollenCard"}),Sl=e({__name:"LabBreeding",__ssrInlineRender:!0,setup(e){const y=ra(),_=a(()=>y.breedingProjects),L=a(()=>y.pollenInventory),O=a(()=>[{id:"projects",label:"Projects",icon:Ge,count:_.value.length},{id:"pollen",label:"Pollen",icon:re,count:L.value.length},{id:"lineage",label:"Lineage",icon:We,count:0}]),F=t("projects"),te=t(!1),le=t(!1),de=t(!1),ce=t(!1),pe=t(!1),ge=t(!1),ue=t(null),xe=t(null),ve=t(null),be=t({name:"",femaleId:"",maleId:"",type:"line_creation",goal:""}),fe=t({strainId:"",collectionDate:"",storageMethod:"refrigerated"}),he=t({name:"",goal:"",status:"active"}),ye=t({name:"",goal:""}),we=t({eventType:"pollination",date:(new Date).toISOString().split("T")[0],seedCount:0,germinationRate:0,notes:""}),$e=t(""),ke=t(""),Se=t(!1);function H(e){switch(e){case"active":return"bg-spider-green-500/20 text-spider-green-300";case"completed":return"bg-blue-500/20 text-blue-300";case"paused":return"bg-yellow-500/20 text-yellow-300";case"abandoned":return"bg-red-500/20 text-red-300";default:return"bg-gray-500/20 text-gray-300"}}function M(e){return _.value.filter(t=>t.male_strain_name===e).map(e=>e.name)}function q(e){ve.value=e}function m(e){const t=_.value.find(t=>t.id===e);t&&(ue.value=t,F.value="projects")}function r(e){switch(e){case"start":ue.value&&y.updateBreedingProject(ue.value.id,{started_at:(new Date).toISOString(),status:"active"});break;case"pollinate":we.value.eventType="pollination",de.value=!0;break;case"harvest":we.value.eventType="seed_harvest",de.value=!0;break;case"germinate":we.value.eventType="germination_test",de.value=!0;break;case"pheno":we.value.eventType="selection",de.value=!0;break;default:we.value.eventType="note",de.value=!0}}return s(pe,e=>{e&&ue.value&&(he.value={name:ue.value.name||"",goal:ue.value.primary_goal||"",status:ue.value.status||"active"})}),s(ge,e=>{if(e&&ue.value){const e=ue.value.project_type||"F1",t="F1"===e?"F2":"F2"===e?"F3":"Next Gen";ye.value={name:`${ue.value.name} - ${t}`,goal:""}}}),s(de,e=>{e&&(we.value={eventType:"pollination",date:(new Date).toISOString().split("T")[0],seedCount:0,germinationRate:0,notes:""})}),s(ce,e=>{e&&($e.value="",ke.value="")}),(e,t,a,s)=>{var Ce;t(`<div${z(n({class:"h-full flex overflow-hidden"},s))}><div class="${K(["flex flex-col transition-all duration-300 overflow-hidden border-r border-gray-800/50",d(ue)?"w-full lg:w-2/5":"lineage"===d(F)?"w-full":"w-full lg:w-1/2"])}"><div class="flex-shrink-0 p-4 space-y-4"><div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3"><div><h2 class="text-xl font-bold text-white flex items-center gap-2"><div class="w-8 h-8 rounded-lg bg-gradient-to-br from-pink-500 to-purple-500 flex items-center justify-center">`),t(N(d(ne),{class:"w-4 h-4 text-white"},null,a)),t('</div> Breeding Journal </h2><p class="text-sm text-gray-400 mt-1">Plan crosses, track genetics, develop new lines</p></div><div class="flex items-center gap-2"><button class="flex items-center gap-2 px-3 py-2.5 rounded-xl bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-300 text-sm font-medium transition-all">'),t(N(d(re),{class:"w-4 h-4"},null,a)),t(' Add Pollen </button><button class="flex items-center gap-2 px-4 py-2.5 rounded-xl bg-gradient-to-r from-pink-500 to-pink-400 hover:from-pink-400 hover:to-pink-300 text-white text-sm font-medium shadow-lg shadow-pink-500/20 transition-all">'),t(N(d(oe),{class:"w-5 h-5"},null,a)),t(' New Project </button></div></div><div class="flex gap-2 p-1 rounded-xl bg-gray-800/40">\x3c!--[--\x3e'),G(d(O),e=>{t(`<button class="${K(["flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all flex-1 justify-center",d(F)===e.id?"bg-pink-500/30 text-pink-300 shadow-lg":"text-gray-400 hover:text-gray-300 hover:bg-gray-700/30"])}">`),Z(t,u(h(e.icon),{class:"w-4 h-4"},null),a),t(` ${B(e.label)} `),e.count>0?t(`<span class="px-1.5 py-0.5 rounded-full text-[10px] font-bold bg-pink-500/40">${B(e.count)}</span>`):t("\x3c!----\x3e"),t("</button>")}),t('\x3c!--]--\x3e</div></div><div class="flex-1 overflow-y-auto p-4 pt-0">'),"projects"===d(F)?(t('<div class="space-y-4">'),d(_).length>0?(t('<div class="space-y-3">\x3c!--[--\x3e'),G(d(_),e=>{var s;t(`<div class="${K(["p-4 rounded-xl cursor-pointer transition-all",(null==(s=d(ue))?void 0:s.id)===e.id?"bg-pink-500/20 border border-pink-500/50":"bg-gray-800/40 hover:bg-gray-700/40 border border-gray-700/50"])}"><div class="flex items-start justify-between mb-2"><div><h3 class="font-medium text-white">${B(e.name)}</h3><p class="text-xs text-gray-500">${B(e.code)}</p></div><span class="${K(["px-2 py-1 rounded-lg text-xs font-medium",H(e.status)])}">${B(e.status)}</span></div><div class="flex items-center gap-4 text-xs text-gray-400"><div class="flex items-center gap-1"><span>â™€</span><span>${B(e.female_strain_name||"Not set")}</span></div><span>Ã—</span><div class="flex items-center gap-1"><span>â™‚</span><span>${B(e.male_strain_name||"Not set")}</span></div></div><div class="flex items-center gap-3 mt-3 pt-3 border-t border-gray-700/50 text-xs text-gray-500"><div class="flex items-center gap-1">`),t(N(d(ie),{class:"w-3 h-3"},null,a)),t(`<span>${B(e.project_type||"F1")}</span></div><div class="flex items-center gap-1">`),t(N(d(re),{class:"w-3 h-3"},null,a)),t(`<span>${B(e.total_seeds_produced||0)} seeds</span></div></div></div>`)}),t("\x3c!--]--\x3e</div>")):(t('<div class="flex flex-col items-center justify-center py-12 text-center"><div class="w-16 h-16 rounded-2xl bg-pink-500/10 flex items-center justify-center mb-4">'),t(N(d(ne),{class:"w-8 h-8 text-pink-400"},null,a)),t('</div><h3 class="text-base font-semibold text-gray-300 mb-2">No breeding projects</h3><p class="text-sm text-gray-500 max-w-sm mb-4"> Create your first breeding project to start documenting crosses and developing new lines. </p><button class="flex items-center gap-2 px-4 py-2 rounded-xl bg-pink-500/20 text-pink-300 hover:bg-pink-500/30 transition-colors">'),t(N(d(oe),{class:"w-4 h-4"},null,a)),t(" Create Project </button></div>")),t("</div>")):t("\x3c!----\x3e"),"pollen"===d(F)?(t(`<div class="space-y-4"><div class="grid grid-cols-3 gap-3"><div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"><p class="text-[10px] text-gray-500 uppercase tracking-wider mb-1">Total Batches</p><p class="text-xl font-bold text-white">${B(d(L).length)}</p></div><div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"><p class="text-[10px] text-gray-500 uppercase tracking-wider mb-1">Available</p><p class="text-xl font-bold text-spider-green-400">${B(d(L).filter(e=>"available"===e.status).length)}</p></div><div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"><p class="text-[10px] text-gray-500 uppercase tracking-wider mb-1">Low/Expiring</p><p class="text-xl font-bold text-yellow-400">${B(d(L).filter(e=>"low"===e.status||e.current_viability&&e.current_viability<50).length)}</p></div></div>`),d(L).length>0?(t('<div class="space-y-3">\x3c!--[--\x3e'),G(d(L),e=>{t(N(kl,{key:e.id,pollen:e,"used-in-projects":M(e.strain_name||e.strainName||""),onClick:t=>xe.value=e},null,a))}),t("\x3c!--]--\x3e</div>")):(t('<div class="flex flex-col items-center justify-center py-12 text-center"><div class="w-16 h-16 rounded-2xl bg-yellow-500/10 flex items-center justify-center mb-4">'),t(N(d(re),{class:"w-8 h-8 text-yellow-400"},null,a)),t('</div><h3 class="text-base font-semibold text-gray-300 mb-2">No pollen stored</h3><p class="text-sm text-gray-500 max-w-sm mb-4"> Track your pollen inventory for future breeding projects and preserve genetics. </p><button class="flex items-center gap-2 px-4 py-2 rounded-xl bg-yellow-500/20 text-yellow-300 hover:bg-yellow-500/30 transition-colors">'),t(N(d(oe),{class:"w-4 h-4"},null,a)),t(" Add First Pollen </button></div>")),t("</div>")):t("\x3c!----\x3e"),"lineage"===d(F)?(t('<div class="flex-1 min-h-[400px]">'),t(N(fl,{strains:d(y).strains,projects:d(_),"selected-strain-id":d(ve),onSelectStrain:q,onSelectProject:m},null,a)),t("</div>")):t("\x3c!----\x3e"),t("</div></div>"),d(ue)||"lineage"!==d(F)&&!d(ue)?(t('<div class="hidden lg:flex flex-1 flex-col overflow-hidden bg-gray-900/30">'),d(ue)?(t('\x3c!--[--\x3e<div class="flex-shrink-0 p-4 border-b border-gray-800/50"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-12 h-12 rounded-xl bg-gradient-to-br from-pink-500/30 to-purple-500/30 flex items-center justify-center">'),t(N(d(ne),{class:"w-6 h-6 text-pink-400"},null,a)),t(`</div><div><h3 class="text-lg font-bold text-white">${B(d(ue).name)}</h3><p class="text-sm text-gray-400 font-mono">${B(d(ue).code)}</p></div></div><div class="flex items-center gap-2"><span class="${K(["px-3 py-1 rounded-full text-xs font-bold",H(d(ue).status)])}">${B(d(ue).status)}</span><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">`),t(N(d(me),{class:"w-5 h-5"},null,a)),t('</button></div></div></div><div class="flex-1 overflow-y-auto p-4 space-y-6"><div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4"><h4 class="text-sm font-semibold text-white mb-4 flex items-center gap-2">'),t(N(d(ie),{class:"w-4 h-4 text-purple-400"},null,a)),t(` Genetic Cross </h4><div class="flex items-center justify-center gap-4"><div class="flex-1 p-4 rounded-xl bg-pink-500/10 border border-pink-500/30 text-center"><div class="w-10 h-10 rounded-full bg-pink-500/30 flex items-center justify-center mx-auto mb-2"><span class="text-lg">â™€</span></div><p class="text-sm font-semibold text-white">${B(d(ue).female_strain_name||"Not set")}</p><p class="text-[10px] text-gray-500">Mother plant</p></div><div class="w-12 h-12 rounded-full bg-gradient-to-br from-pink-500 to-blue-500 flex items-center justify-center shadow-lg"><span class="text-white font-bold text-lg">Ã—</span></div><div class="flex-1 p-4 rounded-xl bg-blue-500/10 border border-blue-500/30 text-center"><div class="w-10 h-10 rounded-full bg-blue-500/30 flex items-center justify-center mx-auto mb-2"><span class="text-lg">â™‚</span></div><p class="text-sm font-semibold text-white">${B(d(ue).male_strain_name||"Not set")}</p><p class="text-[10px] text-gray-500">Pollen donor</p></div></div><div class="mt-4 pt-4 border-t border-gray-700/30 text-center"><div class="inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-purple-500/20 border border-purple-500/30"><span class="text-purple-300 text-sm font-medium">â†’ ${B(d(ue).project_type||"F1")} Offspring</span><span class="px-2 py-0.5 rounded-full bg-purple-500/40 text-purple-200 text-xs">${B(d(ue).total_seeds_produced||0)} seeds</span></div></div></div><div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4">`),t(N(wl,{project:d(ue),onMilestoneAction:r,onLogEvent:e=>de.value=!0,onAddPhoto:e=>ce.value=!0},null,a)),t('</div><div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4"><h4 class="text-sm font-semibold text-white mb-3 flex items-center gap-2">'),t(N(d(Ue),{class:"w-4 h-4 text-amber-400"},null,a)),t(` Goals &amp; Targets </h4><div class="space-y-4"><div><p class="text-[10px] text-gray-500 uppercase tracking-wider mb-1">Primary Goal</p><p class="text-sm text-gray-300">${B(d(ue).primary_goal||"No goal set")}</p></div>`),(null==(Ce=d(ue).target_traits)?void 0:Ce.length)?(t('<div><p class="text-[10px] text-gray-500 uppercase tracking-wider mb-2">Target Traits</p><div class="flex flex-wrap gap-2">\x3c!--[--\x3e'),G(d(ue).target_traits,e=>{t(`<span class="px-3 py-1.5 rounded-lg bg-spider-green-500/20 text-spider-green-300 text-xs font-medium">${B(e)}</span>`)}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),t(`</div></div><div class="grid grid-cols-2 gap-3"><div class="p-4 rounded-xl bg-purple-500/10 border border-purple-500/30 text-center"><p class="text-2xl font-bold text-purple-300">${B(d(ue).project_type||"F1")}</p><p class="text-[10px] text-gray-500 uppercase">Type</p></div><div class="p-4 rounded-xl bg-spider-green-500/10 border border-spider-green-500/30 text-center"><p class="text-2xl font-bold text-spider-green-300">${B(d(ue).successful_phenos||0)}</p><p class="text-[10px] text-gray-500 uppercase">Selected Phenos</p></div><div class="p-4 rounded-xl bg-amber-500/10 border border-amber-500/30 text-center"><p class="text-2xl font-bold text-amber-300">${B(d(ue).total_seeds_produced||0)}</p><p class="text-[10px] text-gray-500 uppercase">Seeds Produced</p></div><div class="p-4 rounded-xl bg-blue-500/10 border border-blue-500/30 text-center"><p class="text-2xl font-bold text-blue-300">${B(d(ue).seeds_tested||0)}</p><p class="text-[10px] text-gray-500 uppercase">Seeds Tested</p></div></div><div class="flex gap-3"><button class="flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors">`),t(N(d(Fe),{class:"w-4 h-4"},null,a)),t(' Edit Project </button><button class="flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-pink-500/20 hover:bg-pink-500/30 text-pink-300 text-sm font-medium transition-colors">'),t(N(d(Ae),{class:"w-4 h-4"},null,a)),t(" New Generation </button></div></div>\x3c!--]--\x3e")):(t('\x3c!--[--\x3e<div class="flex-shrink-0 p-4 border-b border-gray-800/50"><h3 class="text-sm font-semibold text-gray-300 flex items-center gap-2">'),t(N(d(We),{class:"w-4 h-4 text-purple-400"},null,a)),t(' Genetic Lineage Preview </h3></div><div class="flex-1">'),t(N(fl,{strains:d(y).strains,projects:d(_),onSelectProject:m},null,a)),t("</div>\x3c!--]--\x3e")),t("</div>")):t("\x3c!----\x3e"),X(t,e=>{d(te)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80"><div class="bg-gray-900 rounded-2xl border border-gray-700 w-full max-w-lg max-h-[85vh] flex flex-col overflow-hidden"><div class="flex items-center justify-between p-4 border-b border-gray-800"><h3 class="text-lg font-bold text-white">New Breeding Project</h3><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white">'),e(N(d(me),{class:"w-5 h-5"},null,a)),e(`</button></div><form class="p-4 space-y-4 overflow-y-auto flex-1"><div><label class="block text-sm text-gray-400 mb-2">Project Name</label><input${Y("value",d(be).name)} type="text" placeholder="e.g., GSC x OG Kush Line" class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none"></div><div class="grid grid-cols-2 gap-4"><div><label class="block text-sm text-gray-400 mb-2">Female Parent</label><select class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white focus:border-pink-500/50 focus:outline-none"><option value=""${ee(Array.isArray(d(be).femaleId)?ae(d(be).femaleId,""):se(d(be).femaleId,""))?" selected":""}>Select strain...</option>\x3c!--[--\x3e`),G(d(y).strains,t=>{e(`<option${Y("value",t.id)}${ee(Array.isArray(d(be).femaleId)?ae(d(be).femaleId,t.id):se(d(be).femaleId,t.id))?" selected":""}>${B(t.name)}</option>`)}),e(`\x3c!--]--\x3e</select></div><div><label class="block text-sm text-gray-400 mb-2">Male Parent</label><select class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white focus:border-pink-500/50 focus:outline-none"><option value=""${ee(Array.isArray(d(be).maleId)?ae(d(be).maleId,""):se(d(be).maleId,""))?" selected":""}>Select strain...</option>\x3c!--[--\x3e`),G(d(y).strains,t=>{e(`<option${Y("value",t.id)}${ee(Array.isArray(d(be).maleId)?ae(d(be).maleId,t.id):se(d(be).maleId,t.id))?" selected":""}>${B(t.name)}</option>`)}),e(`\x3c!--]--\x3e</select></div></div><div><label class="block text-sm text-gray-400 mb-2">Project Type</label><select class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white focus:border-pink-500/50 focus:outline-none"><option value="line_creation"${ee(Array.isArray(d(be).type)?ae(d(be).type,"line_creation"):se(d(be).type,"line_creation"))?" selected":""}>New Line Creation</option><option value="stabilization"${ee(Array.isArray(d(be).type)?ae(d(be).type,"stabilization"):se(d(be).type,"stabilization"))?" selected":""}>Line Stabilization</option><option value="trait_hunting"${ee(Array.isArray(d(be).type)?ae(d(be).type,"trait_hunting"):se(d(be).type,"trait_hunting"))?" selected":""}>Trait Hunting</option><option value="preservation"${ee(Array.isArray(d(be).type)?ae(d(be).type,"preservation"):se(d(be).type,"preservation"))?" selected":""}>Preservation</option></select></div><div><label class="block text-sm text-gray-400 mb-2">Primary Goal</label><textarea rows="2" placeholder="What are you trying to achieve?" class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none resize-none">${B(d(be).goal)}</textarea></div><div class="flex gap-3 pt-2"><button type="button" class="flex-1 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium transition-colors"> Cancel </button><button type="submit" class="flex-1 px-4 py-3 rounded-xl bg-pink-500 hover:bg-pink-400 text-white font-medium transition-colors"> Create Project </button></div></form></div></div>`)):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{d(le)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80"><div class="bg-gray-900 rounded-2xl border border-gray-700 w-full max-w-md max-h-[85vh] flex flex-col overflow-hidden"><div class="flex items-center justify-between p-4 border-b border-gray-800"><h3 class="text-lg font-bold text-white">Add Pollen to Inventory</h3><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white">'),e(N(d(me),{class:"w-5 h-5"},null,a)),e(`</button></div><form class="p-4 space-y-4 overflow-y-auto flex-1"><div><label class="block text-sm text-gray-400 mb-2">Source Strain</label><select class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white focus:border-yellow-500/50 focus:outline-none"><option value=""${ee(Array.isArray(d(fe).strainId)?ae(d(fe).strainId,""):se(d(fe).strainId,""))?" selected":""}>Select strain...</option>\x3c!--[--\x3e`),G(d(y).strains,t=>{e(`<option${Y("value",t.id)}${ee(Array.isArray(d(fe).strainId)?ae(d(fe).strainId,t.id):se(d(fe).strainId,t.id))?" selected":""}>${B(t.name)}</option>`)}),e(`\x3c!--]--\x3e</select></div><div><label class="block text-sm text-gray-400 mb-2">Collection Date</label><input${Y("value",d(fe).collectionDate)} type="date" class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white focus:border-yellow-500/50 focus:outline-none"></div><div><label class="block text-sm text-gray-400 mb-2">Storage Method</label><select class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white focus:border-yellow-500/50 focus:outline-none"><option value="refrigerated"${ee(Array.isArray(d(fe).storageMethod)?ae(d(fe).storageMethod,"refrigerated"):se(d(fe).storageMethod,"refrigerated"))?" selected":""}>Refrigerated (4Â°C)</option><option value="frozen"${ee(Array.isArray(d(fe).storageMethod)?ae(d(fe).storageMethod,"frozen"):se(d(fe).storageMethod,"frozen"))?" selected":""}>Frozen (-20Â°C)</option><option value="deep_frozen"${ee(Array.isArray(d(fe).storageMethod)?ae(d(fe).storageMethod,"deep_frozen"):se(d(fe).storageMethod,"deep_frozen"))?" selected":""}>Deep Frozen (-80Â°C)</option><option value="desiccated"${ee(Array.isArray(d(fe).storageMethod)?ae(d(fe).storageMethod,"desiccated"):se(d(fe).storageMethod,"desiccated"))?" selected":""}>Room Temp + Desiccant</option></select></div><div class="flex gap-3 pt-2"><button type="button" class="flex-1 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium transition-colors"> Cancel </button><button type="submit" class="flex-1 px-4 py-3 rounded-xl bg-yellow-500 hover:bg-yellow-400 text-gray-900 font-medium transition-colors"> Add Pollen </button></div></form></div></div>`)):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{d(pe)&&d(ue)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80"><div class="bg-gray-900 rounded-2xl border border-gray-700 w-full max-w-lg max-h-[85vh] flex flex-col overflow-hidden"><div class="px-6 py-4 border-b border-gray-700 flex items-center justify-between"><h3 class="text-lg font-bold text-white">Edit Project</h3><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">'),e(N(d(me),{class:"w-5 h-5"},null,a)),e(`</button></div><form class="p-6 space-y-4 overflow-y-auto flex-1"><div><label class="block text-sm text-gray-400 mb-2">Project Name</label><input${Y("value",d(he).name)} type="text" class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none"></div><div><label class="block text-sm text-gray-400 mb-2">Primary Goal</label><textarea rows="2" class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none resize-none">${B(d(he).goal)}</textarea></div><div><label class="block text-sm text-gray-400 mb-2">Status</label><select class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white focus:border-pink-500/50 focus:outline-none"><option value="planning"${ee(Array.isArray(d(he).status)?ae(d(he).status,"planning"):se(d(he).status,"planning"))?" selected":""}>Planning</option><option value="active"${ee(Array.isArray(d(he).status)?ae(d(he).status,"active"):se(d(he).status,"active"))?" selected":""}>Active</option><option value="paused"${ee(Array.isArray(d(he).status)?ae(d(he).status,"paused"):se(d(he).status,"paused"))?" selected":""}>Paused</option><option value="completed"${ee(Array.isArray(d(he).status)?ae(d(he).status,"completed"):se(d(he).status,"completed"))?" selected":""}>Completed</option><option value="abandoned"${ee(Array.isArray(d(he).status)?ae(d(he).status,"abandoned"):se(d(he).status,"abandoned"))?" selected":""}>Abandoned</option></select></div><div class="flex gap-3 pt-2"><button type="button" class="flex-1 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium transition-colors"> Cancel </button><button type="submit" class="flex-1 px-4 py-3 rounded-xl bg-pink-500 hover:bg-pink-400 text-white font-medium transition-colors"> Save Changes </button></div></form></div></div>`)):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{d(ge)&&d(ue)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80"><div class="bg-gray-900 rounded-2xl border border-gray-700 w-full max-w-lg max-h-[85vh] flex flex-col overflow-hidden"><div class="px-6 py-4 border-b border-gray-700 flex items-center justify-between"><h3 class="text-lg font-bold text-white">Create Next Generation</h3><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">'),e(N(d(me),{class:"w-5 h-5"},null,a)),e(`</button></div><div class="p-6 space-y-4 overflow-y-auto flex-1"><div class="p-4 rounded-xl bg-pink-500/10 border border-pink-500/30"><p class="text-sm text-pink-300"> This will create a new breeding project using the offspring from <span class="font-bold">${B(d(ue).name)}</span> as the parent generation. </p></div><div><label class="block text-sm text-gray-400 mb-2">New Generation Name</label><input${Y("value",d(ye).name)} type="text"${Y("placeholder",`${d(ue).name} - F2`)} class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none"></div><div><label class="block text-sm text-gray-400 mb-2">Goal for This Generation</label><textarea rows="2" placeholder="What traits are you selecting for?" class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none resize-none">${B(d(ye).goal)}</textarea></div><div class="flex gap-3 pt-2"><button type="button" class="flex-1 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium transition-colors"> Cancel </button><button class="flex-1 px-4 py-3 rounded-xl bg-pink-500 hover:bg-pink-400 text-white font-medium transition-colors"> Create Generation </button></div></div></div></div>`)):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{d(de)&&d(ue)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80"><div class="bg-gray-900 rounded-2xl border border-gray-700 w-full max-w-lg max-h-[85vh] flex flex-col overflow-hidden"><div class="px-6 py-4 border-b border-gray-700 flex items-center justify-between"><h3 class="text-lg font-bold text-white">Log Breeding Event</h3><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">'),e(N(d(me),{class:"w-5 h-5"},null,a)),e(`</button></div><form class="p-6 space-y-4 overflow-y-auto flex-1"><div><label class="block text-sm text-gray-400 mb-2">Event Type</label><select class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white focus:border-pink-500/50 focus:outline-none"><option value="pollination"${ee(Array.isArray(d(we).eventType)?ae(d(we).eventType,"pollination"):se(d(we).eventType,"pollination"))?" selected":""}>Pollination</option><option value="seed_harvest"${ee(Array.isArray(d(we).eventType)?ae(d(we).eventType,"seed_harvest"):se(d(we).eventType,"seed_harvest"))?" selected":""}>Seed Harvest</option><option value="germination_test"${ee(Array.isArray(d(we).eventType)?ae(d(we).eventType,"germination_test"):se(d(we).eventType,"germination_test"))?" selected":""}>Germination Test</option><option value="selection"${ee(Array.isArray(d(we).eventType)?ae(d(we).eventType,"selection"):se(d(we).eventType,"selection"))?" selected":""}>Pheno Selection</option><option value="note"${ee(Array.isArray(d(we).eventType)?ae(d(we).eventType,"note"):se(d(we).eventType,"note"))?" selected":""}>General Note</option></select></div><div><label class="block text-sm text-gray-400 mb-2">Date</label><input${Y("value",d(we).date)} type="date" class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white focus:border-pink-500/50 focus:outline-none"></div>`),"seed_harvest"===d(we).eventType||"germination_test"===d(we).eventType?e(`<div><label class="block text-sm text-gray-400 mb-2">Seed Count</label><input${Y("value",d(we).seedCount)} type="number" min="0" placeholder="Number of seeds" class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none"></div>`):e("\x3c!----\x3e"),"germination_test"===d(we).eventType?e(`<div><label class="block text-sm text-gray-400 mb-2">Germination Rate (%)</label><input${Y("value",d(we).germinationRate)} type="number" min="0" max="100" placeholder="e.g., 85" class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none"></div>`):e("\x3c!----\x3e"),e(`<div><label class="block text-sm text-gray-400 mb-2">Notes</label><textarea rows="3" placeholder="Details about this event..." class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none resize-none">${B(d(we).notes)}</textarea></div><div class="flex gap-3 pt-2"><button type="button" class="flex-1 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium transition-colors"> Cancel </button><button type="submit" class="flex-1 px-4 py-3 rounded-xl bg-pink-500 hover:bg-pink-400 text-white font-medium transition-colors"> Save Event </button></div></form></div></div>`)):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{d(ce)&&d(ue)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80"><div class="bg-gray-900 rounded-2xl border border-gray-700 w-full max-w-md max-h-[85vh] flex flex-col overflow-hidden"><div class="px-6 py-4 border-b border-gray-700 flex items-center justify-between"><h3 class="text-lg font-bold text-white">Add Project Photo</h3><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">'),e(N(d(me),{class:"w-5 h-5"},null,a)),e(`</button></div><form class="p-6 space-y-4 overflow-y-auto flex-1"><div><label class="flex flex-col items-center justify-center gap-3 p-8 border-2 border-dashed border-gray-700 rounded-xl cursor-pointer hover:border-pink-500/50 hover:bg-pink-500/5 transition-all"><input type="file" accept="image/*" class="hidden"${ee(d(Se))?" disabled":""}><div class="w-16 h-16 rounded-2xl bg-pink-500/20 flex items-center justify-center">`),d(Se)?e(N(d(Ae),{class:"w-8 h-8 text-pink-400 animate-spin"},null,a)):e(N(d(Ye),{class:"w-8 h-8 text-pink-400"},null,a)),e(`</div><div class="text-center"><p class="text-sm font-medium text-white">${B(d(Se)?"Uploading...":d($e)?"Photo uploaded":"Click to add photo")}</p><p class="text-xs text-gray-500 mt-1">JPG, PNG, WEBP up to 10MB</p></div></label>`),d($e)?e(`<div class="mt-3"><img${Y("src",d($e))} class="w-full h-48 object-cover rounded-xl"></div>`):e("\x3c!----\x3e"),e(`</div><div><label class="block text-sm text-gray-400 mb-2">Caption (optional)</label><input${Y("value",d(ke))} type="text" placeholder="Describe this photo..." class="w-full px-4 py-3 rounded-xl bg-gray-800/50 border border-gray-700/50 text-white placeholder-gray-500 focus:border-pink-500/50 focus:outline-none"></div><div class="flex gap-3 pt-2"><button type="button" class="flex-1 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium transition-colors"> Cancel </button><button type="submit"${ee(!d($e))?" disabled":""} class="${K(["flex-1 px-4 py-3 rounded-xl font-medium transition-colors",d($e)?"bg-pink-500 hover:bg-pink-400 text-white":"bg-gray-700 text-gray-500 cursor-not-allowed"])}"> Save Photo </button></div></form></div></div>`)):e("\x3c!----\x3e")},"body",!1,a),t("</div>")}}}),Cl=Sl.setup;Sl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabBreeding.vue"),Cl?Cl(e,t):void 0};const jl=Object.assign(Sl,{__name:"LabBreeding"}),Pl=e({__name:"LabPhenoRadarChart",__ssrInlineRender:!0,props:{plants:{default:()=>[]},scores:{default:()=>new Map}},setup(e){Nt.register(Ht,Wt,Ut,Jt,Vt,Kt);const t=e,s=["rgba(74, 222, 128, 1)","rgba(168, 85, 247, 1)","rgba(251, 191, 36, 1)","rgba(96, 165, 250, 1)"],u=["rgba(74, 222, 128, 0.2)","rgba(168, 85, 247, 0.2)","rgba(251, 191, 36, 0.2)","rgba(96, 165, 250, 0.2)"],h=["Vigor","Structure","Resistance","Production","Aroma","Clonability"],y=["vigor","structure","resistance","production","aroma","clonability"];const _=a(()=>({labels:h,datasets:t.plants.slice(0,4).map((e,a)=>({label:e.plant_code,data:y.map(a=>function(e,a){const s=t.scores.get(e.id);if(s&&void 0!==s[a])return s[a];const n=e.final_score||50,d=(e.id.charCodeAt(0)+a.charCodeAt(0))%20-10;return Math.max(1,Math.min(10,n/10+d/5))}(e,a)),fill:!0,backgroundColor:u[a],borderColor:s[a],borderWidth:2,pointBackgroundColor:s[a],pointBorderColor:"#fff",pointRadius:4,pointHoverRadius:6}))})),L={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1f2937",borderColor:"#374151",borderWidth:1,titleColor:"#fff",bodyColor:"#9ca3af",callbacks:{label:e=>`${e.dataset.label}: ${e.parsed.r.toFixed(1)}/10`}}},scales:{r:{min:0,max:10,ticks:{stepSize:2,display:!1},pointLabels:{color:"#9ca3af",font:{size:11}},grid:{color:"rgba(75, 85, 99, 0.4)"},angleLines:{color:"rgba(75, 85, 99, 0.4)"}}}};return(t,a,u,h)=>{a(`<div${z(n({class:"space-y-4"},h))}><div class="h-64">`),a(N(d(Ft),{data:d(_),options:L},null,u)),a('</div><div class="flex flex-wrap justify-center gap-4">\x3c!--[--\x3e'),G(e.plants.slice(0,4),(e,t)=>{a(`<div class="flex items-center gap-2 px-3 py-1.5 rounded-lg bg-gray-800/50"><div class="w-3 h-3 rounded-full" style="${te({backgroundColor:s[t]})}"></div><span class="text-sm text-gray-300">${B(e.plant_code)}</span><span class="text-xs text-gray-500">(${B((e.final_score||0).toFixed(1))})</span>`),e.is_keeper?a('<span class="text-amber-400">â­</span>'):a("\x3c!----\x3e"),a("</div>")}),a("\x3c!--]--\x3e</div></div>")}}}),Dl=Pl.setup;Pl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/pheno/LabPhenoRadarChart.vue"),Dl?Dl(e,t):void 0};const Al=Object.assign(Pl,{__name:"LabPhenoRadarChart"}),Ll=e({__name:"LabPhenoPhotoCompare",__ssrInlineRender:!0,props:{plants:{default:()=>[]}},setup(e){const s=e,u=[{id:"grid",label:"Grid"},{id:"slider",label:"Slider"},{id:"timeline",label:"Timeline"}],h=t("grid"),y=t(50),_=a(()=>(Math.min(4,s.plants.length),"grid-cols-2"));function c(e){return e?e>=85?"text-spider-green-400":e>=70?"text-yellow-400":e>=55?"text-orange-400":"text-red-400":"text-gray-500"}function o(e){return 0===e?"bg-yellow-500/80":1===e?"bg-gray-400/80":2===e?"bg-amber-600/80":"bg-gray-700/80"}function f(e){return 0===e?"ðŸ¥‡":1===e?"ðŸ¥ˆ":2===e?"ðŸ¥‰":"ðŸŒ¿"}return(t,a,s,L)=>{a(`<div${z(n({class:"space-y-4"},L))} data-v-ea3dda99><div class="flex items-center justify-between" data-v-ea3dda99><h4 class="text-sm font-semibold text-white flex items-center gap-2" data-v-ea3dda99>`),a(N(d(Ye),{class:"w-4 h-4 text-amber-400"},null,s)),a(' Photo Comparison </h4><div class="flex items-center gap-1 p-0.5 rounded-lg bg-gray-800/60" data-v-ea3dda99>\x3c!--[--\x3e'),G(u,e=>{a(`<button class="${K(["px-2 py-1 rounded-md text-[10px] font-medium transition-all",d(h)===e.id?"bg-amber-500/30 text-amber-300":"text-gray-500 hover:text-gray-300"])}" data-v-ea3dda99>${B(e.label)}</button>`)}),a("\x3c!--]--\x3e</div></div>"),"grid"===d(h)?(a(`<div class="${K([d(_),"grid gap-3"])}" data-v-ea3dda99>\x3c!--[--\x3e`),G(e.plants.slice(0,4),t=>{a('<div class="relative rounded-xl overflow-hidden bg-gray-800/40 border border-gray-700/50 group" data-v-ea3dda99><div class="aspect-square relative" data-v-ea3dda99>'),a('<div class="w-full h-full flex flex-col items-center justify-center bg-gray-800/60" data-v-ea3dda99>'),a(N(d(ut),{class:"w-12 h-12 text-gray-600 mb-2"},null,s)),a('<p class="text-xs text-gray-500" data-v-ea3dda99>No photo</p></div>'),a(`<div class="absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 to-transparent p-3" data-v-ea3dda99><div class="flex items-center justify-between" data-v-ea3dda99><div data-v-ea3dda99><p class="text-sm font-semibold text-white" data-v-ea3dda99>${B(t.plant_code)}</p><p class="text-[10px] text-gray-400" data-v-ea3dda99>${B(t.strain_name||"Unknown")}</p></div><div class="text-right" data-v-ea3dda99><p class="${K(["text-lg font-bold",c(t.final_score)])}" data-v-ea3dda99>${B((t.final_score||0).toFixed(1))}</p>`),t.is_keeper?a('<span class="px-1.5 py-0.5 rounded bg-amber-500/30 text-amber-300 text-[9px] font-medium" data-v-ea3dda99> KEEPER </span>'):a("\x3c!----\x3e"),a("</div></div></div>"),e.plants.indexOf(t)<3?a(`<div class="${K([o(e.plants.indexOf(t)),"absolute top-2 left-2 w-8 h-8 rounded-full flex items-center justify-center"])}" data-v-ea3dda99><span class="text-lg" data-v-ea3dda99>${B(f(e.plants.indexOf(t)))}</span></div>`):a("\x3c!----\x3e"),a("</div></div>")}),a("\x3c!--]--\x3e</div>")):"slider"===d(h)&&e.plants.length>=2?(a(`<div class="relative aspect-video rounded-xl overflow-hidden bg-gray-800/40" data-v-ea3dda99><div class="absolute inset-0 flex" data-v-ea3dda99><div class="h-full overflow-hidden" style="${te({width:`${d(y)}%`})}" data-v-ea3dda99>`),void e.plants[0]||(a('<div class="w-full h-full flex items-center justify-center bg-gray-800" data-v-ea3dda99>'),a(N(d(ut),{class:"w-16 h-16 text-gray-600"},null,s)),a("</div>")),a(`<div class="absolute top-3 left-3 px-2 py-1 rounded-lg bg-black/60 backdrop-blur-sm" data-v-ea3dda99><p class="text-sm font-semibold text-white" data-v-ea3dda99>${B(e.plants[0].plant_code)}</p><p class="${K(["text-xs",c(e.plants[0].final_score)])}" data-v-ea3dda99>${B((e.plants[0].final_score||0).toFixed(1))}</p></div></div><div class="absolute inset-0 overflow-hidden" style="${te({clipPath:`inset(0 0 0 ${d(y)}%)`})}" data-v-ea3dda99>`),void e.plants[1]||(a('<div class="w-full h-full flex items-center justify-center bg-gray-800" data-v-ea3dda99>'),a(N(d(ut),{class:"w-16 h-16 text-gray-600"},null,s)),a("</div>")),a(`<div class="absolute top-3 right-3 px-2 py-1 rounded-lg bg-black/60 backdrop-blur-sm text-right" data-v-ea3dda99><p class="text-sm font-semibold text-white" data-v-ea3dda99>${B(e.plants[1].plant_code)}</p><p class="${K(["text-xs",c(e.plants[1].final_score)])}" data-v-ea3dda99>${B((e.plants[1].final_score||0).toFixed(1))}</p></div></div><div class="absolute top-0 bottom-0 w-1 bg-white cursor-ew-resize z-10" style="${te({left:`${d(y)}%`})}" data-v-ea3dda99><div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-white shadow-lg flex items-center justify-center" data-v-ea3dda99>`),a(N(d(xt),{class:"w-4 h-4 text-gray-800"},null,s)),a("</div></div></div></div>")):"timeline"===d(h)?(a('<div class="space-y-4" data-v-ea3dda99>\x3c!--[--\x3e'),G(e.plants.slice(0,4),t=>{a(`<div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50" data-v-ea3dda99><div class="flex items-center gap-3 mb-3" data-v-ea3dda99><div class="w-10 h-10 rounded-lg bg-gray-700/50 flex items-center justify-center" data-v-ea3dda99><span class="text-lg" data-v-ea3dda99>${B(f(e.plants.indexOf(t)))}</span></div><div class="flex-1" data-v-ea3dda99><p class="text-sm font-semibold text-white" data-v-ea3dda99>${B(t.plant_code)}</p><p class="text-[10px] text-gray-500" data-v-ea3dda99>${B(t.strain_name)}</p></div><div class="${K(["text-lg font-bold",c(t.final_score)])}" data-v-ea3dda99>${B((t.final_score||0).toFixed(1))}</div></div><div class="flex gap-2 overflow-x-auto pb-2 scrollbar-hide" data-v-ea3dda99>\x3c!--[--\x3e`),G([],(e,t)=>{a(`<div class="flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden bg-gray-700/50" data-v-ea3dda99><img${Y("src",e.url)}${Y("alt",e.label)} class="w-full h-full object-cover" data-v-ea3dda99><p class="text-[9px] text-gray-500 text-center mt-1" data-v-ea3dda99>${B(e.label)}</p></div>`)}),a("\x3c!--]--\x3e"),a('<div class="flex-shrink-0 w-20 h-20 rounded-lg bg-gray-700/50 flex items-center justify-center" data-v-ea3dda99>'),a(N(d(ut),{class:"w-8 h-8 text-gray-600"},null,s)),a("</div>"),a("</div></div>")}),a("\x3c!--]--\x3e</div>")):(a('<div class="p-6 rounded-xl bg-gray-800/40 border border-gray-700/50 text-center" data-v-ea3dda99>'),a(N(d(ut),{class:"w-12 h-12 text-gray-600 mx-auto mb-3"},null,s)),a('<p class="text-sm text-gray-400" data-v-ea3dda99>Select at least 2 plants to compare photos</p></div>')),a("</div>")}}}),Tl=Ll.setup;Ll.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/pheno/LabPhenoPhotoCompare.vue"),Tl?Tl(e,t):void 0};const Ol=Object.assign(Ct(Ll,[["__scopeId","data-v-ea3dda99"]]),{__name:"LabPhenoPhotoCompare"}),Ml=e({__name:"LabPhenoKeeperEngine",__ssrInlineRender:!0,props:{plants:{default:()=>[]},scores:{default:()=>new Map}},emits:["mark-keeper","continue-observation","view-details"],setup(e,{emit:s}){const y=e,_=t(!1),L=t([{key:"minScore",label:"Minimum Score",value:80,min:50,max:95,step:5},{key:"minTraits",label:"Min Traits Above 7",value:4,min:1,max:6,step:1},{key:"noWeakTraits",label:"Max Weak Traits (<5)",value:1,min:0,max:3,step:1}]),O=a(()=>0===y.plants.length?null:[...y.plants].sort((e,t)=>(t.final_score||0)-(e.final_score||0))[0]),F=a(()=>{var e;if(!O.value)return null;const t=O.value.final_score||0,a=(null==(e=L.value.find(e=>"minScore"===e.key))?void 0:e.value)||80;return t>=a&&!O.value.is_keeper?{type:"keeper",plantId:O.value.id,emoji:"ðŸŒŸ",title:O.value.plant_code,badge:"Keeper Candidate",message:`Exceptional overall score of ${t.toFixed(1)}. Strong performance across all traits makes this an excellent keeper candidate.`}:t>=a-10?{type:"strong",plantId:O.value.id,emoji:"ðŸ’ª",title:O.value.plant_code,badge:"Strong Performer",message:`Solid score of ${t.toFixed(1)}. Consider this plant for breeding projects or as a backup keeper.`}:t>=a-20?{type:"potential",plantId:O.value.id,emoji:"ðŸ‘€",title:O.value.plant_code,badge:"Has Potential",message:`Score of ${t.toFixed(1)} shows potential. Continue observation and consider environmental factors.`}:{type:"standard",plantId:O.value.id,emoji:"ðŸŒ¿",title:O.value.plant_code,badge:"Standard",message:`Score of ${t.toFixed(1)} is below keeper threshold. May have specific traits worth preserving.`}}),X=a(()=>O.value?[{key:"vigor",label:"Vigor & Health",icon:"ðŸ’ª"},{key:"structure",label:"Structure",icon:"ðŸŒ¿"},{key:"resistance",label:"Resistance",icon:"ðŸ›¡ï¸"},{key:"production",label:"Production",icon:"ðŸŒ¸"},{key:"aroma",label:"Aroma",icon:"ðŸ‘ƒ"},{key:"clonability",label:"Clonability",icon:"ðŸ§¬"}].map(e=>{const t=y.scores.get(O.value.id);let a=7;if(t&&void 0!==t[e.key])a=t[e.key];else{const t=O.value.id.charCodeAt(0)+e.key.charCodeAt(0),s=(O.value.final_score||50)/10;a=Math.max(3,Math.min(10,Math.round(s+t%4-2)))}return{...e,score:a,trend:0}}):[]),ee=a(()=>{const e=[];if(y.plants.length<2)return e;const t=[...y.plants].sort((e,t)=>(t.final_score||0)-(e.final_score||0)),a=t[0],s=t[1],n=(a.final_score||0)-(s.final_score||0);n>10?e.push(`${a.plant_code} leads by ${n.toFixed(1)} points - clear standout`):n<3&&e.push(`${a.plant_code} and ${s.plant_code} are very close - consider trait priorities`);const d=y.plants.filter(e=>e.is_keeper).length;d>0&&e.push(`${d} keeper(s) already marked in this selection`);const u=[...new Set(y.plants.map(e=>e.strain_name))].filter(Boolean);u.length>1?e.push(`Comparing across ${u.length} different strains`):1===u.length&&e.push(`All plants from ${u[0]} - good for pheno hunting`);const h=y.plants.reduce((e,t)=>e+(t.final_score||0),0)/y.plants.length;return e.push(`Average score: ${h.toFixed(1)} across ${y.plants.length} plants`),e.slice(0,4)});function f(e){return e>=8?"bg-gradient-to-r from-spider-green-600 to-spider-green-400":e>=6?"bg-gradient-to-r from-yellow-600 to-yellow-400":e>=4?"bg-gradient-to-r from-orange-600 to-orange-400":"bg-gradient-to-r from-red-600 to-red-400"}return(t,a,s,y)=>{a(`<div${z(n({class:"space-y-4"},y))}><div class="flex items-center justify-between"><h4 class="text-sm font-semibold text-white flex items-center gap-2">`),a(N(d(re),{class:"w-4 h-4 text-amber-400"},null,s)),a(' Keeper Analysis </h4><button class="p-1.5 rounded-lg hover:bg-gray-700/50 text-gray-400 hover:text-white transition-colors">'),a(N(d(it),{class:"w-4 h-4"},null,s)),a("</button></div>"),d(_)?(a('<div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50 space-y-3"><p class="text-xs text-gray-500 uppercase tracking-wider">Keeper Thresholds</p>\x3c!--[--\x3e'),G(d(L),e=>{a(`<div class="space-y-1"><div class="flex items-center justify-between text-xs"><span class="text-gray-400">${B(e.label)}</span><span class="text-white font-medium">${B(e.value)}</span></div><input type="range"${Y("value",e.value)}${Y("min",e.min)}${Y("max",e.max)}${Y("step",e.step)} class="w-full h-1 rounded-full bg-gray-700 appearance-none cursor-pointer accent-amber-500"></div>`)}),a('\x3c!--]--\x3e<div class="pt-2 flex gap-2"><button class="flex-1 px-3 py-2 rounded-lg bg-gray-700/50 text-gray-300 text-xs font-medium hover:bg-gray-600/50 transition-colors"> Reset </button><button class="flex-1 px-3 py-2 rounded-lg bg-amber-500/20 text-amber-300 text-xs font-medium hover:bg-amber-500/30 transition-colors"> Apply </button></div></div>')):a("\x3c!----\x3e"),d(F)?(a(`<div class="${K(["p-4 rounded-xl border transition-all","keeper"===d(F).type?"bg-gradient-to-br from-amber-500/20 to-orange-500/10 border-amber-500/30":"strong"===d(F).type?"bg-gradient-to-br from-spider-green-500/20 to-emerald-500/10 border-spider-green-500/30":"potential"===d(F).type?"bg-gradient-to-br from-blue-500/20 to-cyan-500/10 border-blue-500/30":"bg-gray-800/40 border-gray-700/50"])}"><div class="flex items-start gap-3"><div class="${K(["w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0","keeper"===d(F).type?"bg-amber-500/30":"strong"===d(F).type?"bg-spider-green-500/30":"potential"===d(F).type?"bg-blue-500/30":"bg-gray-700/50"])}"><span class="text-2xl">${B(d(F).emoji)}</span></div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><h5 class="text-sm font-bold text-white">${B(d(F).title)}</h5><span class="${K(["px-2 py-0.5 rounded-full text-[10px] font-bold uppercase","keeper"===d(F).type?"bg-amber-500/40 text-amber-200":"strong"===d(F).type?"bg-spider-green-500/40 text-spider-green-200":"potential"===d(F).type?"bg-blue-500/40 text-blue-200":"bg-gray-600 text-gray-300"])}">${B(d(F).badge)}</span></div><p class="text-sm text-gray-300 mb-3">${B(d(F).message)}</p><div class="flex flex-wrap gap-2">`),"keeper"===d(F).type?(a('<button class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-amber-500 hover:bg-amber-400 text-gray-900 text-xs font-semibold transition-colors">'),a(N(d(Ue),{class:"w-3.5 h-3.5"},null,s)),a(" Mark as Keeper </button>")):a("\x3c!----\x3e"),"potential"===d(F).type?(a('<button class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-blue-500/20 hover:bg-blue-500/30 text-blue-300 text-xs font-medium transition-colors">'),a(N(d(gt),{class:"w-3.5 h-3.5"},null,s)),a(" Continue Observation </button>")):a("\x3c!----\x3e"),a('<button class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 text-xs font-medium transition-colors">'),a(N(d(ve),{class:"w-3.5 h-3.5"},null,s)),a(" View Scores </button></div></div></div></div>")):a("\x3c!----\x3e"),d(O)?(a('<div class="space-y-3"><p class="text-xs text-gray-500 uppercase tracking-wider">Trait Analysis</p><div class="space-y-2">\x3c!--[--\x3e'),G(d(X),e=>{a(`<div class="flex items-center gap-3"><span class="text-lg w-6">${B(e.icon)}</span><div class="flex-1"><div class="flex items-center justify-between text-xs mb-1"><span class="text-gray-400">${B(e.label)}</span><span class="${K(function(e){return e>=8?"text-spider-green-400 font-semibold":e>=6?"text-yellow-400":e>=4?"text-orange-400":"text-red-400"}(e.score))}">${B(e.score)}/10</span></div><div class="h-1.5 rounded-full bg-gray-700/50 overflow-hidden"><div class="${K(["h-full rounded-full transition-all",f(e.score)])}" style="${te({width:10*e.score+"%"})}"></div></div></div>`),e.trend?(a(`<div class="${K(["flex items-center gap-0.5 text-[10px]",e.trend>0?"text-spider-green-400":e.trend<0?"text-red-400":"text-gray-500"])}">`),Z(a,u(h(e.trend>0?d(tt):e.trend<0?d(at):d(je)),{class:"w-3 h-3"},null),s),0!==e.trend?a(`<span>${B(Math.abs(e.trend))}</span>`):a("\x3c!----\x3e"),a("</div>")):a("\x3c!----\x3e"),a("</div>")}),a("\x3c!--]--\x3e</div></div>")):a("\x3c!----\x3e"),e.plants.length>=2?(a('<div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"><div class="flex items-start gap-2">'),a(N(d(we),{class:"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5"},null,s)),a('<div><p class="text-xs font-medium text-white mb-1">Quick Insights</p><ul class="text-xs text-gray-400 space-y-1">\x3c!--[--\x3e'),G(d(ee),(e,t)=>{a(`<li class="flex items-start gap-1.5"><span class="text-gray-500">â€¢</span><span>${B(e)}</span></li>`)}),a("\x3c!--]--\x3e</ul></div></div></div>")):a("\x3c!----\x3e"),a("</div>")}}}),Rl=Ml.setup;Ml.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/pheno/LabPhenoKeeperEngine.vue"),Rl?Rl(e,t):void 0};const Fl=Object.assign(Ml,{__name:"LabPhenoKeeperEngine"}),zl=e({__name:"LabPheno",__ssrInlineRender:!0,emits:["openPlant","addObservation"],setup(e,{emit:s}){const u=ra(),h=s,y=t([]),_=t(null),L=t(!1),O=t(!1),F=t(null),Y=[{key:"vigor",label:"Vigor",icon:"ðŸ’ª",weight:15},{key:"structure",label:"Structure",icon:"ðŸŒ¿",weight:20},{key:"resistance",label:"Resist",icon:"ðŸ›¡ï¸",weight:15},{key:"production",label:"Yield",icon:"ðŸŒ¸",weight:25},{key:"aroma",label:"Aroma",icon:"ðŸ‘ƒ",weight:15},{key:"clonability",label:"Clone",icon:"ðŸ§¬",weight:10}],Z=a(()=>{const e=new Map;for(const t of u.plants)if(t.final_score&&t.final_score>0&&t.strain_id){const a=e.get(t.strain_id);a?a.plantCount++:e.set(t.strain_id,{id:t.strain_id,name:t.strain_name||"Unknown",plantCount:1})}return Array.from(e.values()).sort((e,t)=>t.plantCount-e.plantCount)}),ee=a(()=>{let e=u.plants.filter(e=>e.final_score&&e.final_score>0);return _.value&&(e=e.filter(e=>e.strain_id===_.value)),e.sort((e,t)=>(t.final_score||0)-(e.final_score||0))}),te=a(()=>{const e=["early_veg","mid_veg","late_veg","pre_flower","early_flower","mid_flower","late_flower","flush","harvest","drying","curing"];return u.activePlants.filter(t=>(!t.final_score||0===t.final_score)&&e.includes(t.status))});function i(){O.value=!1,F.value=null}async function $(){i(),ae.value.clear(),await u.fetchPlants()}const ae=t(new Map),se=a(()=>{const e=new Map;for(const[t,a]of ae.value){if(!a)continue;const s={vigor:"vigor_health_total",structure:"structure_total",resistance:"resistance_total",production:"flower_production_total",aroma:"aroma_total",clonability:"clone_stability_total"},n={};for(const[e,t]of Object.entries(s))void 0!==a[t]&&(n[e]=Math.max(1,Math.min(10,Math.round(a[t]/5))));e.set(t,n)}return e});function k(e){return 0===e?"bg-yellow-500/20":1===e?"bg-gray-400/20":2===e?"bg-amber-600/20":"bg-gray-700/50"}function E(e){return e?e>=85?"text-spider-green-400":e>=70?"text-yellow-400":e>=55?"text-orange-400":"text-red-400":"text-gray-500"}function x(e,t){if(!e.final_score||0===e.final_score)return 0;const a=ae.value.get(e.id);if(a){const e={vigor:"vigor_health_total",structure:"structure_total",resistance:"resistance_total",production:"flower_production_total",aroma:"aroma_total",clonability:"clone_stability_total"}[t];if(e&&void 0!==a[e])return Math.round(a[e]/50*100)}return 0}async function H(e){try{await u.updatePlant(e,{is_keeper:!0})}catch{}}function M(e){h("addObservation",e)}function q(e){const t=u.plants.find(t=>t.id===e);t&&h("openPlant",t)}return(e,t,a,s)=>{t(`<div${z(n({class:"h-full flex overflow-hidden"},s))} data-v-b3f2c2c8><div class="${K(["flex flex-col transition-all duration-300 overflow-hidden",d(y).length>0?"w-full lg:w-1/2 border-r border-gray-800/50":"w-full"])}" data-v-b3f2c2c8><div class="flex-shrink-0 p-4 border-b border-gray-800/50" data-v-b3f2c2c8><div class="flex items-center justify-between gap-4" data-v-b3f2c2c8><div data-v-b3f2c2c8><h2 class="text-xl font-bold text-white flex items-center gap-2" data-v-b3f2c2c8>`),t(N(d(Te),{class:"w-5 h-5 text-amber-400"},null,a)),t(' Pheno Hunt </h2><p class="text-sm text-gray-400" data-v-b3f2c2c8>Compare phenotypes, find keepers</p></div><div class="flex items-center gap-2" data-v-b3f2c2c8>'),d(te).length>0&&d(ee).length>0?(t('<button class="flex items-center gap-2 px-3 py-2 rounded-xl bg-amber-500/20 hover:bg-amber-500/30 text-amber-300 text-sm font-medium transition-colors" data-v-b3f2c2c8>'),t(N(d(Ue),{class:"w-4 h-4"},null,a)),t(" Score Plant </button>")):t("\x3c!----\x3e"),d(y).length>=2?(t('<button class="flex items-center gap-2 px-4 py-2 rounded-xl bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 text-white text-sm font-medium shadow-lg shadow-amber-500/20 transition-all" data-v-b3f2c2c8>'),t(N(d(ve),{class:"w-4 h-4"},null,a)),t(` Compare (${B(d(y).length)}) </button>`)):t("\x3c!----\x3e"),t("</div></div>"),d(ee).length>0?(t(`<div class="flex gap-2 overflow-x-auto pb-1 scrollbar-hide mt-4" data-v-b3f2c2c8><button class="${K(["px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all",d(_)?"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50":"bg-amber-500 text-white"])}" data-v-b3f2c2c8> All Strains </button>\x3c!--[--\x3e`),G(d(Z),e=>{t(`<button class="${K(["flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all",d(_)===e.id?"bg-amber-500 text-white":"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50"])}" data-v-b3f2c2c8>${B(e.name)} <span class="px-1.5 py-0.5 rounded bg-black/20 text-[10px]" data-v-b3f2c2c8>${B(e.plantCount)}</span></button>`)}),t("\x3c!--]--\x3e</div>")):t("\x3c!----\x3e"),t('</div><div class="flex-1 overflow-y-auto p-4" data-v-b3f2c2c8>'),0===d(ee).length?(t('<div class="h-full" data-v-b3f2c2c8><div class="grid grid-cols-1 lg:grid-cols-2 gap-4 h-full" data-v-b3f2c2c8><div class="space-y-4" data-v-b3f2c2c8><div class="bg-gradient-to-br from-amber-500/10 to-orange-500/10 rounded-xl border border-amber-500/20 p-4" data-v-b3f2c2c8><div class="flex items-center gap-3 mb-3" data-v-b3f2c2c8><div class="w-10 h-10 rounded-lg bg-amber-500/20 flex items-center justify-center flex-shrink-0" data-v-b3f2c2c8>'),t(N(d(Te),{class:"w-5 h-5 text-amber-400"},null,a)),t('</div><div data-v-b3f2c2c8><h3 class="text-sm font-semibold text-white" data-v-b3f2c2c8>What is Pheno Hunt?</h3><p class="text-xs text-gray-400" data-v-b3f2c2c8>Find your best phenotypes</p></div></div><p class="text-xs text-gray-300 leading-relaxed" data-v-b3f2c2c8> Score plants across <span class="text-amber-400" data-v-b3f2c2c8>6 categories</span> to compare and rank them. Find your <span class="text-purple-400" data-v-b3f2c2c8>keepers</span> - the best phenotypes worth keeping as mothers. </p></div><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 p-4" data-v-b3f2c2c8><h4 class="text-xs font-medium text-gray-400 mb-3" data-v-b3f2c2c8>Scoring Categories</h4><div class="grid grid-cols-3 gap-2" data-v-b3f2c2c8>\x3c!--[--\x3e'),G(Y,e=>{t(`<div class="flex items-center gap-2 p-2 rounded-lg bg-gray-700/30" data-v-b3f2c2c8><span class="text-base" data-v-b3f2c2c8>${B(e.icon)}</span><div class="min-w-0" data-v-b3f2c2c8><p class="text-[10px] font-medium text-white truncate" data-v-b3f2c2c8>${B(e.label)}</p><p class="text-[9px] text-gray-500" data-v-b3f2c2c8>${B(e.weight)}%</p></div></div>`)}),t('\x3c!--]--\x3e</div></div><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 p-4" data-v-b3f2c2c8><h4 class="text-xs font-medium text-gray-400 mb-3 flex items-center gap-2" data-v-b3f2c2c8>'),t(N(d(qe),{class:"w-3.5 h-3.5"},null,a)),t(` Getting Started </h4><div class="space-y-2" data-v-b3f2c2c8><div class="flex items-center gap-2" data-v-b3f2c2c8><div class="${K(["w-5 h-5 rounded-full flex items-center justify-center text-[10px]",d(u).activePlants.length>0?"bg-spider-green-500/20 text-spider-green-400":"bg-gray-700 text-gray-500"])}" data-v-b3f2c2c8>`),d(u).activePlants.length>0?t(N(d(fe),{class:"w-3 h-3"},null,a)):t("<span data-v-b3f2c2c8>1</span>"),t(`</div><span class="${K(["text-xs",d(u).activePlants.length>0?"text-spider-green-400":"text-gray-400"])}" data-v-b3f2c2c8> Have active plants (${B(d(u).activePlants.length)}) </span></div><div class="flex items-center gap-2" data-v-b3f2c2c8><div class="${K(["w-5 h-5 rounded-full flex items-center justify-center text-[10px]",d(te).length>0?"bg-spider-green-500/20 text-spider-green-400":"bg-gray-700 text-gray-500"])}" data-v-b3f2c2c8>`),d(te).length>0?t(N(d(fe),{class:"w-3 h-3"},null,a)):t("<span data-v-b3f2c2c8>2</span>"),t(`</div><span class="${K(["text-xs",d(te).length>0?"text-spider-green-400":"text-gray-400"])}" data-v-b3f2c2c8> Plants in veg/flower stage (${B(d(te).length)}) </span></div><div class="flex items-center gap-2" data-v-b3f2c2c8><div class="w-5 h-5 rounded-full flex items-center justify-center text-[10px] bg-gray-700 text-gray-500" data-v-b3f2c2c8>3</div><span class="text-xs text-gray-400" data-v-b3f2c2c8>Score your plants</span></div></div></div></div><div class="flex flex-col min-h-0" data-v-b3f2c2c8><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 p-4 flex-1 flex flex-col min-h-0" data-v-b3f2c2c8><div class="flex items-center justify-between mb-3" data-v-b3f2c2c8><h4 class="text-xs font-medium text-white flex items-center gap-2" data-v-b3f2c2c8>`),t(N(d(re),{class:"w-3.5 h-3.5 text-amber-400"},null,a)),t(" Plants Ready to Score </h4>"),d(te).length>0?t(`<span class="px-2 py-0.5 rounded-full bg-amber-500/20 text-amber-300 text-[10px] font-medium" data-v-b3f2c2c8>${B(d(te).length)}</span>`):t("\x3c!----\x3e"),t("</div>"),d(te).length>0?(t('<div class="flex-1 overflow-y-auto space-y-2 min-h-0" data-v-b3f2c2c8>\x3c!--[--\x3e'),G(d(te),e=>{var s;t(`<div class="flex items-center justify-between p-2.5 rounded-lg bg-gray-700/30 hover:bg-gray-700/50 transition-colors group" data-v-b3f2c2c8><div class="flex items-center gap-2.5 min-w-0" data-v-b3f2c2c8><div class="w-8 h-8 rounded-lg bg-gray-600/50 flex items-center justify-center flex-shrink-0" data-v-b3f2c2c8><span class="text-sm" data-v-b3f2c2c8>${B((null==(s=function(e){return sa[e]}(e.status))?void 0:s.icon)||"ðŸŒ±")}</span></div><div class="min-w-0" data-v-b3f2c2c8><p class="text-sm font-medium text-white truncate" data-v-b3f2c2c8>${B(e.plant_code)}</p><p class="text-[10px] text-gray-500 truncate" data-v-b3f2c2c8>${B(e.strain_name||"Unknown")}</p></div></div><button class="flex items-center gap-1 px-2.5 py-1.5 rounded-lg bg-amber-500/20 hover:bg-amber-500/40 text-amber-300 text-xs font-medium transition-all opacity-80 group-hover:opacity-100" data-v-b3f2c2c8>`),t(N(d(Ue),{class:"w-3 h-3"},null,a)),t(" Score </button></div>")}),t("\x3c!--]--\x3e</div>")):(t('<div class="flex-1 flex flex-col items-center justify-center text-center py-8" data-v-b3f2c2c8>'),t(N(d(ie),{class:"w-10 h-10 text-gray-600 mb-3"},null,a)),t('<p class="text-sm text-gray-400 mb-1" data-v-b3f2c2c8>No plants ready to score</p><p class="text-xs text-gray-500 mb-4" data-v-b3f2c2c8>Plants need to be in veg or flower stage</p><button class="flex items-center gap-1.5 px-3 py-2 rounded-lg bg-spider-green-600 hover:bg-spider-green-500 text-white text-xs font-medium transition-colors" data-v-b3f2c2c8>'),t(N(d(oe),{class:"w-3.5 h-3.5"},null,a)),t(" Add Plants </button></div>")),t("</div></div></div></div>")):(t('<div class="space-y-4" data-v-b3f2c2c8><div data-v-b3f2c2c8><div class="flex items-center justify-between mb-3" data-v-b3f2c2c8><h3 class="text-sm font-medium text-gray-300 flex items-center gap-2" data-v-b3f2c2c8>'),t(N(d(Te),{class:"w-4 h-4 text-yellow-400"},null,a)),t(' Rankings </h3><span class="text-[10px] text-gray-500" data-v-b3f2c2c8>Click to compare</span></div><div class="space-y-2" data-v-b3f2c2c8>\x3c!--[--\x3e'),G(d(ee),(e,s)=>{t(`<div class="${K(["flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all",d(y).some(t=>t.id===e.id)?"bg-amber-500/20 border border-amber-500/50 ring-1 ring-amber-500/30":s<3?"bg-gradient-to-r from-gray-800/60 to-gray-800/40 hover:from-gray-700/60 border border-gray-700/50":"bg-gray-800/40 hover:bg-gray-700/40 border border-transparent"])}" data-v-b3f2c2c8><div class="${K([k(s),"flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center"])}" data-v-b3f2c2c8>`),t(0===s?'<span class="text-lg" data-v-b3f2c2c8>ðŸ¥‡</span>':1===s?'<span class="text-lg" data-v-b3f2c2c8>ðŸ¥ˆ</span>':2===s?'<span class="text-lg" data-v-b3f2c2c8>ðŸ¥‰</span>':`<span class="text-sm font-bold text-gray-400" data-v-b3f2c2c8>${B(s+1)}</span>`),t(`</div><div class="flex-1 min-w-0" data-v-b3f2c2c8><div class="flex items-center gap-2" data-v-b3f2c2c8><p class="text-sm font-medium text-white truncate" data-v-b3f2c2c8>${B(e.plant_code)}</p>`),e.is_keeper?t('<span class="px-1.5 py-0.5 rounded bg-purple-500/20 text-purple-300 text-[9px] font-medium" data-v-b3f2c2c8>KEEPER</span>'):t("\x3c!----\x3e"),t(`</div><p class="text-xs text-gray-500 truncate" data-v-b3f2c2c8>${B(e.strain_name||"Unknown")}</p></div><div class="${K(["text-lg font-bold tabular-nums",E(e.final_score)])}" data-v-b3f2c2c8>${B((e.final_score||0).toFixed(1))}</div><div class="${K(["w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all flex-shrink-0",d(y).some(t=>t.id===e.id)?"border-amber-500 bg-amber-500":"border-gray-600"])}" data-v-b3f2c2c8>`),d(y).some(t=>t.id===e.id)?t(N(d(fe),{class:"w-3 h-3 text-white"},null,a)):t("\x3c!----\x3e"),t("</div></div>")}),t('\x3c!--]--\x3e</div></div><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 p-4" data-v-b3f2c2c8><h4 class="text-xs font-medium text-gray-400 mb-3 flex items-center gap-2" data-v-b3f2c2c8>'),t(N(d(Ue),{class:"w-3.5 h-3.5 text-amber-400"},null,a)),t(' Category Leaders </h4><div class="grid grid-cols-3 lg:grid-cols-6 gap-2" data-v-b3f2c2c8>\x3c!--[--\x3e'),G(Y,e=>{var a;t(`<div class="text-center p-2 rounded-lg bg-gray-700/30" data-v-b3f2c2c8><span class="text-base" data-v-b3f2c2c8>${B(e.icon)}</span><p class="text-[10px] text-white font-medium truncate mt-1" data-v-b3f2c2c8>${B((null==(e.key,a=ee.value[0])?void 0:a.plant_code)||"-")}</p></div>`)}),t("\x3c!--]--\x3e</div></div>"),d(te).length>0?(t('<div class="flex items-center justify-between p-3 rounded-xl bg-blue-500/10 border border-blue-500/20" data-v-b3f2c2c8><div class="flex items-center gap-2" data-v-b3f2c2c8>'),t(N(d(re),{class:"w-4 h-4 text-blue-400"},null,a)),t(`<span class="text-xs text-blue-300" data-v-b3f2c2c8>${B(d(te).length)} plant(s) ready to score</span></div><button class="px-3 py-1.5 rounded-lg bg-blue-500/20 hover:bg-blue-500/30 text-blue-300 text-xs font-medium transition-colors" data-v-b3f2c2c8> Score Next </button></div>`)):t("\x3c!----\x3e"),t("</div>")),t("</div></div>"),d(y).length>0?(t(`<div class="hidden lg:flex flex-1 flex-col overflow-hidden bg-gray-900/30" data-v-b3f2c2c8><div class="flex-shrink-0 p-4 border-b border-gray-800/50" data-v-b3f2c2c8><div class="flex items-center justify-between" data-v-b3f2c2c8><div data-v-b3f2c2c8><h3 class="text-base font-bold text-white" data-v-b3f2c2c8>Comparison</h3><p class="text-xs text-gray-400" data-v-b3f2c2c8>${B(d(y).length)} selected</p></div><button class="px-3 py-1.5 rounded-lg text-xs text-gray-400 hover:text-white hover:bg-gray-800 transition-colors" data-v-b3f2c2c8> Clear </button></div></div><div class="flex-1 overflow-y-auto p-4 space-y-4" data-v-b3f2c2c8><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 p-4" data-v-b3f2c2c8>`),t(N(Fl,{plants:d(y),scores:d(se),onMarkKeeper:H,onContinueObservation:M,onViewDetails:q},null,a)),t('</div><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 p-4" data-v-b3f2c2c8>'),t(N(Ol,{plants:d(y)},null,a)),t('</div><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 p-4" data-v-b3f2c2c8><h4 class="text-xs font-medium text-gray-300 mb-3 flex items-center gap-2" data-v-b3f2c2c8>'),t(N(d(ve),{class:"w-3.5 h-3.5 text-amber-400"},null,a)),t(" Trait Comparison </h4>"),t(N(Al,{plants:d(y)},null,a)),t('</div><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 overflow-hidden" data-v-b3f2c2c8><table class="w-full text-xs" data-v-b3f2c2c8><thead data-v-b3f2c2c8><tr class="text-gray-500 text-left border-b border-gray-700/50" data-v-b3f2c2c8><th class="p-3" data-v-b3f2c2c8>Trait</th>\x3c!--[--\x3e'),G(d(y).slice(0,4),e=>{t(`<th class="p-3 text-center" data-v-b3f2c2c8>${B(e.plant_code)}</th>`)}),t('\x3c!--]--\x3e</tr></thead><tbody class="text-gray-400" data-v-b3f2c2c8>\x3c!--[--\x3e'),G(Y,e=>{t(`<tr class="border-t border-gray-700/30" data-v-b3f2c2c8><td class="p-2.5 flex items-center gap-1.5" data-v-b3f2c2c8><span data-v-b3f2c2c8>${B(e.icon)}</span><span class="text-[10px]" data-v-b3f2c2c8>${B(e.label)}</span></td>\x3c!--[--\x3e`),G(d(y).slice(0,4),a=>{t(`<td class="p-2.5 text-center" data-v-b3f2c2c8><span class="${K(E(x(a,e.key)))}" data-v-b3f2c2c8>${B(x(a,e.key))}</span></td>`)}),t("\x3c!--]--\x3e</tr>")}),t('\x3c!--]--\x3e<tr class="border-t border-gray-700/50 font-medium" data-v-b3f2c2c8><td class="p-2.5 text-white text-[10px]" data-v-b3f2c2c8>TOTAL</td>\x3c!--[--\x3e'),G(d(y).slice(0,4),e=>{t(`<td class="p-2.5 text-center" data-v-b3f2c2c8><span class="${K(["text-sm",E(e.final_score)])}" data-v-b3f2c2c8>${B((e.final_score||0).toFixed(1))}</span></td>`)}),t('\x3c!--]--\x3e</tr></tbody></table></div><div class="bg-gradient-to-br from-amber-500/10 to-orange-500/10 rounded-xl border border-amber-500/20 p-3" data-v-b3f2c2c8><div class="flex items-start gap-2" data-v-b3f2c2c8>'),t(N(d(we),{class:"w-4 h-4 text-yellow-400 flex-shrink-0 mt-0.5"},null,a)),t(`<div data-v-b3f2c2c8><h4 class="text-xs font-medium text-white mb-1" data-v-b3f2c2c8>Recommendation</h4><p class="text-[10px] text-gray-300 leading-relaxed" data-v-b3f2c2c8>${B(function(){if(y.value.length<2)return"Select at least 2 plants to compare.";const e=[...y.value].sort((e,t)=>(t.final_score||0)-(e.final_score||0)),t=e[0],a=e[1],s=t.final_score||0,n=a.final_score||0;return s>=85?s-n>10?`${t.plant_code} is a clear winner (${s.toFixed(1)}). Strong keeper candidate.`:`Both ${t.plant_code} and ${a.plant_code} are excellent. Consider keeping both.`:s>=70?`${t.plant_code} leads with ${s.toFixed(1)}. Good but room for improvement.`:"Scores below keeper threshold. Continue observation or seek better phenos."}())}</p></div></div></div></div></div>`)):t("\x3c!----\x3e"),t(N(xs,{show:d(O),plant:d(F),onClose:i,onSaved:$},null,a)),X(t,e=>{d(L)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80" data-v-b3f2c2c8><div class="bg-gray-900 rounded-2xl border border-gray-700 w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col" data-v-b3f2c2c8><div class="flex items-center justify-between p-4 border-b border-gray-800" data-v-b3f2c2c8><h3 class="text-lg font-bold text-white" data-v-b3f2c2c8>Phenotype Comparison</h3><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white" data-v-b3f2c2c8>'),e(N(d(me),{class:"w-5 h-5"},null,a)),e('</button></div><div class="flex-1 overflow-y-auto p-4 space-y-4" data-v-b3f2c2c8><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 p-4" data-v-b3f2c2c8>'),e(N(Al,{plants:d(y)},null,a)),e('</div><div class="bg-gray-800/40 rounded-xl border border-gray-700/50 overflow-hidden" data-v-b3f2c2c8><table class="w-full text-sm" data-v-b3f2c2c8><thead data-v-b3f2c2c8><tr class="text-gray-400 bg-gray-800/50" data-v-b3f2c2c8><th class="p-3 text-left" data-v-b3f2c2c8>Category</th>\x3c!--[--\x3e'),G(d(y).slice(0,4),t=>{e(`<th class="p-3 text-center" data-v-b3f2c2c8><div class="font-medium text-white" data-v-b3f2c2c8>${B(t.plant_code)}</div><div class="text-xs text-gray-500" data-v-b3f2c2c8>${B(t.strain_name)}</div></th>`)}),e("\x3c!--]--\x3e</tr></thead><tbody data-v-b3f2c2c8>\x3c!--[--\x3e"),G(Y,t=>{e(`<tr class="border-t border-gray-700/30" data-v-b3f2c2c8><td class="p-3" data-v-b3f2c2c8><div class="flex items-center gap-2" data-v-b3f2c2c8><span data-v-b3f2c2c8>${B(t.icon)}</span><span class="text-white" data-v-b3f2c2c8>${B(t.label)}</span><span class="text-xs text-gray-500" data-v-b3f2c2c8>${B(t.weight)}%</span></div></td>\x3c!--[--\x3e`),G(d(y).slice(0,4),a=>{e(`<td class="p-3 text-center" data-v-b3f2c2c8><span class="${K(["text-lg font-bold",E(x(a,t.key))])}" data-v-b3f2c2c8>${B(x(a,t.key))}</span></td>`)}),e("\x3c!--]--\x3e</tr>")}),e('\x3c!--]--\x3e<tr class="border-t-2 border-gray-700 bg-gray-800/30" data-v-b3f2c2c8><td class="p-3 font-bold text-white" data-v-b3f2c2c8>FINAL SCORE</td>\x3c!--[--\x3e'),G(d(y).slice(0,4),t=>{e(`<td class="p-3 text-center" data-v-b3f2c2c8><span class="${K(["text-2xl font-bold",E(t.final_score)])}" data-v-b3f2c2c8>${B((t.final_score||0).toFixed(1))}</span></td>`)}),e("\x3c!--]--\x3e</tr></tbody></table></div></div></div></div>")):e("\x3c!----\x3e")},"body",!1,a),t("</div>")}}}),Il=zl.setup;zl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabPheno.vue"),Il?Il(e,t):void 0};const El=Object.assign(Ct(zl,[["__scopeId","data-v-b3f2c2c8"]]),{__name:"LabPheno"}),Nl=e({__name:"LabReportsTrendChart",__ssrInlineRender:!0,props:{title:{default:"Trend Chart"},data:{default:()=>[]},type:{default:"line"}},setup(e){Nt.register(Bt,Gt,Wt,Ut,Yt,Qt,qt,Vt,Kt,Jt);const s=e,u=[{id:"line",label:"Line"},{id:"bar",label:"Bar"},{id:"doughnut",label:"Donut"}],h=t(s.type),y=["rgba(74, 222, 128, 0.8)","rgba(168, 85, 247, 0.8)","rgba(251, 191, 36, 0.8)","rgba(96, 165, 250, 0.8)","rgba(244, 114, 182, 0.8)","rgba(251, 146, 60, 0.8)"],_=a(()=>({labels:s.data.map(e=>e.label),datasets:[{label:s.title,data:s.data.map(e=>e.value),fill:!0,backgroundColor:"rgba(74, 222, 128, 0.1)",borderColor:"rgba(74, 222, 128, 0.8)",borderWidth:2,tension:.4,pointRadius:4,pointBackgroundColor:"rgba(74, 222, 128, 1)"}]})),L={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1f2937",borderColor:"#374151",borderWidth:1}},scales:{x:{grid:{display:!1},ticks:{color:"#9ca3af",font:{size:10}}},y:{grid:{color:"rgba(55, 65, 81, 0.3)"},ticks:{color:"#9ca3af",font:{size:10}},beginAtZero:!0}}},O=a(()=>({labels:s.data.map(e=>e.label),datasets:[{label:s.title,data:s.data.map(e=>e.value),backgroundColor:s.data.map((e,t)=>e.color||y[t%y.length]),borderRadius:4}]})),F={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1f2937",borderColor:"#374151",borderWidth:1}},scales:{x:{grid:{display:!1},ticks:{color:"#9ca3af",font:{size:10}}},y:{grid:{color:"rgba(55, 65, 81, 0.3)"},ticks:{color:"#9ca3af",font:{size:10}},beginAtZero:!0}}},Y=a(()=>({labels:s.data.map(e=>e.label),datasets:[{data:s.data.map(e=>e.value),backgroundColor:s.data.map((e,t)=>e.color||y[t%y.length]),borderWidth:0,hoverOffset:4}]})),Z={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right",labels:{color:"#9ca3af",font:{size:10},boxWidth:12,padding:8}},tooltip:{backgroundColor:"#1f2937",borderColor:"#374151",borderWidth:1}}},X=a(()=>{const e=s.data.map(e=>e.value),t=e.reduce((e,t)=>e+t,0),a=t/e.length||0,n=Math.max(...e,0),d=Math.min(...e,0);return[{label:"Total",value:t.toFixed(0),colorClass:"text-white"},{label:"Average",value:a.toFixed(1),colorClass:"text-blue-400"},{label:"Peak",value:n.toFixed(0),colorClass:"text-spider-green-400"},{label:"Low",value:d.toFixed(0),colorClass:"text-orange-400"}]});return(t,a,s,y)=>{a(`<div${z(n({class:"space-y-4"},y))}><div class="flex items-center justify-between"><h4 class="text-sm font-semibold text-white flex items-center gap-2">`),a(N(d(ve),{class:"w-4 h-4 text-blue-400"},null,s)),a(` ${B(e.title)}</h4><div class="flex items-center gap-1 p-0.5 rounded-lg bg-gray-800/60">\x3c!--[--\x3e`),G(u,e=>{a(`<button class="${K(["px-2 py-1 rounded-md text-[10px] font-medium transition-all",d(h)===e.id?"bg-blue-500/30 text-blue-300":"text-gray-500 hover:text-gray-300"])}">${B(e.label)}</button>`)}),a('\x3c!--]--\x3e</div></div><div class="h-48 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50">'),"line"===d(h)?a(N(d(It),{data:d(_),options:L},null,s)):"bar"===d(h)?a(N(d(zt),{data:d(O),options:F},null,s)):"doughnut"===d(h)?a(N(d(Et),{data:d(Y),options:Z},null,s)):a("\x3c!----\x3e"),a('</div><div class="grid grid-cols-4 gap-2">\x3c!--[--\x3e'),G(d(X),e=>{a(`<div class="p-2 rounded-lg bg-gray-800/40 text-center"><p class="${K(["text-lg font-bold",e.colorClass])}">${B(e.value)}</p><p class="text-[9px] text-gray-500 uppercase">${B(e.label)}</p></div>`)}),a("\x3c!--]--\x3e</div></div>")}}}),Hl=Nl.setup;Nl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/reports/LabReportsTrendChart.vue"),Hl?Hl(e,t):void 0};const Bl=Object.assign(Nl,{__name:"LabReportsTrendChart"}),Gl=e({__name:"LabReportsInsights",__ssrInlineRender:!0,props:{plants:{default:()=>[]},strains:{default:()=>[]}},emits:["action"],setup(e,{emit:a}){const y=e,_=t(!1),L=t(null),O=t([]);function S(e){return e>=4?"bg-spider-green-400":e>=3?"bg-yellow-400":"bg-orange-400"}return s(()=>[y.plants,y.strains],()=>{!function(){const e=[],t=y.plants.filter(e=>e.final_score&&e.final_score>0),a=y.plants.filter(e=>e.is_keeper),s=y.plants.filter(e=>!["harvested","disposed","curing"].includes(e.status));if(a.length>0&&t.length>0){const s=a.length/t.length*100;s>=20&&e.push({title:"Strong Keeper Rate",summary:`${s.toFixed(0)}% of your scored plants are keepers - excellent selection!`,details:`You've identified ${a.length} keeper(s) out of ${t.length} scored plants. This indicates strong genetics in your collection or excellent phenotype selection skills.`,type:"success",icon:Ce,confidence:5,timestamp:"Just now",data:{Keepers:a.length,Scored:t.length,Rate:`${s.toFixed(0)}%`}})}if(t.length>0){const a=[...t].sort((e,t)=>(t.final_score||0)-(e.final_score||0))[0];a.final_score&&a.final_score>=85&&e.push({title:"Exceptional Phenotype Found",summary:`${a.plant_code} scored ${a.final_score.toFixed(1)} - consider this for breeding!`,details:"This plant shows exceptional traits that could be valuable for your breeding program. Consider taking clones and documenting its characteristics thoroughly.",type:"discovery",icon:Ue,confidence:4,timestamp:"Based on scores",data:{Plant:a.plant_code,Score:a.final_score.toFixed(1),Strain:a.strain_name||"Unknown"},action:{type:"view_plant",label:"View Plant Details",target:a.id}})}const n=new Set(s.map(e=>e.strain_id).filter(Boolean));s.length>5&&n.size<=2&&e.push({title:"Low Genetic Diversity",summary:"Consider adding more strain variety to your garden",details:`You have ${s.length} active plants but only ${n.size} different strain(s). Diversifying your genetics can help you discover new favorites and reduce risk from strain-specific issues.`,type:"warning",icon:Le,confidence:3,timestamp:"Based on active plants",data:{"Active Plants":s.length,Strains:n.size},action:{type:"add_strain",label:"Add New Strain"}});const d=y.plants.filter(e=>["harvested","curing"].includes(e.status)&&(!e.final_score||0===e.final_score));if(d.length>0&&e.push({title:"Unscored Harvests",summary:`${d.length} plant(s) completed without scores`,details:"Scoring your plants helps track performance over time and identify keepers. Consider scoring these plants while the memory is fresh.",type:"tip",icon:Se,confidence:4,timestamp:"Based on harvest data",data:{Unscored:d.length},action:{type:"score_plants",label:"Score Plants"}}),s.filter(e=>!0),s.length>3&&e.push({title:"Regular Observations Help",summary:"Daily check-ins improve your grow outcomes",details:`With ${s.length} active plants, regular observations can help you catch issues early and optimize your environment. Consider logging observations at least weekly.`,type:"tip",icon:ve,confidence:3,timestamp:"Pro tip",action:{type:"add_observation",label:"Add Observation"}}),y.strains.length>0){const a=new Map;for(const e of t)if(e.strain_id&&e.final_score){const t=a.get(e.strain_id)||[];t.push(e.final_score),a.set(e.strain_id,t)}let s={name:"",avgScore:0};for(const[e,t]of a){const a=t.reduce((e,t)=>e+t,0)/t.length;if(a>s.avgScore){const t=y.strains.find(t=>t.id===e);s={id:e,name:(null==t?void 0:t.name)||"Unknown",avgScore:a}}}s.avgScore>=75&&e.push({title:"Top Performing Strain",summary:`${s.name} consistently scores well in your garden`,details:`This strain has an average score of ${s.avgScore.toFixed(1)}, making it your best performer. Consider growing more of this strain or using it in breeding projects.`,type:"discovery",icon:st,confidence:4,timestamp:"Based on averages",data:{Strain:s.name,"Avg Score":s.avgScore.toFixed(1)}})}O.value=e}()},{deep:!0}),(e,t,a,s)=>{t(`<div${z(n({class:"space-y-4"},s))}><div class="flex items-center justify-between"><h4 class="text-sm font-semibold text-white flex items-center gap-2">`),t(N(d(we),{class:"w-4 h-4 text-yellow-400"},null,a)),t(` AI Insights </h4><button${ee(d(_))?" disabled":""} class="flex items-center gap-1 px-2 py-1 rounded-lg bg-gray-800/60 hover:bg-gray-700/60 text-gray-400 hover:text-white text-xs transition-colors">`),t(N(d(Ae),{class:["w-3 h-3",d(_)&&"animate-spin"]},null,a)),t(" Refresh </button></div>"),d(_)?(t('<div class="space-y-3">\x3c!--[--\x3e'),G(3,e=>{t('<div class="p-4 rounded-xl bg-gray-800/40 border border-gray-700/50 animate-pulse"><div class="flex items-start gap-3"><div class="w-10 h-10 rounded-xl bg-gray-700/50"></div><div class="flex-1 space-y-2"><div class="h-4 bg-gray-700/50 rounded w-1/2"></div><div class="h-3 bg-gray-700/50 rounded w-3/4"></div></div></div></div>')}),t("\x3c!--]--\x3e</div>")):(t('<div class="space-y-3">\x3c!--[--\x3e'),G(d(O),(e,s)=>{t(`<div class="${K(["p-4 rounded-xl border transition-all cursor-pointer hover:scale-[1.01]","success"===e.type?"bg-gradient-to-br from-spider-green-500/20 to-emerald-500/10 border-spider-green-500/30":"warning"===e.type?"bg-gradient-to-br from-yellow-500/20 to-amber-500/10 border-yellow-500/30":"tip"===e.type?"bg-gradient-to-br from-blue-500/20 to-cyan-500/10 border-blue-500/30":"bg-gradient-to-br from-purple-500/20 to-pink-500/10 border-purple-500/30"])}"><div class="flex items-start gap-3"><div class="${K(["w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0","success"===e.type?"bg-spider-green-500/30":"warning"===e.type?"bg-yellow-500/30":"tip"===e.type?"bg-blue-500/30":"bg-purple-500/30"])}">`),Z(t,u(h(e.icon),{class:["w-5 h-5","success"===e.type?"text-spider-green-400":"warning"===e.type?"text-yellow-400":"tip"===e.type?"text-blue-400":"text-purple-400"]},null),a),t(`</div><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-1"><h5 class="text-sm font-semibold text-white">${B(e.title)}</h5><span class="${K(["px-1.5 py-0.5 rounded text-[9px] font-bold uppercase","success"===e.type?"bg-spider-green-500/40 text-spider-green-200":"warning"===e.type?"bg-yellow-500/40 text-yellow-200":"tip"===e.type?"bg-blue-500/40 text-blue-200":"bg-purple-500/40 text-purple-200"])}">${B(e.type)}</span></div><p class="text-xs text-gray-300">${B(e.summary)}</p>`),d(L)===s?(t(`<div class="mt-3 pt-3 border-t border-gray-700/30 space-y-3"><p class="text-sm text-gray-400">${B(e.details)}</p>`),e.data?(t('<div class="flex flex-wrap gap-2">\x3c!--[--\x3e'),G(e.data,(e,a)=>{t(`<span class="px-2 py-1 rounded-lg bg-gray-800/60 text-xs"><span class="text-gray-500">${B(a)}:</span><span class="text-white font-medium ml-1">${B(e)}</span></span>`)}),t("\x3c!--]--\x3e</div>")):t("\x3c!----\x3e"),e.action?(t(`<button class="flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-white/10 hover:bg-white/20 text-white text-xs font-medium transition-colors">${B(e.action.label)} `),t(N(d(vt),{class:"w-3 h-3"},null,a)),t("</button>")):t("\x3c!----\x3e"),t("</div>")):t("\x3c!----\x3e"),t(`<div class="flex items-center gap-2 mt-2"><span class="text-[10px] text-gray-500">${B(e.timestamp)}</span>`),t(N(d(Ie),{class:["w-4 h-4 text-gray-500 transition-transform",d(L)===s&&"rotate-180"]},null,a)),t('</div></div><div class="flex flex-col items-end"><div class="flex items-center gap-1"><div class="flex">\x3c!--[--\x3e'),G(5,a=>{t(`<div class="${K(["w-1.5 h-1.5 rounded-full mr-0.5",a<=e.confidence?S(e.confidence):"bg-gray-700"])}"></div>`)}),t(`\x3c!--]--\x3e</div></div><span class="text-[9px] text-gray-500 mt-1">${B(20*e.confidence)}% conf</span></div></div></div>`)}),t("\x3c!--]--\x3e"),0===d(O).length?(t('<div class="p-6 rounded-xl bg-gray-800/40 border border-gray-700/50 text-center">'),t(N(d(we),{class:"w-12 h-12 text-gray-600 mx-auto mb-3"},null,a)),t('<p class="text-sm text-gray-400">No insights available</p><p class="text-xs text-gray-500 mt-1">Add more data to generate insights</p></div>')):t("\x3c!----\x3e"),t("</div>")),d(O).length>0?(t('<button class="w-full px-4 py-3 rounded-xl bg-gray-800/40 hover:bg-gray-700/40 border border-gray-700/50 text-gray-400 hover:text-white text-sm font-medium transition-colors flex items-center justify-center gap-2">'),t(N(d(re),{class:"w-4 h-4"},null,a)),t(" Generate More Insights </button>")):t("\x3c!----\x3e"),t("</div>")}}}),Wl=Gl.setup;Gl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/reports/LabReportsInsights.vue"),Wl?Wl(e,t):void 0};const Ul=Object.assign(Gl,{__name:"LabReportsInsights"}),Yl=e({__name:"LabReports",__ssrInlineRender:!0,emits:["navigate"],setup(e,{emit:s}){const y=ra();St();const _=s,L=t(null),O=[{id:"growth",name:"Growth Overview",description:"Plant distribution by stage and growth timeline",icon:ve,bgClass:"bg-spider-green-500/20",iconClass:"text-spider-green-400"},{id:"strain",name:"Strain Performance",description:"Compare strains by average scores and success rate",icon:ie,bgClass:"bg-purple-500/20",iconClass:"text-purple-400"},{id:"environment",name:"Environmental Correlations",description:"How temperature and humidity affect your plants",icon:Ke,bgClass:"bg-amber-500/20",iconClass:"text-amber-400"},{id:"harvest",name:"Harvest Summary",description:"Yield data and harvest statistics",icon:Je,bgClass:"bg-blue-500/20",iconClass:"text-blue-400"}],F=a(()=>y.activePlants.filter(e=>["early_flower","mid_flower","late_flower","flush"].includes(e.status)).length),Y=a(()=>y.plants.filter(e=>e.is_keeper).length),X=a(()=>y.plants.filter(e=>e.final_score&&e.final_score>0)),ee=a(()=>X.value.length),ae=a(()=>0===X.value.length?0:X.value.reduce((e,t)=>e+(t.final_score||0),0)/X.value.length),se=a(()=>X.value.sort((e,t)=>(t.final_score||0)-(e.final_score||0))[0]),le=a(()=>{var e;return(null==(e=se.value)?void 0:e.final_score)||0}),re=a(()=>{const e=[],t=y.activePlants.length||1,a=[{statuses:["germinating","seedling"],label:"Seedling",barClass:"bg-lime-400"},{statuses:["early_veg","mid_veg","late_veg"],label:"Vegetative",barClass:"bg-green-500"},{statuses:["pre_flower","early_flower"],label:"Early Flower",barClass:"bg-purple-400"},{statuses:["mid_flower","late_flower"],label:"Mid/Late Flower",barClass:"bg-pink-500"},{statuses:["flush","harvest"],label:"Harvest",barClass:"bg-amber-500"},{statuses:["drying","curing"],label:"Post-Harvest",barClass:"bg-orange-400"}];for(const s of a){const a=y.activePlants.filter(e=>s.statuses.includes(e.status)).length;a>0&&e.push({status:s.statuses[0],label:s.label,count:a,percentage:a/t*100,barClass:s.barClass})}return e}),ne=a(()=>re.value.map(e=>({label:e.label,value:e.count,color:e.barClass.includes("lime")?"rgba(163, 230, 53, 0.8)":e.barClass.includes("green")?"rgba(74, 222, 128, 0.8)":e.barClass.includes("purple")?"rgba(168, 85, 247, 0.8)":e.barClass.includes("pink")?"rgba(244, 114, 182, 0.8)":e.barClass.includes("amber")?"rgba(251, 191, 36, 0.8)":"rgba(251, 146, 60, 0.8)"}))),oe=a(()=>{const e=[],t=new Date;for(let a=7;a>=0;a--){const s=new Date(t);s.setDate(s.getDate()-7*a);const n=new Date(s);n.setDate(n.getDate()-7);const d=y.plants.filter(e=>{if(!e.date_started)return!1;const t=new Date(e.date_started);return t>=n&&t<s}).length;e.push({label:"W"+(8-a),value:d})}return e}),de=a(()=>{const e=new Map;for(const t of y.plants)if(t.strain_id&&t.final_score&&t.final_score>0){const a=e.get(t.strain_id);a?a.plants.push(t):e.set(t.strain_id,{id:t.strain_id,name:t.strain_name||"Unknown",plants:[t]})}return Array.from(e.values()).map(e=>({id:e.id,name:e.name,plantCount:e.plants.length,keeperCount:e.plants.filter(e=>e.is_keeper).length,avgScore:e.plants.reduce((e,t)=>e+(t.final_score||0),0)/e.plants.length})).sort((e,t)=>t.avgScore-e.avgScore).slice(0,10)}),ce=a(()=>de.value.map((e,t)=>({label:e.name.length>12?e.name.substring(0,12)+"...":e.name,value:e.avgScore,color:0===t?"rgba(251, 191, 36, 0.8)":1===t?"rgba(156, 163, 175, 0.8)":2===t?"rgba(251, 146, 60, 0.8)":"rgba(168, 85, 247, 0.8)"}))),pe=a(()=>{var e;const t=[];for(const a of y.allObservations.slice(0,5))t.push({id:a.id,title:`Observation on ${(null==(e=a.plant_id)?void 0:e.slice(0,8))||"plant"}`,time:M(a.observed_at),icon:"ðŸ“",bgClass:"bg-blue-500/20"});return 0===t.length&&t.push({id:"1",title:"No recent activity",time:"Add observations to see activity",icon:"ðŸ“Š",bgClass:"bg-gray-500/20"}),t.slice(0,5)}),ge=a(()=>y.harvests),ue=a(()=>({total:ge.value.length,avgWeight:ge.value.length>0?Math.round(ge.value.reduce((e,t)=>e+(t.dryWeight||0),0)/ge.value.length):0,bestWeight:ge.value.length>0?Math.max(...ge.value.map(e=>e.dryWeight||0)):0,avgFlowerDays:ge.value.length>0?Math.round(ge.value.reduce((e,t)=>e+(t.flowerDays||0),0)/ge.value.length):0}));function j(e){return e>=85?"text-spider-green-400":e>=70?"text-yellow-400":e>=55?"text-orange-400":"text-red-400"}function H(e){return 0===e?"bg-yellow-500/30":1===e?"bg-gray-400/30":2===e?"bg-amber-600/30":"bg-gray-700/50"}function M(e){if(!e)return"Unknown";const t=new Date(e),a=(new Date).getTime()-t.getTime(),s=Math.floor(a/864e5);return 0===s?"Today":1===s?"Yesterday":s<7?`${s} days ago`:s<30?`${Math.floor(s/7)} weeks ago`:`${Math.floor(s/30)} months ago`}function q(e){switch(e.type){case"view_plant":e.target&&(y.activeTab="plants",_("navigate",{tab:"plants",plantId:e.target}));break;case"add_strain":_("navigate",{tab:"strains",action:"add"});break;case"score_plants":y.activeTab="pheno",_("navigate",{tab:"pheno"});break;case"add_observation":e.target?_("navigate",{tab:"plants",plantId:e.target,action:"observe"}):_("navigate",{tab:"plants",action:"observe"})}}return(e,t,a,s)=>{var _;t(`<div${z(n({class:"h-full flex overflow-hidden"},s))}><div class="${K(["flex flex-col transition-all duration-300 overflow-hidden border-r border-gray-800/50",d(L)?"w-full lg:w-2/5":"w-full"])}"><div class="flex-shrink-0 p-4 space-y-4"><div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3"><div><h2 class="text-xl font-bold text-white">Reports &amp; Analytics</h2><p class="text-sm text-gray-400">Track performance, analyze trends</p></div><button class="flex items-center gap-2 px-4 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-blue-400 hover:from-blue-400 hover:to-blue-300 text-white text-sm font-medium shadow-lg shadow-blue-500/20 transition-all">`),t(N(d(Ve),{class:"w-5 h-5"},null,a)),t(` Export Data </button></div></div><div class="flex-shrink-0 px-4 pb-4"><div class="grid grid-cols-2 lg:grid-cols-4 gap-3"><div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"><p class="text-xs text-gray-500 mb-1">Active Plants</p><p class="text-2xl font-bold text-white">${B(d(y).activePlants.length)}</p><p class="text-xs text-spider-green-400 mt-1">${B(d(F))} in flower</p></div><div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"><p class="text-xs text-gray-500 mb-1">Total Strains</p><p class="text-2xl font-bold text-white">${B(d(y).strains.length)}</p><p class="text-xs text-blue-400 mt-1">${B(d(Y))} keepers</p></div><div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"><p class="text-xs text-gray-500 mb-1">Avg Score</p><p class="text-2xl font-bold text-white">${B(d(ae).toFixed(1))}</p><p class="text-xs text-purple-400 mt-1">${B(d(ee))} scored</p></div><div class="p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"><p class="text-xs text-gray-500 mb-1">Top Score</p><p class="text-2xl font-bold text-spider-green-400">${B(d(le).toFixed(1))}</p><p class="text-xs text-gray-500 mt-1">${B((null==(_=d(se))?void 0:_.plant_code)||"-")}</p></div></div></div><div class="flex-1 overflow-y-auto p-4 pt-0 space-y-4"><h3 class="text-sm font-medium text-gray-400">Available Reports</h3><div class="space-y-2">\x3c!--[--\x3e`),G(O,e=>{var s;t(`<div class="${K(["p-4 rounded-xl cursor-pointer transition-all",(null==(s=d(L))?void 0:s.id)===e.id?"bg-blue-500/20 border border-blue-500/50":"bg-gray-800/40 hover:bg-gray-700/40 border border-gray-700/50"])}"><div class="flex items-start gap-3"><div class="${K(["w-10 h-10 rounded-xl flex items-center justify-center",e.bgClass])}">`),Z(t,u(h(e.icon),{class:["w-5 h-5",e.iconClass]},null),a),t(`</div><div class="flex-1"><h4 class="font-medium text-white mb-1">${B(e.name)}</h4><p class="text-xs text-gray-500">${B(e.description)}</p></div>`),t(N(d(he),{class:"w-5 h-5 text-gray-600"},null,a)),t("</div></div>")}),t('\x3c!--]--\x3e</div><div class="mt-6 space-y-3"><h3 class="text-sm font-medium text-gray-400">Stage Distribution</h3><div class="space-y-2">\x3c!--[--\x3e'),G(d(re),e=>{t(`<div class="flex items-center gap-3"><div class="w-24 text-xs text-gray-400 truncate">${B(e.label)}</div><div class="flex-1 h-2 bg-gray-800 rounded-full overflow-hidden"><div class="${K(["h-full rounded-full",e.barClass])}" style="${te({width:`${e.percentage}%`})}"></div></div><div class="w-8 text-right text-xs text-gray-500">${B(e.count)}</div></div>`)}),t('\x3c!--]--\x3e</div></div><div class="mt-6">'),t(N(Ul,{plants:d(y).plants,strains:d(y).strains,onAction:q},null,a)),t('</div><div class="mt-6 space-y-3"><h3 class="text-sm font-medium text-gray-400">Recent Activity</h3><div class="space-y-2">\x3c!--[--\x3e'),G(d(pe),e=>{t(`<div class="flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"><div class="${K(["w-8 h-8 rounded-lg flex items-center justify-center",e.bgClass])}"><span class="text-sm">${B(e.icon)}</span></div><div class="flex-1 min-w-0"><p class="text-sm text-white truncate">${B(e.title)}</p><p class="text-xs text-gray-500">${B(e.time)}</p></div></div>`)}),t("\x3c!--]--\x3e</div></div></div></div>"),d(L)?(t(`<div class="hidden lg:flex flex-1 flex-col overflow-hidden bg-gray-900/30"><div class="flex-shrink-0 p-4 border-b border-gray-800/50"><div class="flex items-center justify-between"><div><h3 class="text-lg font-bold text-white">${B(d(L).name)}</h3><p class="text-sm text-gray-400">${B(d(L).description)}</p></div><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">`),t(N(d(me),{class:"w-5 h-5"},null,a)),t('</button></div></div><div class="flex-1 overflow-y-auto p-4 space-y-6">'),"growth"===d(L).id?(t('\x3c!--[--\x3e<div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4">'),t(N(Bl,{title:"Plants by Growth Stage",data:d(ne),type:"doughnut"},null,a)),t('</div><div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4"><h4 class="text-sm font-medium text-gray-300 mb-4">Stage Breakdown</h4><div class="space-y-3">\x3c!--[--\x3e'),G(d(re),e=>{var a;t(`<div class="space-y-2"><div class="flex items-center justify-between text-sm"><div class="flex items-center gap-2"><span>${B(null==(a=function(e){return sa[e]}(e.status))?void 0:a.icon)}</span><span class="text-gray-300">${B(e.label)}</span></div><span class="text-white font-medium">${B(e.count)}</span></div><div class="h-2 bg-gray-700/50 rounded-full overflow-hidden"><div class="${K(["h-full rounded-full transition-all",e.barClass])}" style="${te({width:`${e.percentage}%`})}"></div></div></div>`)}),t('\x3c!--]--\x3e</div></div><div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4">'),t(N(Bl,{title:"Growth Timeline",data:d(oe),type:"line"},null,a)),t("</div>\x3c!--]--\x3e")):t("\x3c!----\x3e"),"strain"===d(L).id?(t('\x3c!--[--\x3e<div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4">'),t(N(Bl,{title:"Strain Performance",data:d(ce),type:"bar"},null,a)),t('</div><div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 overflow-hidden"><div class="p-4 border-b border-gray-700/50"><h4 class="text-sm font-medium text-gray-300 flex items-center gap-2">'),t(N(d(ie),{class:"w-4 h-4 text-purple-400"},null,a)),t(' Strain Rankings </h4></div><div class="divide-y divide-gray-700/30">\x3c!--[--\x3e'),G(d(de),(e,a)=>{t(`<div class="flex items-center gap-3 p-4 hover:bg-gray-700/20 transition-colors"><div class="${K([a<3?H(a):"bg-gray-700/50","w-8 h-8 rounded-lg flex items-center justify-center"])}">`),t(0===a?'<span class="text-lg">ðŸ¥‡</span>':1===a?'<span class="text-lg">ðŸ¥ˆ</span>':2===a?'<span class="text-lg">ðŸ¥‰</span>':`<span class="text-sm text-gray-400 font-bold">${B(a+1)}</span>`),t(`</div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-white truncate">${B(e.name)}</p><div class="flex items-center gap-2 mt-0.5"><span class="text-xs text-gray-500">${B(e.plantCount)} plants</span>`),e.keeperCount>0?t(`<span class="px-1.5 py-0.5 rounded bg-amber-500/20 text-amber-300 text-[10px]">${B(e.keeperCount)} keeper${B(e.keeperCount>1?"s":"")}</span>`):t("\x3c!----\x3e"),t(`</div></div><div class="text-right"><p class="${K(["text-lg font-bold",j(e.avgScore)])}">${B(e.avgScore.toFixed(1))}</p><p class="text-xs text-gray-500">avg score</p></div></div>`)}),t("\x3c!--]--\x3e</div></div>\x3c!--]--\x3e")):t("\x3c!----\x3e"),"environment"===d(L).id?t('\x3c!--[--\x3e<div class="bg-blue-500/10 border border-blue-500/30 rounded-xl p-3 mb-4"><div class="flex items-start gap-2"><span class="text-blue-400 text-lg">â„¹</span><p class="text-xs text-blue-300/80"> These are general cultivation guidelines based on industry best practices. Personalized correlation analysis based on your sensor data is coming soon. </p></div></div><div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4"><h4 class="text-sm font-medium text-gray-300 mb-4">Cultivation Guidelines</h4><div class="space-y-3"><div class="p-3 rounded-xl bg-spider-green-500/10 border border-spider-green-500/20"><div class="flex items-center gap-2 mb-2"><span class="text-spider-green-400">â†‘</span><p class="text-sm font-medium text-white">VPD Targets by Stage</p></div><p class="text-xs text-gray-400"><span class="text-spider-green-400">Seedling:</span> 0.4-0.8 kPa â€¢ <span class="text-spider-green-400">Veg:</span> 0.8-1.2 kPa â€¢ <span class="text-spider-green-400">Flower:</span> 1.0-1.5 kPa </p></div><div class="p-3 rounded-xl bg-blue-500/10 border border-blue-500/20"><div class="flex items-center gap-2 mb-2"><span class="text-blue-400">â—‹</span><p class="text-sm font-medium text-white">Temperature Differential</p></div><p class="text-xs text-gray-400"> A <span class="text-blue-400">5-10Â°F drop</span> at night can enhance resin production and encourage color expression in strains with anthocyanin potential. </p></div><div class="p-3 rounded-xl bg-amber-500/10 border border-amber-500/20"><div class="flex items-center gap-2 mb-2"><span class="text-amber-400">!</span><p class="text-sm font-medium text-white">Humidity Guidelines</p></div><p class="text-xs text-gray-400"> Keep RH <span class="text-amber-400">&lt;55%</span> in late flower to reduce mold risk. Good airflow is critical for dense colas. </p></div></div></div><div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4"><h4 class="text-sm font-medium text-gray-300 mb-4">Recommended Ranges</h4><div class="grid grid-cols-2 gap-3"><div class="p-3 rounded-xl bg-gray-700/30"><p class="text-xs text-gray-500 mb-1">Day Temperature</p><p class="text-lg font-bold text-white">75-85Â°F</p><p class="text-[10px] text-gray-500">24-29Â°C</p></div><div class="p-3 rounded-xl bg-gray-700/30"><p class="text-xs text-gray-500 mb-1">Night Temperature</p><p class="text-lg font-bold text-white">65-75Â°F</p><p class="text-[10px] text-gray-500">18-24Â°C</p></div><div class="p-3 rounded-xl bg-gray-700/30"><p class="text-xs text-gray-500 mb-1">RH (Vegetative)</p><p class="text-lg font-bold text-white">50-70%</p><p class="text-[10px] text-gray-500">Higher for clones</p></div><div class="p-3 rounded-xl bg-gray-700/30"><p class="text-xs text-gray-500 mb-1">RH (Flower)</p><p class="text-lg font-bold text-white">40-55%</p><p class="text-[10px] text-gray-500">Lower in late flower</p></div></div></div>\x3c!--]--\x3e'):t("\x3c!----\x3e"),"harvest"===d(L).id?(t('\x3c!--[--\x3e<div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4"><h4 class="text-sm font-medium text-gray-300 mb-4">Recent Harvests</h4><div class="space-y-3">\x3c!--[--\x3e'),G(d(ge),e=>{t(`<div class="flex items-center gap-3 p-3 rounded-xl bg-gray-700/30"><div class="w-10 h-10 rounded-lg bg-spider-green-500/20 flex items-center justify-center"><span class="text-lg">ðŸŒ¿</span></div><div class="flex-1 min-w-0"><p class="text-sm font-medium text-white truncate">${B(e.plantCode)}</p><p class="text-xs text-gray-500">${B(e.strain)} â€¢ ${B(e.flowerDays)} days flower</p></div><div class="text-right"><p class="text-lg font-bold text-spider-green-400">${B(e.dryWeight)}g</p><p class="text-xs text-gray-500">dry weight</p></div></div>`)}),t("\x3c!--]--\x3e"),0===d(ge).length?t('<div class="text-center py-8"><p class="text-sm text-gray-500">No harvests recorded yet</p></div>'):t("\x3c!----\x3e"),t(`</div></div><div class="bg-gray-800/40 rounded-2xl border border-gray-700/50 p-4"><h4 class="text-sm font-medium text-gray-300 mb-4">Harvest Stats</h4><div class="grid grid-cols-2 gap-3"><div class="p-3 rounded-xl bg-gray-700/30"><p class="text-xs text-gray-500 mb-1">Total Harvests</p><p class="text-lg font-bold text-white">${B(d(ue).total)}</p></div><div class="p-3 rounded-xl bg-gray-700/30"><p class="text-xs text-gray-500 mb-1">Avg Dry Weight</p><p class="text-lg font-bold text-white">${B(d(ue).avgWeight)}g</p></div><div class="p-3 rounded-xl bg-gray-700/30"><p class="text-xs text-gray-500 mb-1">Best Yield</p><p class="text-lg font-bold text-spider-green-400">${B(d(ue).bestWeight)}g</p></div><div class="p-3 rounded-xl bg-gray-700/30"><p class="text-xs text-gray-500 mb-1">Avg Flower Time</p><p class="text-lg font-bold text-white">${B(d(ue).avgFlowerDays)}d</p></div></div></div>\x3c!--]--\x3e`)):t("\x3c!----\x3e"),t('<div class="flex gap-3"><button class="flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors">'),t(N(d(Qe),{class:"w-4 h-4"},null,a)),t(' Export CSV </button><button class="flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 text-sm font-medium transition-colors">'),t(N(d(Qe),{class:"w-4 h-4"},null,a)),t(" Export JSON </button></div></div></div>")):t("\x3c!----\x3e"),t("</div>")}}}),ql=Yl.setup;Yl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/LabReports.vue"),ql?ql(e,t):void 0};const Vl=Object.assign(Yl,{__name:"LabReports"}),Kl=e({__name:"LabPlantWizard",__ssrInlineRender:!0,emits:["close","created","openStrainWizard"],setup(e,{emit:u}){const h=ra(),y=t(1),_=t(!1),L=t(""),O=["Select Strain","Origin & Stage","Plant Details"],F=t({strain_id:"",origin_type:"seed",status:"germinating",plant_code:"",pheno_label:"",date_started:(new Date).toISOString().split("T")[0],grow_medium:"",container_size:null,room_id:""}),Z=a(()=>h.rooms.filter(e=>"active"===e.status)),X=[{value:"seed",label:"From Seed",icon:"ðŸŒ°",desc:"Germinated from a seed. Full lifecycle tracking from day 1."},{value:"clone",label:"From Clone",icon:"âœ‚ï¸",desc:"Cutting from a mother plant. Skips germination stage."}],ae=a(()=>{const e=[{value:"germinating",label:"Germinating",icon:"ðŸŒ°"},{value:"seedling",label:"Seedling",icon:"ðŸŒ±"},{value:"early_veg",label:"Early Veg",icon:"ðŸŒ¿"},{value:"mid_veg",label:"Mid Veg",icon:"ðŸª´"},{value:"late_veg",label:"Late Veg",icon:"ðŸŒ³"},{value:"pre_flower",label:"Pre-Flower",icon:"ðŸŒ¸"},{value:"early_flower",label:"Early Flower",icon:"ðŸ’®"},{value:"mid_flower",label:"Mid Flower",icon:"ðŸŒº"}];return"clone"===F.value.origin_type?e.filter(e=>"germinating"!==e.value):e}),se=[{value:"soil",label:"Soil",icon:"ðŸª´"},{value:"coco",label:"Coco",icon:"ðŸ¥¥"},{value:"hydro",label:"Hydro",icon:"ðŸ’§"},{value:"dwc",label:"DWC",icon:"ðŸ«§"}],ie=[1,3,5,7,10,15,20],ne=a(()=>{if(!L.value)return h.strains;const e=L.value.toLowerCase();return h.strains.filter(t=>{var a;return t.name.toLowerCase().includes(e)||(null==(a=t.breeder)?void 0:a.toLowerCase().includes(e))})}),oe=a(()=>F.value.strain_id?h.strains.find(e=>e.id===F.value.strain_id):null),de=a(()=>(y.value,!0)),ce=a(()=>F.value.plant_code.trim().length>0);return s(()=>F.value.origin_type,e=>{"clone"===e&&"germinating"===F.value.status&&(F.value.status="early_veg")}),(e,t,a,s)=>{var u;t(`<div${z(n({class:"fixed top-0 right-0 bottom-0 left-0 desktop:left-[var(--sidebar-width,256px)] z-50 bg-gray-900 overflow-hidden flex flex-col"},s))}><div class="h-1 bg-gray-800"><div class="h-full bg-gradient-to-r from-spider-green-600 to-spider-green-400 transition-all duration-500" style="${te({width:d(y)/3*100+"%"})}"></div></div><div class="flex-shrink-0 border-b border-gray-800"><div class="max-w-4xl mx-auto px-6 py-4"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-spider-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-spider-green-500/20">`),t(N(d(re),{class:"w-6 h-6 text-white"},null,a)),t(`</div><div><h1 class="text-xl font-bold text-white">Create New Plant</h1><p class="text-sm text-gray-400">Step ${B(d(y))} of ${B(3)} â€” ${B(O[d(y)-1])}</p></div></div><button class="p-3 rounded-xl hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">`),t(N(d(me),{class:"w-6 h-6"},null,a)),t('</button></div></div></div><div class="flex-1 overflow-y-auto"><div class="max-w-4xl mx-auto px-6 py-8">'),1===d(y)?(t('\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Select a Strain</h2><p class="text-lg text-gray-400"> Choose the genetic variety for this plant. This helps track performance and predict growth behavior. </p></div><div class="p-5 rounded-2xl bg-spider-green-500/10 border border-spider-green-500/30 mb-8"><div class="flex gap-4"><div class="w-10 h-10 rounded-xl bg-spider-green-500/20 flex items-center justify-center flex-shrink-0">'),t(N(d(we),{class:"w-5 h-5 text-spider-green-400"},null,a)),t('</div><div><h4 class="font-semibold text-spider-green-300 mb-1">Why Track Strains?</h4><p class="text-sm text-spider-green-300/80"> Linking plants to strains allows you to compare performance across grows, learn which genetics thrive in your setup, and build a knowledge base for future cultivation decisions. </p></div></div></div><div class="space-y-6">'),d(h).strains.length>0?(t(`<div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">Your Strain Collection</label><p class="text-sm text-gray-400 mb-4"> Select from your saved strains, or skip if you don&#39;t know the genetics. </p><input${Y("value",d(L))} type="text" placeholder="Search your strains..." class="w-full px-5 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none focus:ring-2 focus:ring-spider-green-500/20 transition-all mb-4"><div class="max-h-64 overflow-y-auto space-y-2">\x3c!--[--\x3e`),G(d(ne),e=>{t(`<button class="${K(["w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-4",d(F).strain_id===e.id?"border-spider-green-500 bg-spider-green-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"><div class="w-12 h-12 rounded-xl bg-purple-500/20 flex items-center justify-center flex-shrink-0">`),t(N(d(le),{class:"w-6 h-6 text-purple-400"},null,a)),t(`</div><div class="flex-1 min-w-0"><p class="text-base font-semibold text-white truncate">${B(e.name)}</p><p class="text-sm text-gray-400">${B(e.seed_type||"Unknown type")} `),e.breeder?t(`<span> Â· ${B(e.breeder)}</span>`):t("\x3c!----\x3e"),void 0!==e.indica_ratio?t(`<span> Â· ${B(e.indica_ratio)}% Indica</span>`):t("\x3c!----\x3e"),t("</p></div>"),d(F).strain_id===e.id?t(N(d(Ce),{class:"w-6 h-6 text-spider-green-400 flex-shrink-0"},null,a)):t("\x3c!----\x3e"),t("</button>")}),t("\x3c!--]--\x3e</div>"),d(oe)?(t('<div class="mt-4 p-4 rounded-xl bg-spider-green-500/10 border border-spider-green-500/20"><div class="flex items-center gap-3">'),t(N(d(Ce),{class:"w-5 h-5 text-spider-green-400"},null,a)),t(`<div><p class="text-sm font-medium text-white">Selected: ${B(d(oe).name)}</p>`),d(oe).expected_flowering_days?t(`<p class="text-xs text-gray-400"> Expected flowering: ${B(d(oe).expected_flowering_days)} days </p>`):t("\x3c!----\x3e"),t("</div></div></div>")):t("\x3c!----\x3e"),t("</div>")):(t('<div class="p-8 rounded-2xl bg-gray-800/50 border border-gray-700/50 text-center"><div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-purple-500/20 flex items-center justify-center">'),t(N(d(le),{class:"w-8 h-8 text-purple-400"},null,a)),t('</div><h4 class="text-lg font-semibold text-white mb-2">No Strains Yet</h4><p class="text-sm text-gray-400 mb-4"> You haven&#39;t added any strains to your collection. You can add one now, or continue without a strain. </p><button class="px-5 py-3 rounded-xl bg-purple-600 hover:bg-purple-500 text-white font-medium transition-colors"> Add a Strain First </button></div>')),d(h).strains.length>0?t('<div class="p-5 rounded-2xl bg-gray-800/30 border border-gray-700/30"><button class="w-full p-4 rounded-xl border-2 border-dashed border-gray-600 text-gray-400 hover:text-gray-300 hover:border-gray-500 transition-all text-center"><div class="text-2xl mb-2">â“</div><div class="font-medium">Skip â€” I don&#39;t know the strain</div><div class="text-xs text-gray-500 mt-1">You can update this later when you identify it</div></button></div>'):t("\x3c!----\x3e"),t("</div>\x3c!--]--\x3e")):t("\x3c!----\x3e"),2===d(y)?(t('\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Origin &amp; Current Stage</h2><p class="text-lg text-gray-400"> Tell us how this plant started and what stage it&#39;s currently in. </p></div><div class="p-5 rounded-2xl bg-amber-500/10 border border-amber-500/30 mb-8"><div class="flex gap-4"><div class="w-10 h-10 rounded-xl bg-amber-500/20 flex items-center justify-center flex-shrink-0">'),t(N(d(Ue),{class:"w-5 h-5 text-amber-400"},null,a)),t('</div><div><h4 class="font-semibold text-amber-300 mb-1">Why This Matters</h4><p class="text-sm text-amber-300/80"> Knowing whether a plant came from seed or clone affects how you calculate its age and expected development timeline. The current stage helps track progression through the growth cycle. </p></div></div></div><div class="space-y-6"><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">How did you start this plant?</label><p class="text-sm text-gray-400 mb-4"> Select the origin â€” this affects which growth stages are available. </p><div class="grid grid-cols-1 sm:grid-cols-2 gap-4">\x3c!--[--\x3e'),G(X,e=>{t(`<button class="${K(["p-5 rounded-xl border-2 transition-all text-left",d(F).origin_type===e.value?"border-spider-green-500 bg-spider-green-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"><div class="text-3xl mb-3">${B(e.icon)}</div><div class="text-base font-semibold text-white mb-1">${B(e.label)}</div><div class="text-sm text-gray-400">${B(e.desc)}</div></button>`)}),t('\x3c!--]--\x3e</div><div class="mt-4 p-4 rounded-xl bg-gray-700/30 border border-gray-600/50"><h5 class="text-sm font-medium text-gray-300 mb-2">Understanding Origins:</h5><div class="text-xs text-gray-400 space-y-2"><p><span class="text-spider-green-400">ðŸŒ° From Seed:</span> Plant started by germinating a seed. Full lifecycle from Day 1.</p><p><span class="text-spider-green-400">âœ‚ï¸ From Clone:</span> Cutting taken from a mother plant. Skips germination phase, typically starts in early veg.</p></div></div></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">Current Growth Stage</label><p class="text-sm text-gray-400 mb-4"> What stage is this plant currently in? This determines how the system tracks progress. </p><div class="grid grid-cols-2 sm:grid-cols-4 gap-3">\x3c!--[--\x3e'),G(d(ae),e=>{t(`<button class="${K(["p-4 rounded-xl border-2 transition-all text-center",d(F).status===e.value?"border-spider-green-500 bg-spider-green-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"><div class="text-2xl mb-2">${B(e.icon)}</div><div class="text-xs font-medium text-gray-300">${B(e.label)}</div></button>`)}),t('\x3c!--]--\x3e</div></div><div class="p-5 rounded-2xl bg-gray-800/30 border border-gray-700/30"><h4 class="font-medium text-gray-300 mb-4">Growth Stage Guide</h4><div class="grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm"><div class="space-y-3"><div class="flex items-start gap-3"><div class="text-lg">ðŸŒ°</div><div><div class="text-gray-300 font-medium">Germinating</div><div class="text-xs text-gray-500">Seed is sprouting, root emerging</div></div></div><div class="flex items-start gap-3"><div class="text-lg">ðŸŒ±</div><div><div class="text-gray-300 font-medium">Seedling</div><div class="text-xs text-gray-500">First leaves, delicate stage (1-2 weeks)</div></div></div><div class="flex items-start gap-3"><div class="text-lg">ðŸŒ¿</div><div><div class="text-gray-300 font-medium">Early Veg</div><div class="text-xs text-gray-500">Rapid leaf growth begins (2-4 weeks)</div></div></div><div class="flex items-start gap-3"><div class="text-lg">ðŸª´</div><div><div class="text-gray-300 font-medium">Mid Veg</div><div class="text-xs text-gray-500">Strong vegetative growth (4-6 weeks)</div></div></div></div><div class="space-y-3"><div class="flex items-start gap-3"><div class="text-lg">ðŸŒ³</div><div><div class="text-gray-300 font-medium">Late Veg</div><div class="text-xs text-gray-500">Preparing for flower transition</div></div></div><div class="flex items-start gap-3"><div class="text-lg">ðŸŒ¸</div><div><div class="text-gray-300 font-medium">Pre-Flower</div><div class="text-xs text-gray-500">Light cycle changed, stretch begins</div></div></div><div class="flex items-start gap-3"><div class="text-lg">ðŸ’®</div><div><div class="text-gray-300 font-medium">Early Flower</div><div class="text-xs text-gray-500">Bud sites forming (weeks 1-3)</div></div></div><div class="flex items-start gap-3"><div class="text-lg">ðŸŒº</div><div><div class="text-gray-300 font-medium">Mid Flower</div><div class="text-xs text-gray-500">Buds filling out (weeks 4-6)</div></div></div></div></div></div></div>\x3c!--]--\x3e')):t("\x3c!----\x3e"),3===d(y)?(t('\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Plant Details</h2><p class="text-lg text-gray-400"> Final details to identify and track this plant throughout its lifecycle. </p></div><div class="p-5 rounded-2xl bg-teal-500/10 border border-teal-500/30 mb-8"><div class="flex gap-4"><div class="w-10 h-10 rounded-xl bg-teal-500/20 flex items-center justify-center flex-shrink-0">'),t(N(d(re),{class:"w-5 h-5 text-teal-400"},null,a)),t(`</div><div><h4 class="font-semibold text-teal-300 mb-1">Tracking Made Easy</h4><p class="text-sm text-teal-300/80"> The plant code helps you quickly identify each plant. Use a system that works for you â€” many growers use position codes (A1, B2) or strain abbreviations + numbers (BD001 for Blue Dream). </p></div></div></div><div class="space-y-6"><div class="grid grid-cols-1 sm:grid-cols-2 gap-6"><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2"> Plant Code <span class="text-red-400">*</span></label><p class="text-sm text-gray-400 mb-4"> A unique identifier for this plant. </p><div class="flex gap-2"><input${Y("value",d(F).plant_code)} type="text" placeholder="e.g., BD001, A1, Plant-1" class="flex-1 px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none transition-all"><button class="px-4 py-3 bg-gray-700 hover:bg-gray-600 border border-gray-600 rounded-xl text-gray-300 transition-colors flex items-center gap-2" title="Auto-generate code">`),t(N(d(Ae),{class:"w-5 h-5"},null,a)),t(`</button></div><p class="text-xs text-gray-500 mt-2"> ðŸ’¡ Click the refresh button to auto-generate a code </p></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">Start Date</label><p class="text-sm text-gray-400 mb-4"> When did this plant&#39;s journey begin? </p><input${Y("value",d(F).date_started)} type="date" class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white focus:border-spider-green-500 focus:outline-none transition-all"><p class="text-xs text-gray-500 mt-2"> Day count will be calculated from this date </p></div></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">Phenotype Label (Optional)</label><p class="text-sm text-gray-400 mb-4"> If growing multiple plants of the same strain, use labels to identify different phenotypes. </p><input${Y("value",d(F).pheno_label)} type="text" placeholder="e.g., &quot;Purple Pheno&quot;, &quot;Fast Finisher&quot;, &quot;Tall One&quot;" class="w-full px-4 py-3 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-spider-green-500 focus:outline-none transition-all"><div class="mt-3 p-3 rounded-lg bg-gray-700/30 text-xs text-gray-400"><strong class="text-gray-300">What&#39;s a phenotype?</strong> Even plants from the same strain can express different traits (height, color, smell, yield). Labeling helps you track and compare these variations. </div></div>`),d(Z).length>0?(t(`<div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">Grow Room (Optional)</label><p class="text-sm text-gray-400 mb-4"> Assign this plant to a grow room for organized tracking. </p><div class="grid grid-cols-2 sm:grid-cols-3 gap-3"><button class="${K(["p-3 rounded-xl border-2 transition-all text-center text-sm",d(F).room_id?"border-gray-600 bg-gray-700/30 text-gray-400 hover:border-gray-500":"border-teal-500 bg-teal-500/10 text-white"])}"> None </button>\x3c!--[--\x3e`),G(d(Z),e=>{t(`<button class="${K(["p-3 rounded-xl border-2 transition-all text-center text-sm",d(F).room_id===e.id?"border-teal-500 bg-teal-500/10 text-white":"border-gray-600 bg-gray-700/30 text-gray-400 hover:border-gray-500"])}">${B(e.name)}</button>`)}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),t('<div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">Growing Medium</label><p class="text-sm text-gray-400 mb-4"> What are you growing in? This affects watering and feeding schedules. </p><div class="grid grid-cols-2 sm:grid-cols-4 gap-3">\x3c!--[--\x3e'),G(se,e=>{t(`<button class="${K(["p-4 rounded-xl border-2 transition-all text-center",d(F).grow_medium===e.value?"border-spider-green-500 bg-spider-green-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"><div class="text-2xl mb-2">${B(e.icon)}</div><div class="text-xs font-medium text-gray-300">${B(e.label)}</div></button>`)}),t('\x3c!--]--\x3e</div><div class="mt-4 p-4 rounded-xl bg-gray-700/30 border border-gray-600/50"><h5 class="text-sm font-medium text-gray-300 mb-2">Growing Medium Guide:</h5><div class="text-xs text-gray-400 space-y-1"><p><span class="text-spider-green-400">ðŸª´ Soil:</span> Forgiving, good for beginners, natural buffer</p><p><span class="text-spider-green-400">ðŸ¥¥ Coco:</span> Inert medium, faster growth, needs cal-mag</p><p><span class="text-spider-green-400">ðŸ’§ Hydro:</span> Roots in water/nutrients, fastest growth</p><p><span class="text-spider-green-400">ðŸ«§ DWC:</span> Deep Water Culture, roots suspended in aerated nutrient solution</p></div></div></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">Container Size</label><p class="text-sm text-gray-400 mb-4"> What size pot is this plant in? (in gallons) </p><div class="flex flex-wrap gap-2">\x3c!--[--\x3e'),G(ie,e=>{t(`<button class="${K(["px-5 py-3 rounded-xl border-2 transition-all font-medium",d(F).container_size===e?"border-spider-green-500 bg-spider-green-500/20 text-white":"border-gray-600 bg-gray-700/30 text-gray-400 hover:border-gray-500"])}">${B(e)} gal </button>`)}),t('\x3c!--]--\x3e</div><p class="text-xs text-gray-500 mt-3"> ðŸ’¡ Tip: Larger containers = bigger plants but slower dry-back between waterings </p></div><div class="p-6 rounded-2xl bg-gradient-to-br from-spider-green-500/10 to-emerald-600/10 border border-spider-green-500/30"><h4 class="font-semibold text-white mb-4 flex items-center gap-2">'),t(N(d(Ce),{class:"w-5 h-5 text-spider-green-400"},null,a)),t(` Plant Summary </h4><div class="grid grid-cols-2 sm:grid-cols-3 gap-4"><div><div class="text-xs text-gray-400 mb-1">Code</div><div class="text-white font-medium">${B(d(F).plant_code||"Not set")}</div></div><div><div class="text-xs text-gray-400 mb-1">Strain</div><div class="text-white">${B((null==(u=d(oe))?void 0:u.name)||"Unknown")}</div></div><div><div class="text-xs text-gray-400 mb-1">Origin</div><div class="text-white">${B("seed"===d(F).origin_type?"From Seed":"From Clone")}</div></div><div><div class="text-xs text-gray-400 mb-1">Stage</div><div class="text-white flex items-center gap-1"><span>${B(function(e){var t;return(null==(t=sa[e])?void 0:t.icon)||"ðŸŒ±"}(d(F).status))}</span> ${B(function(e){var t;return(null==(t=sa[e])?void 0:t.label)||e}(d(F).status))}</div></div><div><div class="text-xs text-gray-400 mb-1">Start Date</div><div class="text-white">${B(d(F).date_started)}</div></div>`),d(F).grow_medium?t(`<div><div class="text-xs text-gray-400 mb-1">Medium</div><div class="text-white capitalize">${B(d(F).grow_medium)}</div></div>`):t("\x3c!----\x3e"),t("</div></div></div>\x3c!--]--\x3e")):t("\x3c!----\x3e"),t('</div></div><div class="flex-shrink-0 border-t border-gray-800 bg-gray-900/80 backdrop-blur-sm"><div class="max-w-4xl mx-auto px-6 py-4"><div class="flex items-center justify-between">'),d(y)>1?(t('<button class="flex items-center gap-2 px-5 py-3 text-gray-400 hover:text-white transition-colors rounded-xl hover:bg-gray-800">'),t(N(d(De),{class:"w-5 h-5"},null,a)),t(" Back </button>")):t("<div></div>"),t('<div class="flex items-center gap-3"><button class="px-5 py-3 text-gray-400 hover:text-white transition-colors rounded-xl hover:bg-gray-800"> Cancel </button>'),d(y)<3?(t(`<button${ee(!d(de))?" disabled":""} class="${K(["flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all",d(de)?"bg-spider-green-600 hover:bg-spider-green-500 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700 text-gray-500 cursor-not-allowed"])}"> Continue `),t(N(d(he),{class:"w-5 h-5"},null,a)),t("</button>")):(t(`<button${ee(d(_)||!d(ce))?" disabled":""} class="flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-gradient-to-r from-spider-green-600 to-spider-green-500 hover:from-spider-green-500 hover:to-spider-green-400 text-white transition-all shadow-lg shadow-spider-green-500/20 disabled:opacity-50 disabled:cursor-not-allowed">`),d(_)?t(N(d(Ae),{class:"w-5 h-5 animate-spin"},null,a)):t(N(d(re),{class:"w-5 h-5"},null,a)),t(` ${B(d(_)?"Creating...":"Create Plant")}</button>`)),t("</div></div></div></div></div>")}}}),Jl=Kl.setup;Kl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/wizards/LabPlantWizard.vue"),Jl?Jl(e,t):void 0};const Ql=Object.assign(Kl,{__name:"LabPlantWizard"}),Zl=e({__name:"LabObservationWizard",__ssrInlineRender:!0,props:{plant:{}},emits:["close","created"],setup(e,{emit:s}){var u;const h=e,y=ra(),_=h.plant?2:1,L=t(_),O=t(!1),F=t(""),Z=t(h.plant||null),X=["Select Plant","Health Check","Details & Notes"],ae=3-_+1,se=a(()=>L.value-_+1),le=a(()=>X[L.value-1]),ie=a(()=>se.value/ae*100),oe=a(()=>h.plant),de=[{id:"general",icon:"ðŸ“‹",label:"General Check",description:"Routine daily/weekly observation",color:"blue",placeholder:"General observations about the plant..."},{id:"watering",icon:"ðŸ’§",label:"Watering",description:"Watered the plant",color:"cyan",placeholder:"Runoff, drainage, soil moisture..."},{id:"feeding",icon:"ðŸ§ª",label:"Feeding",description:"Applied nutrients or supplements",color:"green",placeholder:"Plant response, dosage adjustments..."},{id:"training",icon:"âœ‚ï¸",label:"Training",description:"LST, HST, topping, defoliation",color:"purple",placeholder:"Technique used, plant response..."},{id:"problem",icon:"âš ï¸",label:"Problem",description:"Issue or concern to document",color:"red",placeholder:"Describe the issue, affected areas..."},{id:"photo",icon:"ðŸ“¸",label:"Photo Log",description:"Visual documentation",color:"amber",placeholder:"What the photos show..."}],ce=["LST","HST","Topping","FIM","Defoliation","Lollipopping","Supercropping","Mainlining","SCROG"],pe={germinating:[{id:"taproot_visible",label:"Taproot emerged",tip:"White root tip breaking through shell"},{id:"shell_cracked",label:"Seed shell cracked",tip:"Shell is opening or removed"},{id:"cotyledons_open",label:"Cotyledons opening",tip:"First round leaves spreading"},{id:"proper_moisture",label:"Proper moisture level",tip:"Moist but not waterlogged"},{id:"no_mold",label:"No mold or rot",tip:"Check for fuzzy growth"}],seedling:[{id:"first_true_leaves",label:"First true leaves",tip:"Serrated cannabis leaves appearing"},{id:"healthy_color",label:"Healthy green color",tip:"No yellowing or pale spots"},{id:"stem_sturdy",label:"Stem is sturdy",tip:"Not stretching excessively"},{id:"root_tips_visible",label:"Roots at container edge",tip:"Healthy white root tips"},{id:"no_damping_off",label:"No damping off",tip:"Stem base is firm, not mushy"}],early_veg:[{id:"node_development",label:"New node developing",tip:"Active growth at top"},{id:"healthy_leaf_color",label:"Vibrant leaf color",tip:"Rich green without spots"},{id:"good_internode",label:"Tight internode spacing",tip:"Not stretching too much"},{id:"branching_started",label:"Side branching visible",tip:"Lower nodes producing branches"},{id:"ready_for_training",label:"Ready for training",tip:"Enough nodes (4+) for LST/topping"}],mid_veg:[{id:"vigorous_growth",label:"Vigorous daily growth",tip:"Visible changes day to day"},{id:"multiple_branches",label:"Multiple branches",tip:"Bush structure developing"},{id:"thick_stem",label:"Thick main stem",tip:"Can support future buds"},{id:"no_deficiencies",label:"No deficiency signs",tip:"Check lower leaves especially"},{id:"responding_to_training",label:"Responding to training",tip:"Even canopy forming"}],late_veg:[{id:"canopy_filled",label:"Canopy filling in",tip:"Good coverage across space"},{id:"healthy_lower_growth",label:"Healthy lower growth",tip:"Lower branches receiving light"},{id:"pre_flower_signs",label:"Pre-flower signs",tip:"Checking for sex"},{id:"root_bound_check",label:"Root bound check",tip:"May need transplant"},{id:"flip_ready",label:"Ready for flower flip",tip:"Reached target size"}],pre_flower:[{id:"sex_confirmed",label:"Sex confirmed",tip:"Pistils (female) or pollen sacs (male)"},{id:"stretch_started",label:"Stretch started",tip:"Rapid height increase"},{id:"preflowers_forming",label:"Preflowers forming",tip:"Small calyxes at nodes"},{id:"feeding_adjusted",label:"Bloom nutrients started",tip:"Transitioning feed schedule"},{id:"defoliation_done",label:"Pre-flower defoliation done",tip:"Larf and lower removed"}],early_flower:[{id:"pistils_visible",label:"White pistils abundant",tip:"Hair-like pistils at bud sites"},{id:"bud_sites_forming",label:"Bud sites forming",tip:"Clear cola structure"},{id:"stretch_continuing",label:"Stretch continuing",tip:"Still gaining height"},{id:"trichomes_starting",label:"Trichomes starting",tip:"Frosty appearance beginning"},{id:"no_nanners",label:"No hermie signs",tip:"Check for bananas/balls"}],mid_flower:[{id:"buds_swelling",label:"Buds swelling",tip:"Calyxes stacking and fattening"},{id:"trichomes_milky",label:"Trichomes developing",tip:"Becoming cloudy/milky"},{id:"pistils_changing",label:"Pistils curling/darkening",tip:"Orange/brown color starting"},{id:"aroma_strong",label:"Strong aroma",tip:"Terpene production in full swing"},{id:"no_bud_rot",label:"No bud rot",tip:"Check dense colas carefully"}],late_flower:[{id:"trichomes_checked",label:"Trichomes checked",tip:"Monitor for amber percentage"},{id:"pistils_mostly_dark",label:"Pistils 70%+ dark",tip:"Most pistils curled/brown"},{id:"buds_dense",label:"Buds dense and heavy",tip:"May need support"},{id:"foxtailing_check",label:"No excessive foxtailing",tip:"Watch for light/heat stress"},{id:"harvest_window_check",label:"Harvest window assessment",tip:"Days remaining estimate"}],flush:[{id:"flush_started",label:"Flush started",tip:"Plain water or flushing agent"},{id:"fan_leaves_yellowing",label:"Fan leaves yellowing",tip:"Natural fade beginning"},{id:"trichomes_monitored",label:"Trichomes monitored daily",tip:"Watching for target amber %"},{id:"harvest_date_set",label:"Harvest date planned",tip:"Based on trichome readiness"},{id:"drying_space_ready",label:"Drying space ready",tip:"Dark, 60Â°F/60% RH prepared"}],harvest:[{id:"plant_chopped",label:"Plant chopped",tip:"Cut at base or branch by branch"},{id:"wet_trim_done",label:"Wet trim completed",tip:"Fan leaves removed"},{id:"wet_weight_recorded",label:"Wet weight recorded",tip:"Document for yield calc"},{id:"hung_to_dry",label:"Hung to dry",tip:"Dark space, good airflow"},{id:"drying_conditions_set",label:"Drying conditions set",tip:"60Â°F temp, 60% humidity"}],drying:[{id:"rh_in_range",label:"Humidity in range",tip:"55-65% RH target"},{id:"temp_in_range",label:"Temperature in range",tip:"60-70Â°F target"},{id:"no_mold_forming",label:"No mold forming",tip:"Check daily for gray fuzz"},{id:"stem_snap_test",label:"Stem snap test",tip:"Small stems snap, not bend"},{id:"outer_dry",label:"Outer buds dry to touch",tip:"Not squishy or damp"}],curing:[{id:"jars_burped",label:"Jars burped",tip:"Daily first week, then less"},{id:"humidity_packs",label:"Humidity packs working",tip:"58-62% boveda or similar"},{id:"smell_developing",label:"Smell developing",tip:"Terpenes maturing"},{id:"no_ammonia_smell",label:"No ammonia smell",tip:"Would indicate too wet"},{id:"texture_check",label:"Texture check",tip:"Properly dried, not crispy"}]},ge=a(()=>{var e;return(null==(e=Z.value||oe.value)?void 0:e.status)||null}),ue=a(()=>ge.value&&pe[ge.value]||[]),xe=a(()=>ue.value.filter(e=>be.value.checklist[e.id]).length),ve=a(()=>0===ue.value.length?0:Math.round(xe.value/ue.value.length*100)),be=t({plant_id:(null==(u=h.plant)?void 0:u.id)||"",health_score:7,vigor_score:7,pest_issues:!1,disease_issues:!1,deficiency_issues:!1,height_cm:null,general_notes:"",checklist:{},activities:{general:{enabled:!1,notes:""},watering:{enabled:!1,notes:"",amount:"",ph:""},feeding:{enabled:!1,notes:"",nutrients:"",ec:""},training:{enabled:!1,notes:"",methods:[]},problem:{enabled:!1,notes:""},photo:{enabled:!1,notes:""}}});h.plant&&(be.value.plant_id=h.plant.id);const $e=t([]),ke=t(!1);St();const Se=a(()=>de.filter(e=>be.value.activities[e.id].enabled)),je=a(()=>{if(!F.value)return y.activePlants.slice(0,10);const e=F.value.toLowerCase();return y.activePlants.filter(t=>{var a,s;return t.plant_code.toLowerCase().includes(e)||(null==(a=t.strain_name)?void 0:a.toLowerCase().includes(e))||(null==(s=t.pheno_label)?void 0:s.toLowerCase().includes(e))}).slice(0,10)}),Pe=a(()=>1!==L.value||!!be.value.plant_id),Le=a(()=>be.value.pest_issues||be.value.disease_issues||be.value.deficiency_issues),Te=a(()=>{const e=[];return be.value.pest_issues&&e.push("Pests"),be.value.disease_issues&&e.push("Disease"),be.value.deficiency_issues&&e.push("Deficiency"),e.join(", ")});function A(e){var t;return(null==(t=sa[e])?void 0:t.icon)||"ðŸŒ±"}function Q(e){var t;return(null==(t=sa[e])?void 0:t.label)||e}function W(e){return e<=3?"bg-red-600 text-white":e<=5?"bg-yellow-600 text-white":e<=7?"bg-lime-600 text-white":"bg-spider-green-600 text-white"}function V(e){return e<=3?"text-red-400":e<=5?"text-yellow-400":e<=7?"text-lime-400":"text-spider-green-400"}return(e,t,a,s)=>{var u,h;t(`<div${z(n({class:"fixed top-0 right-0 bottom-0 left-0 desktop:left-[var(--sidebar-width,256px)] z-50 bg-gray-900 overflow-hidden flex flex-col"},s))}><div class="h-1 bg-gray-800"><div class="h-full bg-gradient-to-r from-blue-600 to-blue-400 transition-all duration-500" style="${te({width:`${d(ie)}%`})}"></div></div><div class="flex-shrink-0 border-b border-gray-800"><div class="max-w-4xl mx-auto px-6 py-4"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg shadow-blue-500/20">`),t(N(d(ye),{class:"w-6 h-6 text-white"},null,a)),t(`</div><div><h1 class="text-xl font-bold text-white">Log Observation</h1><p class="text-sm text-gray-400">Step ${B(d(se))} of ${B(ae)} â€” ${B(d(le))}</p></div></div><button class="p-3 rounded-xl hover:bg-gray-800 text-gray-400 hover:text-white transition-colors">`),t(N(d(me),{class:"w-6 h-6"},null,a)),t('</button></div></div></div><div class="flex-1 overflow-y-auto"><div class="max-w-4xl mx-auto px-6 py-8">'),1===d(L)?(t('\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Select a Plant</h2><p class="text-lg text-gray-400"> Choose the plant you&#39;re observing. Regular observations help you track progress and catch issues early. </p></div><div class="p-5 rounded-2xl bg-blue-500/10 border border-blue-500/30 mb-8"><div class="flex gap-4"><div class="w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0">'),t(N(d(we),{class:"w-5 h-5 text-blue-400"},null,a)),t('</div><div><h4 class="font-semibold text-blue-300 mb-1">Why Log Observations?</h4><p class="text-sm text-blue-300/80"> Daily or weekly observations create a timeline of your plant&#39;s health, growth, and any issues. This data helps you make better decisions, learn from past grows, and troubleshoot problems faster. </p></div></div></div><div class="space-y-6">'),d(oe)?(t(`<div class="p-6 rounded-2xl bg-blue-500/10 border border-blue-500/30"><div class="flex items-center gap-4"><div class="text-4xl">${B(A(d(oe).status))}</div><div class="flex-1"><p class="text-lg font-semibold text-white">${B(d(oe).plant_code)}</p><p class="text-sm text-gray-400">${B(d(oe).strain_name||"Unknown strain")} `),d(oe).current_day?t(`<span> Â· Day ${B(d(oe).current_day)}</span>`):t("\x3c!----\x3e"),d(oe).status?t(`<span> Â· ${B(Q(d(oe).status))}</span>`):t("\x3c!----\x3e"),t("</p></div>"),t(N(d(Ce),{class:"w-8 h-8 text-blue-400"},null,a)),t("</div></div>")):(t(`<div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">Your Active Plants</label><p class="text-sm text-gray-400 mb-4"> Select the plant you want to log an observation for. </p><input${Y("value",d(F))} type="text" placeholder="Search plants..." class="w-full px-5 py-4 bg-gray-700/50 border border-gray-600 rounded-xl text-white placeholder-gray-500 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-all mb-4">`),d(y).activePlants.length>0?(t('<div class="max-h-64 overflow-y-auto space-y-2">\x3c!--[--\x3e'),G(d(je),e=>{t(`<button class="${K(["w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-4",d(be).plant_id===e.id?"border-blue-500 bg-blue-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"><div class="text-3xl">${B(A(e.status))}</div><div class="flex-1 min-w-0"><p class="text-base font-semibold text-white truncate">${B(e.plant_code)}</p><p class="text-sm text-gray-400">${B(e.strain_name||"Unknown strain")} `),e.current_day?t(`<span> Â· Day ${B(e.current_day)}</span>`):t("\x3c!----\x3e"),t("</p></div>"),d(be).plant_id===e.id?t(N(d(Ce),{class:"w-6 h-6 text-blue-400 flex-shrink-0"},null,a)):t("\x3c!----\x3e"),t("</button>")}),t("\x3c!--]--\x3e</div>")):(t('<div class="text-center py-8"><div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-gray-700/50 flex items-center justify-center">'),t(N(d(re),{class:"w-8 h-8 text-gray-500"},null,a)),t('</div><p class="text-sm text-gray-400 mb-2">No active plants found</p><p class="text-xs text-gray-500">Create a plant first to log observations</p></div>')),t("</div>")),t('<div class="p-4 rounded-xl bg-amber-500/10 border border-amber-500/20"><div class="flex items-start gap-3">'),t(N(d(Ue),{class:"w-5 h-5 text-amber-400 flex-shrink-0 mt-0.5"},null,a)),t('<div><p class="text-sm text-amber-300 font-medium mb-1">Pro Tip: Consistent Timing</p><p class="text-xs text-amber-300/70"> Try to observe your plants at the same time each day (usually lights-on). This makes it easier to compare day-to-day changes and spot trends. </p></div></div></div></div>\x3c!--]--\x3e')):t("\x3c!----\x3e"),2===d(L)?(t('\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Health Assessment</h2><p class="text-lg text-gray-400"> Rate your plant&#39;s overall health and growth vigor. Check for any issues you&#39;ve noticed. </p></div><div class="p-5 rounded-2xl bg-teal-500/10 border border-teal-500/30 mb-8"><div class="flex gap-4"><div class="w-10 h-10 rounded-xl bg-teal-500/20 flex items-center justify-center flex-shrink-0">'),t(N(d(ne),{class:"w-5 h-5 text-teal-400"},null,a)),t(`</div><div><h4 class="font-semibold text-teal-300 mb-1">What to Look For</h4><p class="text-sm text-teal-300/80"> Check leaf color (should be vibrant green), new growth vigor, stem strength, and overall posture. A healthy plant is perky, with leaves reaching toward the light. </p></div></div></div><div class="space-y-6"><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2"> Overall Health Score <span class="${K([V(d(be).health_score),"text-2xl ml-2 font-bold"])}">${B(d(be).health_score)}/10 </span></label><p class="text-sm text-gray-400 mb-4"> How healthy does your plant look right now? Consider leaf color, posture, and overall appearance. </p><div class="flex gap-1 sm:gap-2">\x3c!--[--\x3e`),G(10,e=>{t(`<button class="${K(["flex-1 py-4 rounded-lg transition-all text-sm sm:text-base font-semibold",d(be).health_score>=e?W(e):"bg-gray-700/30 text-gray-500 hover:bg-gray-700/50"])}">${B(e)}</button>`)}),t(`\x3c!--]--\x3e</div><div class="flex justify-between text-xs text-gray-500 mt-2 px-1"><span>Poor / Critical</span><span>Average</span><span>Excellent</span></div><div class="mt-4 p-4 rounded-xl bg-gray-700/30 border border-gray-600/50"><h5 class="text-sm font-medium text-gray-300 mb-2">Health Score Guide:</h5><div class="grid grid-cols-2 gap-2 text-xs text-gray-400"><div><span class="text-red-400">1-3:</span> Severe issues, needs immediate attention</div><div><span class="text-yellow-400">4-5:</span> Some problems, monitor closely</div><div><span class="text-lime-400">6-7:</span> Good health, minor issues if any</div><div><span class="text-spider-green-400">8-10:</span> Excellent, thriving</div></div></div></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2"> Growth Vigor <span class="text-2xl ml-2 font-bold text-spider-green-400">${B(d(be).vigor_score)}/10</span></label><p class="text-sm text-gray-400 mb-4"> How fast and strong is new growth? Consider new leaves, stem thickness, and overall development pace. </p><div class="flex gap-1 sm:gap-2">\x3c!--[--\x3e`),G(10,e=>{t(`<button class="${K(["flex-1 py-4 rounded-lg transition-all text-sm sm:text-base font-semibold",d(be).vigor_score>=e?"bg-spider-green-600 text-white":"bg-gray-700/30 text-gray-500 hover:bg-gray-700/50"])}">${B(e)}</button>`)}),t(`\x3c!--]--\x3e</div><div class="flex justify-between text-xs text-gray-500 mt-2 px-1"><span>Slow / Stunted</span><span>Normal</span><span>Explosive</span></div></div><div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><label class="block text-lg font-semibold text-white mb-2">Issues Detected</label><p class="text-sm text-gray-400 mb-4"> Have you noticed any of these problems? Tap to mark if present. </p><div class="grid grid-cols-3 gap-4"><button class="${K(["p-5 rounded-xl border-2 transition-all text-center",d(be).pest_issues?"border-red-500 bg-red-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"><div class="text-3xl mb-2">ðŸ›</div><div class="${K(["text-sm font-medium",d(be).pest_issues?"text-red-300":"text-gray-400"])}">Pests</div><div class="text-[10px] text-gray-500 mt-1">Bugs, mites, etc.</div></button><button class="${K(["p-5 rounded-xl border-2 transition-all text-center",d(be).disease_issues?"border-red-500 bg-red-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"><div class="text-3xl mb-2">ðŸ¦ </div><div class="${K(["text-sm font-medium",d(be).disease_issues?"text-red-300":"text-gray-400"])}">Disease</div><div class="text-[10px] text-gray-500 mt-1">Mold, rot, spots</div></button><button class="${K(["p-5 rounded-xl border-2 transition-all text-center",d(be).deficiency_issues?"border-yellow-500 bg-yellow-500/20":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"><div class="text-3xl mb-2">ðŸ‚</div><div class="${K(["text-sm font-medium",d(be).deficiency_issues?"text-yellow-300":"text-gray-400"])}">Deficiency</div><div class="text-[10px] text-gray-500 mt-1">Yellowing, browning</div></button></div>`),d(be).pest_issues||d(be).disease_issues||d(be).deficiency_issues?t('<div class="mt-4 p-4 rounded-xl bg-red-500/10 border border-red-500/20"><h5 class="text-sm font-medium text-red-300 mb-2">Issue Detected!</h5><p class="text-xs text-red-300/70"> Make sure to document specifics in the notes section. Include which leaves/areas are affected and any patterns you notice. This helps track the issue and measure treatment effectiveness. </p></div>'):t("\x3c!----\x3e"),t("</div>"),d(ue).length>0?(t(`<div class="p-6 rounded-2xl bg-gray-800/50 border border-gray-700/50"><div class="flex items-center gap-3 mb-4"><div class="w-10 h-10 rounded-xl bg-gradient-to-br from-spider-green-500 to-emerald-600 flex items-center justify-center"><span class="text-lg">${B(A(d(ge)))}</span></div><div><label class="block text-lg font-semibold text-white">${B(Q(d(ge)))} Checklist</label><p class="text-sm text-gray-400">Key things to check at this stage</p></div></div><div class="space-y-2">\x3c!--[--\x3e`),G(d(ue),e=>{t(`<button class="${K(["w-full p-4 rounded-xl border-2 transition-all text-left flex items-center gap-4",d(be).checklist[e.id]?"border-spider-green-500 bg-spider-green-500/10":"border-gray-600 bg-gray-700/30 hover:border-gray-500"])}"><div class="${K(["w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all flex-shrink-0",d(be).checklist[e.id]?"border-spider-green-500 bg-spider-green-500":"border-gray-500"])}">`),d(be).checklist[e.id]?t(N(d(fe),{class:"w-4 h-4 text-white"},null,a)):t("\x3c!----\x3e"),t(`</div><div class="flex-1 min-w-0"><div class="${K(["font-medium",d(be).checklist[e.id]?"text-spider-green-300":"text-white"])}">${B(e.label)}</div>`),e.tip?t(`<div class="text-xs text-gray-500 mt-0.5">${B(e.tip)}</div>`):t("\x3c!----\x3e"),t("</div></button>")}),t(`\x3c!--]--\x3e</div><div class="mt-4 pt-4 border-t border-gray-700/50"><div class="flex items-center justify-between text-sm"><span class="text-gray-400">Checklist Progress</span><span class="${K(["font-medium",100===d(ve)?"text-spider-green-400":"text-gray-300"])}">${B(d(xe))}/${B(d(ue).length)} checked </span></div><div class="mt-2 h-2 bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-spider-green-600 to-emerald-500 transition-all duration-300" style="${te({width:`${d(ve)}%`})}"></div></div></div></div>`)):t("\x3c!----\x3e"),t("</div>\x3c!--]--\x3e")):t("\x3c!----\x3e"),3===d(L)?(t(`\x3c!--[--\x3e<div class="mb-8"><h2 class="text-3xl font-bold text-white mb-3">Activities &amp; Notes</h2><p class="text-lg text-gray-400"> What did you do today? Select all activities and add details for each. </p></div><div class="space-y-4"><div class="p-4 rounded-xl bg-gray-800/50 border border-gray-700/50"><div class="flex items-center gap-4"><div class="text-2xl">ðŸ“</div><div class="flex-1"><label class="block text-sm font-medium text-white">Plant Height</label><p class="text-xs text-gray-500">Measure from soil to highest point</p></div><div class="flex items-center gap-2"><input${Y("value",d(be).height_cm)} type="number" min="0" placeholder="--" class="w-20 px-3 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white text-center placeholder-gray-500 focus:border-blue-500 focus:outline-none"><span class="text-gray-400 text-sm">cm</span></div></div></div>\x3c!--[--\x3e`),G(de,e=>{var s;t(`<div class="${K(["rounded-xl border-2 transition-all overflow-hidden",d(be).activities[e.id].enabled?`border-${e.color}-500 bg-${e.color}-500/10`:"border-gray-700 bg-gray-800/50 hover:border-gray-600"])}"><button class="w-full p-4 flex items-center gap-4 text-left"><div class="${K(["w-12 h-12 rounded-xl flex items-center justify-center text-2xl transition-all",d(be).activities[e.id].enabled?`bg-${e.color}-500/30`:"bg-gray-700/50"])}">${B(e.icon)}</div><div class="flex-1"><div class="flex items-center gap-2"><span class="font-medium text-white">${B(e.label)}</span>`),d(be).activities[e.id].enabled?t(`<span class="${K(`text-${e.color}-400 text-xs`)}">âœ“ Added</span>`):t("\x3c!----\x3e"),t(`</div><p class="text-sm text-gray-400">${B(e.description)}</p></div><div class="${K(["w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all",d(be).activities[e.id].enabled?`border-${e.color}-500 bg-${e.color}-500`:"border-gray-600"])}">`),d(be).activities[e.id].enabled?t(N(d(fe),{class:"w-4 h-4 text-white"},null,a)):t("\x3c!----\x3e"),t("</div></button>"),d(be).activities[e.id].enabled?(t('<div class="px-4 pb-4 border-t border-gray-700/50"><div class="pt-4">'),"watering"===e.id?t(`<div class="grid grid-cols-2 gap-3 mb-3"><div><label class="block text-xs text-gray-400 mb-1">Amount (L)</label><input${Y("value",d(be).activities.watering.amount)} type="text" placeholder="e.g., 2.5" class="w-full px-3 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-500 focus:border-blue-500 focus:outline-none"></div><div><label class="block text-xs text-gray-400 mb-1">pH Level</label><input${Y("value",d(be).activities.watering.ph)} type="text" placeholder="e.g., 6.2" class="w-full px-3 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-500 focus:border-blue-500 focus:outline-none"></div></div>`):t("\x3c!----\x3e"),"feeding"===e.id?t(`<div class="grid grid-cols-2 gap-3 mb-3"><div><label class="block text-xs text-gray-400 mb-1">Nutrients Used</label><input${Y("value",d(be).activities.feeding.nutrients)} type="text" placeholder="e.g., BioBizz Grow" class="w-full px-3 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-500 focus:border-blue-500 focus:outline-none"></div><div><label class="block text-xs text-gray-400 mb-1">EC / PPM</label><input${Y("value",d(be).activities.feeding.ec)} type="text" placeholder="e.g., 1.2 EC" class="w-full px-3 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-500 focus:border-blue-500 focus:outline-none"></div></div>`):t("\x3c!----\x3e"),"training"===e.id?(t('<div class="mb-3"><label class="block text-xs text-gray-400 mb-2">Training Type</label><div class="flex flex-wrap gap-2">\x3c!--[--\x3e'),G(ce,e=>{t(`<button class="${K(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",d(be).activities.training.methods.includes(e)?"bg-purple-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"])}">${B(e)}</button>`)}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),"photo"===e.id?(t(`<div class="mb-3"><label class="block text-xs text-gray-400 mb-2">Upload Photos</label><label class="flex items-center justify-center gap-2 p-4 border-2 border-dashed border-gray-600 rounded-xl cursor-pointer hover:border-amber-500/50 hover:bg-amber-500/5 transition-all"><input type="file" accept="image/*" multiple class="hidden"${ee(d(ke))?" disabled":""}>`),d(ke)?t(N(d(Ae),{class:"w-6 h-6 text-amber-400 animate-spin"},null,a)):t(N(d(Ye),{class:"w-6 h-6 text-gray-400"},null,a)),t(`<span class="text-sm text-gray-400">${B(d(ke)?"Uploading...":"Click to add photos")}</span></label>`),d($e).length>0?(t('<div class="mt-3 grid grid-cols-3 gap-2">\x3c!--[--\x3e'),G(d($e),(e,s)=>{t(`<div class="relative aspect-square rounded-lg overflow-hidden bg-gray-700"><img${Y("src",e)} class="w-full h-full object-cover"><button class="absolute top-1 right-1 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-400 transition-colors">`),t(N(d(me),{class:"w-4 h-4 text-white"},null,a)),t("</button></div>")}),t("\x3c!--]--\x3e</div>")):t("\x3c!----\x3e"),t(`<p class="mt-2 text-xs text-gray-500"> Photos saved to /data/uploads/${B(null==(s=d(be).plant_id)?void 0:s.slice(0,8))}/ </p></div>`)):t("\x3c!----\x3e"),t(`<div><label class="block text-xs text-gray-400 mb-1">Notes</label><textarea rows="2"${Y("placeholder",e.placeholder)} class="w-full px-3 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-500 focus:border-blue-500 focus:outline-none resize-none">${B(d(be).activities[e.id].notes)}</textarea></div></div></div>`)):t("\x3c!----\x3e"),t("</div>")}),t(`\x3c!--]--\x3e<div class="p-4 rounded-xl bg-gray-800/50 border border-gray-700/50"><label class="block text-sm font-medium text-white mb-2">General Notes</label><textarea rows="3" placeholder="Any other observations or notes about this plant today..." class="w-full px-3 py-2 bg-gray-700/50 border border-gray-600 rounded-lg text-white text-sm placeholder-gray-500 focus:border-blue-500 focus:outline-none resize-none">${B(d(be).general_notes)}</textarea></div><div class="p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-blue-600/10 border border-blue-500/30"><h4 class="font-medium text-white mb-3 flex items-center gap-2">`),t(N(d(Ce),{class:"w-4 h-4 text-blue-400"},null,a)),t(` Summary </h4><div class="grid grid-cols-2 sm:grid-cols-4 gap-3 text-sm"><div><div class="text-xs text-gray-400">Plant</div><div class="text-white font-medium">${B((null==(u=d(Z))?void 0:u.plant_code)||(null==(h=d(oe))?void 0:h.plant_code)||"--")}</div></div><div><div class="text-xs text-gray-400">Health</div><div class="${K(["font-medium",V(d(be).health_score)])}">${B(d(be).health_score)}/10</div></div><div><div class="text-xs text-gray-400">Vigor</div><div class="text-spider-green-400 font-medium">${B(d(be).vigor_score)}/10</div></div><div><div class="text-xs text-gray-400">Height</div><div class="text-white">${B(d(be).height_cm?`${d(be).height_cm} cm`:"--")}</div></div></div>`),d(Se).length>0?(t('<div class="mt-3 pt-3 border-t border-gray-700/50"><div class="text-xs text-gray-400 mb-2">Activities Logged</div><div class="flex flex-wrap gap-2">\x3c!--[--\x3e'),G(d(Se),e=>{t(`<span class="${K(`px-2 py-1 rounded-lg text-xs bg-${e.color}-500/20 text-${e.color}-300`)}">${B(e.icon)} ${B(e.label)}</span>`)}),t("\x3c!--]--\x3e</div></div>")):t("\x3c!----\x3e"),d(Le)?t(`<div class="mt-3 pt-3 border-t border-gray-700/50"><div class="text-xs text-gray-400 mb-1">Issues Detected</div><div class="text-red-400 text-sm">${B(d(Te))}</div></div>`):t("\x3c!----\x3e"),d(ue).length>0?t(`<div class="mt-3 pt-3 border-t border-gray-700/50"><div class="text-xs text-gray-400 mb-1">${B(Q(d(ge)))} Checklist</div><div class="flex items-center gap-2"><div class="flex-1 h-1.5 bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-spider-green-500 transition-all" style="${te({width:`${d(ve)}%`})}"></div></div><span class="${K(["text-sm font-medium",100===d(ve)?"text-spider-green-400":"text-gray-400"])}">${B(d(xe))}/${B(d(ue).length)}</span></div></div>`):t("\x3c!----\x3e"),t("</div></div>\x3c!--]--\x3e")):t("\x3c!----\x3e"),t('</div></div><div class="flex-shrink-0 border-t border-gray-800 bg-gray-900/80 backdrop-blur-sm"><div class="max-w-4xl mx-auto px-6 py-4"><div class="flex items-center justify-between">'),d(L)>d(_)?(t('<button class="flex items-center gap-2 px-5 py-3 text-gray-400 hover:text-white transition-colors rounded-xl hover:bg-gray-800">'),t(N(d(De),{class:"w-5 h-5"},null,a)),t(" Back </button>")):t("<div></div>"),t('<div class="flex items-center gap-3"><button class="px-5 py-3 text-gray-400 hover:text-white transition-colors rounded-xl hover:bg-gray-800"> Cancel </button>'),d(L)<3?(t(`<button${ee(!d(Pe))?" disabled":""} class="${K(["flex items-center gap-2 px-6 py-3 rounded-xl font-semibold transition-all",d(Pe)?"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-500/20":"bg-gray-700 text-gray-500 cursor-not-allowed"])}"> Continue `),t(N(d(he),{class:"w-5 h-5"},null,a)),t("</button>")):(t(`<button${ee(d(O))?" disabled":""} class="flex items-center gap-2 px-6 py-3 rounded-xl font-semibold bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white transition-all shadow-lg shadow-blue-500/20 disabled:opacity-50 disabled:cursor-not-allowed">`),d(O)?t(N(d(Ae),{class:"w-5 h-5 animate-spin"},null,a)):t(N(d(fe),{class:"w-5 h-5"},null,a)),t(` ${B(d(O)?"Saving...":"Save Observation")}</button>`)),t("</div></div></div></div></div>")}}}),Xl=Zl.setup;Zl.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("components/lab/wizards/LabObservationWizard.vue"),Xl?Xl(e,t):void 0};const er=Object.assign(Zl,{__name:"LabObservationWizard"}),tr=e({__name:"laboratory",__ssrInlineRender:!0,setup(e){const y=ra(),_=t(!1),L=t(!1),O=t(!1),F=t(!1),te=t(!1),ae=t(!1),se=t(!1),$e=a(()=>y.plantIdForObservation&&y.plants.find(e=>e.id===y.plantIdForObservation)||null),ke=a(()=>!y.loading&&0===y.plants.length&&0===y.strains.length);function b({strainId:e,plantId:t}){F.value=!1,y.fetchDashboard(),y.activeTab="plants"}s(ke,e=>{e&&(F.value=!0)});const Se=[{id:"dashboard",label:"Dashboard",icon:pe,activeGradient:"from-spider-green-600 to-spider-green-500",activeShadow:"shadow-spider-green-500/30"},{id:"rooms",label:"Grow Rooms",icon:ge,activeGradient:"from-teal-600 to-cyan-500",activeShadow:"shadow-teal-500/30"},{id:"cameras",label:"Cameras",icon:ue,activeGradient:"from-cyan-600 to-teal-500",activeShadow:"shadow-cyan-500/30"},{id:"plants",label:"Plants",icon:xe,activeGradient:"from-green-600 to-emerald-500",activeShadow:"shadow-green-500/30"},{id:"strains",label:"Strains",icon:le,activeGradient:"from-purple-600 to-purple-500",activeShadow:"shadow-purple-500/30"},{id:"breeding",label:"Breeding",icon:ne,activeGradient:"from-pink-600 to-pink-500",activeShadow:"shadow-pink-500/30"},{id:"pheno",label:"Pheno Hunt",icon:ve,activeGradient:"from-amber-600 to-amber-500",activeShadow:"shadow-amber-500/30"},{id:"reports",label:"Reports",icon:be,activeGradient:"from-blue-600 to-blue-500",activeShadow:"shadow-blue-500/30"}];function i(e){y.fetchDashboard(),y.activeTab="plants"}function $(e){y.fetchStrains(),te.value}function R(e){y.fetchDashboard(),I()}function I(){se.value=!1,y.clearPlantForObservation()}function w(e){e?y.setCurrentPlantForObservation(e):y.clearPlantForObservation(),se.value=!0}function k(e){y.activeTab="plants",(null==e?void 0:e.id)&&y.fetchPlant(e.id)}function E(e){y.activeTab=e.tab,e.plantId&&y.fetchPlant(e.plantId),"observe"===e.action&&e.plantId?w(e.plantId):"add"===e.action&&"strains"===e.tab&&(ae.value=!0)}return a(()=>{const e=y.strains.length>0,t=y.activePlants.length>0;return[{id:"strain",label:"New Strain",hint:e?"Add to your catalog":"Add your first strain",icon:le,bgClass:"bg-gradient-to-br from-purple-500 to-purple-600",recommended:!e,disabled:!1},{id:"plant",label:"New Plant",hint:e?"Start from seed or clone":"Add a strain first",icon:re,bgClass:"bg-gradient-to-br from-green-500 to-emerald-600",recommended:e&&!t,disabled:!1},{id:"observation",label:"Observation",hint:t?"Log plant status":"Create a plant first",icon:ie,bgClass:"bg-gradient-to-br from-blue-500 to-blue-600",recommended:!1,disabled:!t},{id:"project",label:"Breeding",hint:"Plan a new cross",icon:ne,bgClass:"bg-gradient-to-br from-pink-500 to-pink-600",recommended:!1,disabled:!e}]}),(e,t,a,s)=>{const pe=oa,ge=Ha,ue=ys,xe=Fs,ve=el,be=vl,ke=jl,Ce=El,je=Vl,Pe=dl,De=Ql,Ae=er;t(`<div${z(n({class:"flex-1 min-h-0 flex flex-col overflow-hidden bg-gradient-to-br from-gray-900 via-gray-900 to-gray-800"},s))} data-v-e43fd05b>`),d(F)?t(N(pe,{onComplete:b,onSkip:e=>F.value=!1},null,a)):t("\x3c!----\x3e"),t('<div class="shrink-0 backdrop-blur-xl bg-gray-800/70 border-b border-gray-700/50" data-v-e43fd05b><div class="px-3 lg:px-6 py-3 lg:py-4" data-v-e43fd05b><div class="flex items-center justify-between mb-3 lg:mb-4" data-v-e43fd05b><div class="flex items-center gap-2 lg:gap-3" data-v-e43fd05b><div class="w-8 h-8 lg:w-10 lg:h-10 rounded-xl bg-gradient-to-br from-spider-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-spider-green-500/20" data-v-e43fd05b>'),t(N(d(ie),{class:"w-4 h-4 lg:w-5 lg:h-5 text-white"},null,a)),t('</div><div data-v-e43fd05b><h1 class="text-base lg:text-xl font-bold text-white" data-v-e43fd05b>Laboratory</h1><p class="text-[10px] lg:text-xs text-gray-400 hidden sm:block" data-v-e43fd05b>Plant Journal &amp; Pheno Hunting</p></div></div><div class="flex items-center gap-2" data-v-e43fd05b><button class="group relative flex items-center gap-1.5 px-3 py-2 rounded-xl bg-gradient-to-r from-spider-green-600 to-spider-green-500 hover:from-spider-green-500 hover:to-spider-green-400 text-white text-xs font-medium shadow-lg shadow-spider-green-500/25 transition-all duration-300 hover:shadow-spider-green-500/40 hover:scale-105" data-v-e43fd05b>'),t(N(d(oe),{class:"w-4 h-4"},null,a)),t('<span class="hidden sm:inline" data-v-e43fd05b>Quick Add</span>'),0===d(y).activePlants.length?t('<span class="absolute -top-1 -right-1 w-2.5 h-2.5 bg-yellow-400 rounded-full animate-pulse" data-v-e43fd05b></span>'):t("\x3c!----\x3e"),t('</button><button class="relative p-2 rounded-xl bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white transition-all" data-v-e43fd05b>'),t(N(d(de),{class:"w-5 h-5"},null,a)),d(y).unreadNotifications.length>0?t(`<span class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full text-[10px] font-bold flex items-center justify-center text-white" data-v-e43fd05b>${B(d(y).unreadNotifications.length>9?"9+":d(y).unreadNotifications.length)}</span>`):t("\x3c!----\x3e"),t('</button><button class="p-2 rounded-xl bg-gray-700/50 hover:bg-gray-600/50 text-gray-300 hover:text-white transition-all" data-v-e43fd05b>'),t(N(d(ce),{class:"w-5 h-5"},null,a)),t('</button></div></div><div class="flex gap-1 lg:gap-2 overflow-x-auto pb-1 scrollbar-hide" data-v-e43fd05b>\x3c!--[--\x3e'),G(Se,e=>{t(`<button${Y("data-tutorial",e.id+"-tab")} class="${K(["group flex items-center gap-1.5 lg:gap-2 px-3 lg:px-4 py-2 lg:py-2.5 rounded-xl text-xs lg:text-sm font-medium transition-all duration-300 whitespace-nowrap",d(y).activeTab===e.id?"bg-gradient-to-r shadow-lg text-white "+e.activeGradient+" "+e.activeShadow:"bg-gray-800/50 text-gray-400 hover:bg-gray-700/50 hover:text-gray-200"])}" data-v-e43fd05b>`),Z(t,u(h(e.icon),{class:["w-4 h-4 lg:w-5 lg:h-5 transition-transform duration-300",d(y).activeTab===e.id?"scale-110":"group-hover:scale-105"]},null),a),t(`<span data-v-e43fd05b>${B(e.label)}</span>`),"dashboard"===e.id&&d(y).urgentAlerts.length>0?t(`<span class="ml-1 w-5 h-5 bg-red-500 rounded-full text-[10px] flex items-center justify-center" data-v-e43fd05b>${B(d(y).urgentAlerts.length)}</span>`):t("\x3c!----\x3e"),t("</button>")}),t('\x3c!--]--\x3e</div></div></div><div class="flex-1 min-h-0 flex flex-col overflow-hidden" data-v-e43fd05b>'),d(y).loading?t('<div class="flex items-center justify-center h-64" data-v-e43fd05b><div class="flex flex-col items-center gap-3" data-v-e43fd05b><div class="w-10 h-10 border-2 border-spider-green-500 border-t-transparent rounded-full animate-spin" data-v-e43fd05b></div><span class="text-sm text-gray-400" data-v-e43fd05b>Loading laboratory...</span></div></div>'):(t("\x3c!--[--\x3e"),"dashboard"===d(y).activeTab?(t('<div class="flex-1 overflow-y-auto" data-v-e43fd05b>'),t(N(ge,{onOpenNewPlant:e=>te.value=!0,onOpenNewStrain:e=>ae.value=!0,onAddObservation:w,onOpenPlant:k},null,a)),t("</div>")):"plants"===d(y).activeTab?t(N(ue,{class:"flex-1",onOpenNewPlant:e=>te.value=!0,onAddObservation:w},null,a)):"rooms"===d(y).activeTab?(t('<div class="flex-1 overflow-y-auto" data-v-e43fd05b>'),t(N(xe,null,null,a)),t("</div>")):"cameras"===d(y).activeTab?(t('<div class="flex-1 overflow-y-auto" data-v-e43fd05b>'),t(N(ve,null,null,a)),t("</div>")):"strains"===d(y).activeTab?(t('<div class="flex-1 overflow-y-auto" data-v-e43fd05b>'),t(N(be,null,null,a)),t("</div>")):"breeding"===d(y).activeTab?(t('<div class="flex-1 overflow-y-auto" data-v-e43fd05b>'),t(N(ke,null,null,a)),t("</div>")):"pheno"===d(y).activeTab?(t('<div class="flex-1 overflow-y-auto" data-v-e43fd05b>'),t(N(Ce,null,null,a)),t("</div>")):"reports"===d(y).activeTab?(t('<div class="flex-1 overflow-y-auto" data-v-e43fd05b>'),t(N(je,{onNavigate:E},null,a)),t("</div>")):t("\x3c!----\x3e"),t("\x3c!--]--\x3e")),t("</div>"),X(t,e=>{d(_)?(e('<div class="fixed top-0 right-0 bottom-0 left-0 desktop:left-[var(--sidebar-width,256px)] z-50 bg-gray-900 overflow-hidden flex flex-col" data-v-e43fd05b><div class="flex-shrink-0 border-b border-gray-800" data-v-e43fd05b><div class="max-w-4xl mx-auto px-6 py-4" data-v-e43fd05b><div class="flex items-center justify-between" data-v-e43fd05b><div class="flex items-center gap-4" data-v-e43fd05b><div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-spider-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-spider-green-500/20" data-v-e43fd05b>'),e(N(d(re),{class:"w-6 h-6 text-white"},null,a)),e('</div><div data-v-e43fd05b><h1 class="text-xl font-bold text-white" data-v-e43fd05b>What would you like to do?</h1><p class="text-sm text-gray-400" data-v-e43fd05b>Choose an action to get started</p></div></div><button class="p-3 rounded-xl hover:bg-gray-800 text-gray-400 hover:text-white transition-colors" data-v-e43fd05b>'),e(N(d(me),{class:"w-6 h-6"},null,a)),e('</button></div></div></div><div class="flex-1 overflow-y-auto" data-v-e43fd05b><div class="max-w-4xl mx-auto px-6 py-8" data-v-e43fd05b>'),0===d(y).strains.length||0===d(y).activePlants.length?(e(`<div class="mb-8" data-v-e43fd05b><h2 class="text-lg font-semibold text-white mb-4" data-v-e43fd05b>Getting Started</h2><div class="flex items-center gap-4" data-v-e43fd05b><div class="flex-1" data-v-e43fd05b><div class="${K(["flex items-center gap-3 p-4 rounded-xl border-2 transition-all",0===d(y).strains.length?"border-purple-500 bg-purple-500/20":"border-spider-green-500 bg-spider-green-500/20"])}" data-v-e43fd05b><div class="${K(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg",0===d(y).strains.length?"bg-purple-500 text-white":"bg-spider-green-500 text-white"])}" data-v-e43fd05b>`),d(y).strains.length>0?e(N(d(fe),{class:"w-5 h-5"},null,a)):e("<span data-v-e43fd05b>1</span>"),e(`</div><div data-v-e43fd05b><p class="font-medium text-white" data-v-e43fd05b>Add a Strain</p><p class="text-xs text-gray-400" data-v-e43fd05b>${B(d(y).strains.length>0?`${d(y).strains.length} strain(s) in catalog`:"Your genetics catalog")}</p></div></div></div>`),e(N(d(he),{class:"w-6 h-6 text-gray-600 flex-shrink-0"},null,a)),e(`<div class="flex-1" data-v-e43fd05b><div class="${K(["flex items-center gap-3 p-4 rounded-xl border-2 transition-all",d(y).strains.length>0&&0===d(y).activePlants.length||d(y).activePlants.length>0?"border-spider-green-500 bg-spider-green-500/20":"border-gray-700 bg-gray-800/50"])}" data-v-e43fd05b><div class="${K(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg",d(y).activePlants.length>0||d(y).strains.length>0?"bg-spider-green-500 text-white":"bg-gray-700 text-gray-400"])}" data-v-e43fd05b>`),d(y).activePlants.length>0?e(N(d(fe),{class:"w-5 h-5"},null,a)):e("<span data-v-e43fd05b>2</span>"),e(`</div><div data-v-e43fd05b><p class="${K(["font-medium",d(y).strains.length>0?"text-white":"text-gray-500"])}" data-v-e43fd05b>Create a Plant</p><p class="text-xs text-gray-400" data-v-e43fd05b>${B(d(y).activePlants.length>0?`${d(y).activePlants.length} active plant(s)`:"Start tracking growth")}</p></div></div></div>`),e(N(d(he),{class:"w-6 h-6 text-gray-600 flex-shrink-0"},null,a)),e(`<div class="flex-1" data-v-e43fd05b><div class="${K(["flex items-center gap-3 p-4 rounded-xl border-2 transition-all",d(y).activePlants.length>0?"border-blue-500 bg-blue-500/20":"border-gray-700 bg-gray-800/50"])}" data-v-e43fd05b><div class="${K(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg",d(y).activePlants.length>0?"bg-blue-500 text-white":"bg-gray-700 text-gray-400"])}" data-v-e43fd05b> 3 </div><div data-v-e43fd05b><p class="${K(["font-medium",d(y).activePlants.length>0?"text-white":"text-gray-500"])}" data-v-e43fd05b>Log Observations</p><p class="text-xs text-gray-400" data-v-e43fd05b>Track health &amp; progress</p></div></div></div></div></div>`)):e("\x3c!----\x3e"),e(`<div class="mb-8" data-v-e43fd05b><h2 class="text-lg font-semibold text-white mb-4" data-v-e43fd05b>Available Actions</h2><div class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-v-e43fd05b><button class="${K(["relative group p-6 rounded-2xl border-2 transition-all text-left",0===d(y).strains.length?"border-purple-500 bg-gradient-to-br from-purple-500/20 to-purple-600/20 hover:border-purple-400":"border-gray-700 bg-gray-800/50 hover:border-gray-600 hover:bg-gray-800"])}" data-v-e43fd05b><div class="flex items-start gap-4" data-v-e43fd05b><div class="w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center shadow-lg shadow-purple-500/20 group-hover:scale-110 transition-transform" data-v-e43fd05b>`),e(N(d(le),{class:"w-7 h-7 text-white"},null,a)),e('</div><div class="flex-1" data-v-e43fd05b><div class="flex items-center gap-2 mb-1" data-v-e43fd05b><h3 class="text-lg font-semibold text-white" data-v-e43fd05b>Add New Strain</h3>'),0===d(y).strains.length?e('<span class="px-2 py-0.5 bg-purple-500 text-white text-[10px] font-bold rounded-full" data-v-e43fd05b> START HERE </span>'):e("\x3c!----\x3e"),e('</div><p class="text-sm text-gray-400 mb-3" data-v-e43fd05b> Add a genetic variety to your catalog. Track breeder info, genetics, flowering times, and seed inventory. </p><div class="flex items-center gap-4 text-xs text-gray-500" data-v-e43fd05b><span class="flex items-center gap-1" data-v-e43fd05b>'),e(N(d(le),{class:"w-4 h-4"},null,a)),e(` ${B(d(y).strains.length)} in catalog </span></div></div></div></button><button class="${K(["relative group p-6 rounded-2xl border-2 transition-all text-left",d(y).strains.length>0&&0===d(y).activePlants.length?"border-spider-green-500 bg-gradient-to-br from-spider-green-500/20 to-emerald-600/20 hover:border-spider-green-400":"border-gray-700 bg-gray-800/50 hover:border-gray-600 hover:bg-gray-800"])}" data-v-e43fd05b><div class="flex items-start gap-4" data-v-e43fd05b><div class="w-14 h-14 rounded-xl bg-gradient-to-br from-spider-green-500 to-emerald-600 flex items-center justify-center shadow-lg shadow-spider-green-500/20 group-hover:scale-110 transition-transform" data-v-e43fd05b>`),e(N(d(re),{class:"w-7 h-7 text-white"},null,a)),e('</div><div class="flex-1" data-v-e43fd05b><div class="flex items-center gap-2 mb-1" data-v-e43fd05b><h3 class="text-lg font-semibold text-white" data-v-e43fd05b>Create New Plant</h3>'),d(y).strains.length>0&&0===d(y).activePlants.length?e('<span class="px-2 py-0.5 bg-spider-green-500 text-white text-[10px] font-bold rounded-full" data-v-e43fd05b> NEXT STEP </span>'):e("\x3c!----\x3e"),e('</div><p class="text-sm text-gray-400 mb-3" data-v-e43fd05b> Start tracking a new plant from seed or clone. Monitor growth stages, log observations, and record data. </p><div class="flex items-center gap-4 text-xs text-gray-500" data-v-e43fd05b><span class="flex items-center gap-1" data-v-e43fd05b>'),e(N(d(ie),{class:"w-4 h-4"},null,a)),e(` ${B(d(y).activePlants.length)} active </span></div></div></div></button><button${ee(0===d(y).activePlants.length)?" disabled":""} class="${K(["relative group p-6 rounded-2xl border-2 transition-all text-left",0===d(y).activePlants.length?"border-gray-700 bg-gray-800/30 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-800/50 hover:border-blue-500 hover:bg-blue-500/10"])}" data-v-e43fd05b><div class="flex items-start gap-4" data-v-e43fd05b><div class="${K(["w-14 h-14 rounded-xl flex items-center justify-center shadow-lg transition-transform",0===d(y).activePlants.length?"bg-gray-700":"bg-gradient-to-br from-blue-500 to-blue-600 shadow-blue-500/20 group-hover:scale-110"])}" data-v-e43fd05b>`),e(N(d(ye),{class:"w-7 h-7 text-white"},null,a)),e('</div><div class="flex-1" data-v-e43fd05b><h3 class="text-lg font-semibold text-white mb-1" data-v-e43fd05b>Log Observation</h3><p class="text-sm text-gray-400 mb-3" data-v-e43fd05b> Record plant health, growth metrics, and notes. Capture environment data automatically with each observation. </p>'),0===d(y).activePlants.length?e('<div class="text-xs text-amber-400" data-v-e43fd05b> âš ï¸ Create a plant first to log observations </div>'):e('<div class="text-xs text-gray-500" data-v-e43fd05b> Track health scores, height, and issues </div>'),e(`</div></div></button><button${ee(0===d(y).strains.length)?" disabled":""} class="${K(["relative group p-6 rounded-2xl border-2 transition-all text-left",0===d(y).strains.length?"border-gray-700 bg-gray-800/30 opacity-50 cursor-not-allowed":"border-gray-700 bg-gray-800/50 hover:border-pink-500 hover:bg-pink-500/10"])}" data-v-e43fd05b><div class="flex items-start gap-4" data-v-e43fd05b><div class="${K(["w-14 h-14 rounded-xl flex items-center justify-center shadow-lg transition-transform",0===d(y).strains.length?"bg-gray-700":"bg-gradient-to-br from-pink-500 to-pink-600 shadow-pink-500/20 group-hover:scale-110"])}" data-v-e43fd05b>`),e(N(d(ne),{class:"w-7 h-7 text-white"},null,a)),e('</div><div class="flex-1" data-v-e43fd05b><h3 class="text-lg font-semibold text-white mb-1" data-v-e43fd05b>Start Breeding Project</h3><p class="text-sm text-gray-400 mb-3" data-v-e43fd05b> Plan and track breeding crosses. Document pollen collection, pollination, and seed development. </p>'),0===d(y).strains.length?e('<div class="text-xs text-amber-400" data-v-e43fd05b> âš ï¸ Add strains first to start breeding </div>'):e('<div class="text-xs text-gray-500" data-v-e43fd05b> Create new genetics through selective breeding </div>'),e('</div></div></button></div></div><div class="p-6 rounded-2xl bg-gradient-to-br from-spider-green-500/10 to-emerald-600/10 border border-spider-green-500/30" data-v-e43fd05b><div class="flex items-start gap-4" data-v-e43fd05b><div class="w-12 h-12 rounded-xl bg-spider-green-500/20 flex items-center justify-center flex-shrink-0" data-v-e43fd05b>'),e(N(d(we),{class:"w-6 h-6 text-spider-green-400"},null,a)),e('</div><div data-v-e43fd05b><h3 class="text-lg font-semibold text-white mb-2" data-v-e43fd05b>How the Laboratory Works</h3><div class="space-y-3 text-sm text-gray-300" data-v-e43fd05b><p data-v-e43fd05b><strong class="text-spider-green-400" data-v-e43fd05b>1. Strains</strong> are your genetics catalog â€” the varieties you grow. Track breeder info, genetics (Indica/Sativa ratio), flowering times, and seed inventory. </p><p data-v-e43fd05b><strong class="text-spider-green-400" data-v-e43fd05b>2. Plants</strong> are individual specimens you&#39;re currently growing. Each plant has a lifecycle from germination/clone through harvest. You can track multiple plants of the same strain. </p><p data-v-e43fd05b><strong class="text-spider-green-400" data-v-e43fd05b>3. Observations</strong> are your grow journal entries. Log health scores, measurements, and notes regularly. Environment data (temp, humidity, VPD) is captured automatically. </p><p data-v-e43fd05b><strong class="text-spider-green-400" data-v-e43fd05b>4. Breeding Projects</strong> let you plan and track crosses between strains. Document the entire process from pollination to seed development. </p></div></div></div></div></div></div><div class="flex-shrink-0 border-t border-gray-800 bg-gray-900/80 backdrop-blur-sm" data-v-e43fd05b><div class="max-w-4xl mx-auto px-6 py-4" data-v-e43fd05b><div class="flex items-center justify-between" data-v-e43fd05b><div class="text-sm text-gray-400" data-v-e43fd05b>'),0===d(y).strains.length?e("\x3c!--[--\x3e Start by adding your first strain to the catalog \x3c!--]--\x3e"):0===d(y).activePlants.length?e(`\x3c!--[--\x3e You have ${B(d(y).strains.length)} strain(s). Create your first plant to start tracking! \x3c!--]--\x3e`):e(`\x3c!--[--\x3e You have ${B(d(y).activePlants.length)} active plant(s). Keep logging observations! \x3c!--]--\x3e`),e('</div><button class="px-5 py-2.5 rounded-xl bg-gray-700 hover:bg-gray-600 text-white font-medium transition-colors" data-v-e43fd05b> Close </button></div></div></div></div>')):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{d(L)?(e('<div class="fixed top-16 right-4 z-50 w-80 max-h-96 bg-gray-800/95 backdrop-blur-xl rounded-2xl border border-gray-700/50 shadow-2xl overflow-hidden" data-v-e43fd05b><div class="p-3 border-b border-gray-700/50 flex items-center justify-between" data-v-e43fd05b><span class="text-sm font-medium text-white" data-v-e43fd05b>Notifications</span><button class="text-xs text-spider-green-400 hover:text-spider-green-300" data-v-e43fd05b> Mark all read </button></div><div class="max-h-72 overflow-y-auto" data-v-e43fd05b>'),0===d(y).notifications.length?e('<div class="p-6 text-center text-gray-500 text-sm" data-v-e43fd05b> No notifications yet </div>'):(e('<div class="divide-y divide-gray-700/30" data-v-e43fd05b>\x3c!--[--\x3e'),G(d(y).notifications.slice(0,10),t=>{e(`<div class="${K(["p-3 hover:bg-gray-700/30 transition-colors cursor-pointer",!t.acknowledged&&"bg-gray-700/20"])}" data-v-e43fd05b><div class="flex items-start gap-2" data-v-e43fd05b><div class="${K(["w-2 h-2 rounded-full mt-1.5 shrink-0","urgent"===t.level?"bg-red-500":"important"===t.level?"bg-yellow-500":"reminder"===t.level?"bg-blue-500":"bg-gray-500"])}" data-v-e43fd05b></div><div class="flex-1 min-w-0" data-v-e43fd05b><p class="text-sm text-gray-200 font-medium truncate" data-v-e43fd05b>${B(t.title)}</p><p class="text-xs text-gray-400 truncate" data-v-e43fd05b>${B(t.message)}</p><p class="text-[10px] text-gray-500 mt-1" data-v-e43fd05b>${B(function(e){const t=new Date,a=new Date(e),s=t.getTime()-a.getTime(),n=Math.floor(s/6e4);if(n<1)return"Just now";if(n<60)return`${n}m ago`;const d=Math.floor(n/60);if(d<24)return`${d}h ago`;const u=Math.floor(d/24);return u<7?`${u}d ago`:a.toLocaleDateString()}(t.timestamp))}</p></div></div></div>`)}),e("\x3c!--]--\x3e</div>")),e("</div></div>")):e("\x3c!----\x3e")},"body",!1,a),d(L)?t('<div class="fixed inset-0 z-40" data-v-e43fd05b></div>'):t("\x3c!----\x3e"),X(t,e=>{d(ae)?e(N(Pe,{onClose:e=>ae.value=!1,onCreated:$},null,a)):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{d(te)?e(N(De,{onClose:e=>te.value=!1,onCreated:i,onOpenStrainWizard:e=>ae.value=!0},null,a)):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{d(se)?e(N(Ae,{plant:d($e),onClose:I,onCreated:R},null,a)):e("\x3c!----\x3e")},"body",!1,a),X(t,e=>{d(O)?(e('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70" data-v-e43fd05b><div class="w-full max-w-md max-h-[85vh] flex flex-col bg-gray-900 rounded-2xl shadow-2xl border border-gray-800 overflow-hidden" data-v-e43fd05b><div class="flex items-center justify-between px-6 py-4 border-b border-gray-800 shrink-0" data-v-e43fd05b><div class="flex items-center gap-3" data-v-e43fd05b><div class="w-10 h-10 rounded-lg bg-spider-green-500/20 flex items-center justify-center" data-v-e43fd05b>'),e(N(d(ce),{class:"w-5 h-5 text-spider-green-400"},null,a)),e('</div><h2 class="text-lg font-semibold text-white" data-v-e43fd05b>Lab Settings</h2></div><button class="p-2 rounded-lg hover:bg-gray-800 text-gray-400 hover:text-white transition-colors" data-v-e43fd05b>'),e(N(d(me),{class:"w-5 h-5"},null,a)),e('</button></div><div class="p-6 space-y-6 overflow-y-auto flex-1" data-v-e43fd05b><div data-v-e43fd05b><h3 class="text-sm font-medium text-gray-300 mb-3" data-v-e43fd05b>Observation Reminders</h3><div class="space-y-3" data-v-e43fd05b><label class="flex items-center justify-between p-3 rounded-lg bg-gray-800/50" data-v-e43fd05b><span class="text-sm text-gray-300" data-v-e43fd05b>Remind to log observations</span><input type="checkbox" checked class="w-5 h-5 rounded border-gray-600 bg-gray-700 text-spider-green-500 focus:ring-spider-green-500" data-v-e43fd05b></label><div class="p-3 rounded-lg bg-gray-800/50" data-v-e43fd05b><div class="flex items-center justify-between mb-2" data-v-e43fd05b><span class="text-sm text-gray-300" data-v-e43fd05b>Reminder frequency</span><span class="text-sm text-spider-green-400" data-v-e43fd05b>Every 3 days</span></div><input type="range" min="1" max="7" value="3" class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-spider-green-500" data-v-e43fd05b></div></div></div><div data-v-e43fd05b><h3 class="text-sm font-medium text-gray-300 mb-3" data-v-e43fd05b>Display Preferences</h3><div class="space-y-3" data-v-e43fd05b><div class="p-3 rounded-lg bg-gray-800/50" data-v-e43fd05b><label class="flex items-center justify-between" data-v-e43fd05b><span class="text-sm text-gray-300" data-v-e43fd05b>Default plants view</span><select class="bg-gray-700 border-0 rounded-lg text-sm text-white px-3 py-1.5 focus:ring-spider-green-500" data-v-e43fd05b><option value="cards" data-v-e43fd05b>Cards</option><option value="list" data-v-e43fd05b>List</option></select></label></div><label class="flex items-center justify-between p-3 rounded-lg bg-gray-800/50" data-v-e43fd05b><span class="text-sm text-gray-300" data-v-e43fd05b>Show archived plants</span><input type="checkbox" class="w-5 h-5 rounded border-gray-600 bg-gray-700 text-spider-green-500 focus:ring-spider-green-500" data-v-e43fd05b></label></div></div><div data-v-e43fd05b><h3 class="text-sm font-medium text-gray-300 mb-3" data-v-e43fd05b>Scoring</h3><div class="p-3 rounded-lg bg-gray-800/50" data-v-e43fd05b><label class="flex items-center justify-between" data-v-e43fd05b><span class="text-sm text-gray-300" data-v-e43fd05b>Default scoring profile</span><select class="bg-gray-700 border-0 rounded-lg text-sm text-white px-3 py-1.5 focus:ring-spider-green-500" data-v-e43fd05b><option value="standard" data-v-e43fd05b>Standard</option><option value="commercial" data-v-e43fd05b>Commercial</option><option value="breeder" data-v-e43fd05b>Breeder</option><option value="connoisseur" data-v-e43fd05b>Connoisseur</option></select></label></div></div><p class="text-xs text-gray-500 text-center" data-v-e43fd05b> Settings are saved automatically </p></div><div class="px-6 py-4 border-t border-gray-800 bg-gray-900/50" data-v-e43fd05b><button class="w-full px-4 py-2.5 rounded-lg bg-spider-green-600 hover:bg-spider-green-500 text-white font-medium transition-colors" data-v-e43fd05b> Done </button></div></div></div>')):e("\x3c!----\x3e")},"body",!1,a),t("</div>")}}}),ar=tr.setup;tr.setup=(e,t)=>{const a=F();return(a.modules||(a.modules=new Set)).add("pages/laboratory.vue"),ar?ar(e,t):void 0};const sr=Ct(tr,[["__scopeId","data-v-e43fd05b"]]);export{sr as default};
