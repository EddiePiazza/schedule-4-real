import{d as t,e as o,b as r}from"../../../nitro/nitro.mjs";import{existsSync as e,readFileSync as m}from"fs";import{resolve as p}from"path";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs/promises";import"node:url";const n={privateMode:!1,remoteEnabled:!1,remoteHost:"",remotePort:1884},i=t(async t=>{var i,s,l,a;const d=process.env.APP_PASSWORD||"",u=o(t,"x-auth-token")||"",f=!d||u===d;try{const t=p(r(),"proxy/proxy-config.json");let o={};if(e(t)){const r=m(t,"utf-8");o=JSON.parse(r)}return{privateMode:null!=(i=o.privateMode)?i:n.privateMode,remoteEnabled:null!=(s=o.remoteEnabled)?s:n.remoteEnabled,remoteHost:f?null!=(l=o.remoteHost)?l:n.remoteHost:"",remotePort:f?null!=(a=o.remotePort)?a:n.remotePort:null}}catch(t){return{...n,remoteHost:f?n.remoteHost:"",remotePort:f?n.remotePort:null}}});export{i as default};
