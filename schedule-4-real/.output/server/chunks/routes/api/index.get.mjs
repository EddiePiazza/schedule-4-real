import{d as t,e as o}from"../../nitro/nitro.mjs";import{l as r}from"../../_/cameras.mjs";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"path";import"fs/promises";import"node:url";import"../../_/db.mjs";import"pg";const p=t(async t=>{const p=await r(),i=o(t,"x-auth-token"),m=process.env.APP_PASSWORD,s=!m||i===m;let e=!1;try{const t=await fetch("http://127.0.0.1:1985/status");if(t.ok){e=(await t.json()).running}}catch{}return{cameras:p.map(t=>({...t,password:s?t.password:t.password?"••••••":""})),go2rtcRunning:e}});export{p as default};
