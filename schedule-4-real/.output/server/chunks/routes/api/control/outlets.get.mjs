import{d as t}from"../../../nitro/nitro.mjs";import{query as o}from"../../../_/db.mjs";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"path";import"fs/promises";import"node:url";import"pg";const e=t(async()=>{try{const t=await o("\n      SELECT\n        outlet,\n        mode_type,\n        is_on,\n        timestamp\n      FROM outlet_states\n      LATEST BY outlet\n    "),e={O1:{modeType:0,mOnOff:0,isOn:!1},O2:{modeType:0,mOnOff:0,isOn:!1},O3:{modeType:0,mOnOff:0,isOn:!1},O4:{modeType:0,mOnOff:0,isOn:!1},O5:{modeType:0,mOnOff:0,isOn:!1}};for(const o of t){const t=o.outlet;e[t]&&(e[t]={modeType:o.mode_type||0,mOnOff:o.is_on||0,isOn:1===o.is_on})}return e}catch(t){return console.error("Failed to fetch outlet states:",t),{O1:{modeType:0,mOnOff:0,isOn:!1},O2:{modeType:0,mOnOff:0,isOn:!1},O3:{modeType:0,mOnOff:0,isOn:!1},O4:{modeType:0,mOnOff:0,isOn:!1},O5:{modeType:0,mOnOff:0,isOn:!1}}}});export{e as default};
