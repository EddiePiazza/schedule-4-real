import{d as t,r as o,c as r}from"../../../nitro/nitro.mjs";import{createConnection as e}from"net";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"path";import"fs/promises";import"node:url";const s=t(async t=>{const s=await o(t);if(!s.host||!s.port)throw r({statusCode:400,message:"host and port are required"});const p=String(s.host),i=parseInt(s.port)||554;return await new Promise(t=>{const o=e({host:p,port:i,timeout:5e3});o.on("connect",()=>{o.destroy(),t({success:!0,message:`Connected to ${p}:${i}`})}),o.on("timeout",()=>{o.destroy(),t({success:!1,message:`Timeout connecting to ${p}:${i}`})}),o.on("error",r=>{o.destroy(),t({success:!1,message:`Cannot reach ${p}:${i} â€” ${r.message}`})})})});export{s as default};
