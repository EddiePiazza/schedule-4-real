import{d as t,a as o,c as r,b as p}from"../../../nitro/nitro.mjs";import{readFile as e}from"fs/promises";import{join as m}from"path";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"node:url";const i=t(async t=>{const{roomId:i}=o(t);if(!i||"string"!=typeof i)throw r({statusCode:400,message:"roomId query parameter required"});const s=i.replace(/[^a-zA-Z0-9._-]/g,""),a=m(p(),"data","room3d","ducts",`${s}.json`);try{const t=await e(a,"utf-8");return JSON.parse(t)}catch{return[]}});export{i as default};
