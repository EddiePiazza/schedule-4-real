import{d as t}from"../../../nitro/nitro.mjs";import{readdir as o,stat as i}from"fs/promises";import{extname as r,join as e}from"path";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"node:url";const p=e(process.cwd(),"data","room3d","display-images"),m=new Set([".jpg",".jpeg",".png",".gif",".webp",".svg",".mp4",".webm"]),s=t(async()=>{try{const t=await o(p).catch(()=>[]),s=[];for(const o of t){const t=r(o).toLowerCase();if(!m.has(t))continue;const n=await i(e(p,o)).catch(()=>null);if(!n||!n.isFile())continue;const a=".mp4"===t||".webm"===t;s.push({name:o,path:`/room3d-display-images/${o}`,size:n.size,modified:n.mtimeMs,type:a?"video":"image"})}return s.sort((t,o)=>o.modified-t.modified),s}catch{return[]}});export{s as default};
