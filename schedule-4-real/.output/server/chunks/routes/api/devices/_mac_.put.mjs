import{d as t,g as o,r,c as i}from"../../../nitro/nitro.mjs";import{h as e,i as m}from"../../../_/mqtt.mjs";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"path";import"fs/promises";import"node:url";import"mqtt";import"child_process";const s=t(async t=>{const s=o(t,"mac"),p=await r(t);if(!s)throw i({statusCode:400,message:"MAC address is required"});if(!e(s))throw i({statusCode:404,message:"Device not found"});if(void 0!==p.customName){if(!await m(s,p.customName))throw i({statusCode:500,message:"Failed to update device name"})}return e(s)});export{s as default};
