import{d as t}from"../../../nitro/nitro.mjs";import{query as o}from"../../../_/db.mjs";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"path";import"fs/promises";import"node:url";import"pg";const r=t(async()=>{var t;try{const r=null==(t=(await o("\n      SELECT min(timestamp) as oldest\n      FROM sensors_environment\n    "))[0])?void 0:t.oldest;if(!r)return{oldestTimestamp:null};let e=r;return r instanceof Date?e=r.toISOString():"string"!=typeof r||r.endsWith("Z")||(e=r.replace(" ","T")+"Z"),{oldestTimestamp:e}}catch(t){return console.error("Failed to fetch oldest timestamp:",t),{oldestTimestamp:null}}});export{r as default};
