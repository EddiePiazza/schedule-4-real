import{d as t}from"../../../nitro/nitro.mjs";import{e as o,r}from"../../../_/mqtt.mjs";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"path";import"fs/promises";import"node:url";import"mqtt";import"child_process";const m=t(async()=>{var t;try{let m=o();if(!m||Date.now()-m.timestamp>7e3){m={data:await r(),timestamp:Date.now()}}if(!(null==(t=null==m?void 0:m.data)?void 0:t.sensor))return null;const p=m.data.sensor;return{temp:p.temp,humi:p.humi,co2:p.co2,vpd:p.vpd,timestamp:new Date(m.timestamp).toISOString()}}catch{return null}});export{m as default};
