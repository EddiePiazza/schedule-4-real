import{d as t}from"../../nitro/nitro.mjs";import{query as r}from"../../_/db.mjs";import"node:http";import"node:https";import"node:crypto";import"stream";import"events";import"http";import"crypto";import"buffer";import"zlib";import"https";import"net";import"tls";import"url";import"node:events";import"node:buffer";import"node:fs";import"node:path";import"fs";import"path";import"fs/promises";import"node:url";import"pg";const o=t(async()=>{try{const t=await r("\n      SELECT sensor_id, sensor_type, name, plant_id\n      FROM sensor_names\n      LATEST ON timestamp PARTITION BY sensor_id\n    "),o={};if(t&&Array.isArray(t))for(const r of t)r.sensor_id&&(o[r.sensor_id]={name:r.name||"",type:r.sensor_type||"soil",plantId:r.plant_id||null});return o}catch(t){return console.error("Error fetching sensor names:",t.message),{}}});export{o as default};
