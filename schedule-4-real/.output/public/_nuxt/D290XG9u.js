import{r as st}from"./B8TGuxfW.js";import{r as _e}from"./hOqM0b8m.js";import{o as l,c as u,a as e,e as de,b as y,h as t,n as p,f as h,t as x,m as E,F as U,r as H,l as R,g as Oe,A as ce,d as T,i as we,v as he,k as Be,x as B,B as Ce,J as rt,V as ot,w as Ve,E as lt}from"./Dm1c8T6h.js";import{_ as at}from"./XuYGbhuX.js";import{r as it}from"./lMt5qvCd.js";import{u as We}from"./D3jxgPRk.js";import{u as Ue,a as He,b as Je,c as dt,d as ut}from"./BR5z2g0t.js";import{u as Re}from"./DeiPRuvv.js";import{r as xe}from"./Q9zZ11dG.js";import{r as fe}from"./CL-VX7OY.js";import{r as be,a as Pe,b as ke}from"./DYHgIF6v.js";import{r as Ze}from"./Dn_JFOAf.js";import{r as gt}from"./DTkLnB22.js";import{a as De,r as Ee}from"./C2Nmslf7.js";import{r as Ne}from"./BUCpgcpa.js";import{r as Se}from"./MbCQMp3e.js";import{r as pt}from"./DyY7l2Fq.js";import{r as mt}from"./sKASdApB.js";import{r as je}from"./BnxpdyHX.js";import{r as ct}from"./B1lqwx3_.js";import{r as ze}from"./BJRf6WTn.js";import{u as xt}from"./BuJKeRke.js";import{u as bt}from"./DoL-oyac.js";import{u as ft}from"./B1VvJO48.js";import{r as pe}from"./KSO0eKXZ.js";import{r as me}from"./BGU4fon2.js";import"./B9-3mvJS.js";function yt(C,v){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function vt(C,v){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function ve(C,v){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"})])}function $e(C,v){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.05 4.575a1.575 1.575 0 1 0-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 0 1 3.15 0v1.5m-3.15 0 .075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 0 1 3.15 0V15M6.9 7.575a1.575 1.575 0 1 0-3.15 0v8.175a6.75 6.75 0 0 0 6.75 6.75h2.018a5.25 5.25 0 0 0 3.712-1.538l1.732-1.732a5.25 5.25 0 0 0 1.538-3.712l.003-2.024a.668.668 0 0 1 .198-.471 1.575 1.575 0 1 0-2.228-2.228 3.818 3.818 0 0 0-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0 1 16.35 15m.002 0h-.002"})])}function Ae(C,v){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function Ie(C,v){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 5.25c1.213 0 2.415.046 3.605.135a3.256 3.256 0 0 1 3.01 3.01c.044.583.077 1.17.1 1.759L17.03 8.47a.75.75 0 1 0-1.06 1.06l3 3a.75.75 0 0 0 1.06 0l3-3a.75.75 0 0 0-1.06-1.06l-1.752 1.751c-.023-.65-.06-1.296-.108-1.939a4.756 4.756 0 0 0-4.392-4.392 49.422 49.422 0 0 0-7.436 0A4.756 4.756 0 0 0 3.89 8.282c-.017.224-.033.447-.046.672a.75.75 0 1 0 1.497.092c.013-.217.028-.434.044-.651a3.256 3.256 0 0 1 3.01-3.01c1.19-.09 2.392-.135 3.605-.135Zm-6.97 6.22a.75.75 0 0 0-1.06 0l-3 3a.75.75 0 1 0 1.06 1.06l1.752-1.751c.023.65.06 1.296.108 1.939a4.756 4.756 0 0 0 4.392 4.392 49.413 49.413 0 0 0 7.436 0 4.756 4.756 0 0 0 4.392-4.392c.017-.223.032-.447.046-.672a.75.75 0 0 0-1.497-.092c-.013.217-.028.434-.044.651a3.256 3.256 0 0 1-3.01 3.01 47.953 47.953 0 0 1-7.21 0 3.256 3.256 0 0 1-3.01-3.01 47.759 47.759 0 0 1-.1-1.759L6.97 15.53a.75.75 0 0 0 1.06-1.06l-3-3Z","clip-rule":"evenodd"})])}function wt(C,v){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM6.166 5.106a.75.75 0 0 1 0 1.06 8.25 8.25 0 1 0 11.668 0 .75.75 0 1 1 1.06-1.06c3.808 3.807 3.808 9.98 0 13.788-3.807 3.808-9.98 3.808-13.788 0-3.808-3.807-3.808-9.98 0-13.788a.75.75 0 0 1 1.06 0Z","clip-rule":"evenodd"})])}function Le(C,v){return l(),u("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M11.484 2.17a.75.75 0 0 1 1.032 0 11.209 11.209 0 0 0 7.877 3.08.75.75 0 0 1 .722.515 12.74 12.74 0 0 1 .635 3.985c0 5.942-4.064 10.933-9.563 12.348a.749.749 0 0 1-.374 0C6.314 20.683 2.25 15.692 2.25 9.75c0-1.39.223-2.73.635-3.985a.75.75 0 0 1 .722-.516l.143.001c2.996 0 5.718-1.17 7.734-3.08ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75ZM12 15a.75.75 0 0 0-.75.75v.008c0 .414.336.75.75.75h.008a.75.75 0 0 0 .75-.75v-.008a.75.75 0 0 0-.75-.75H12Z","clip-rule":"evenodd"})])}const ht={class:"flex items-center"},kt=["disabled"],_t=["value","min","max","step"],Ct=["disabled"],St=de({__name:"NumberInput",props:{modelValue:{},min:{default:0},max:{default:100},step:{default:1}},emits:["update:modelValue"],setup(C,{emit:v}){const D=C,k=v;function i(d){const F=Math.round(d/D.step)*D.step,S=D.step<1&&String(D.step).split(".")[1]?.length||0,j=Number(F.toFixed(S));return Math.max(D.min,Math.min(D.max,j))}function W(){const d=i(D.modelValue+D.step);k("update:modelValue",d)}function o(){const d=i(D.modelValue-D.step);k("update:modelValue",d)}function r(d){const F=d.target,S=parseFloat(F.value)||D.min,j=i(S);k("update:modelValue",j),j!==S&&(F.value=String(j))}return(d,F)=>(l(),u("div",ht,[e("button",{onClick:o,disabled:C.modelValue<=C.min,class:"w-6 h-7 sm:w-7 sm:h-8 flex items-center justify-center bg-gray-600 hover:bg-gray-500 disabled:bg-gray-800 disabled:text-gray-600 rounded-l border border-gray-600 border-r-0 text-xs font-medium transition-colors"},[y(t(st),{class:"w-3 h-3"})],8,kt),e("input",{type:"number",value:C.modelValue,onChange:r,onBlur:r,min:C.min,max:C.max,step:C.step,class:"w-9 sm:w-12 h-7 sm:h-8 bg-gray-700 border-y border-gray-600 text-center text-[11px] sm:text-xs appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]"},null,40,_t),e("button",{onClick:W,disabled:C.modelValue>=C.max,class:"w-6 h-7 sm:w-7 sm:h-8 flex items-center justify-center bg-gray-600 hover:bg-gray-500 disabled:bg-gray-800 disabled:text-gray-600 rounded-r border border-gray-600 border-l-0 text-xs font-medium transition-colors"},[y(t(_e),{class:"w-3 h-3"})],8,Ct)]))}}),$t=Object.assign(St,{__name:"NumberInput"}),Mt={class:"inline-flex items-center gap-1.5"},Tt={key:0,class:"absolute inset-0 flex items-center justify-center"},Ot={key:0,class:"tabular-nums flex items-baseline gap-1"},Pt=de({__name:"WifiSignal",props:{rssi:{},connected:{type:Boolean,default:!0},showValue:{type:Boolean,default:!0},size:{default:"sm"}},setup(C){const v=C,D=E(()=>v.connected?v.rssi>=-50?4:v.rssi>=-60?3:v.rssi>=-70?2:v.rssi>=-80?1:0:0),k=E(()=>v.connected?D.value>=3?"bg-green-500":D.value>=2?"bg-yellow-500":"bg-orange-500":"bg-red-500"),i=E(()=>{switch(v.size){case"lg":return{container:"h-6",bar1:"w-1.5 h-1.5",bar2:"w-1.5 h-3",bar3:"w-1.5 h-4.5",bar4:"w-1.5 h-6",xIcon:"w-6 h-6",value:"text-xl",unit:"text-base"};case"md":return{container:"h-5",bar1:"w-1.5 h-1.5",bar2:"w-1.5 h-2.5",bar3:"w-1.5 h-3.5",bar4:"w-1.5 h-5",xIcon:"w-5 h-5",value:"text-lg",unit:"text-base"};default:return{container:"h-4",bar1:"w-1 h-1",bar2:"w-1 h-2",bar3:"w-1 h-3",bar4:"w-1 h-4",xIcon:"w-4 h-4",value:"text-base",unit:"text-base"}}});return(W,o)=>(l(),u("div",Mt,[e("div",{class:p(["relative flex items-end gap-[2px]",i.value.container])},[e("div",{class:p([[i.value.bar1,D.value>=1?k.value:"bg-gray-600"],"rounded-sm transition-colors"])},null,2),e("div",{class:p([[i.value.bar2,D.value>=2?k.value:"bg-gray-600"],"rounded-sm transition-colors"])},null,2),e("div",{class:p([[i.value.bar3,D.value>=3?k.value:"bg-gray-600"],"rounded-sm transition-colors"])},null,2),e("div",{class:p([[i.value.bar4,D.value>=4?k.value:"bg-gray-600"],"rounded-sm transition-colors"])},null,2),C.connected?h("",!0):(l(),u("div",Tt,[y(t(it),{class:p([i.value.xIcon,"text-red-500"])},null,8,["class"])]))],2),C.showValue?(l(),u("span",Ot,[e("span",{class:p([i.value.value,"text-white font-semibold"])},x(C.connected?C.rssi:"--"),3),e("span",{class:p([i.value.unit,"text-gray-400"])},x(C.connected?"dBm":"Offline"),3)])):h("",!0)]))}}),Dt=Object.assign(Pt,{__name:"WifiSignal"}),Nt={class:"flex gap-0.5 sm:gap-1"},jt=["onClick"],It=de({__name:"WeekdaySelector",props:{value:{}},emits:["update"],setup(C,{emit:v}){const D=C,k=v,i=[{label:"Mo",value:2},{label:"Tu",value:4},{label:"We",value:8},{label:"Th",value:16},{label:"Fr",value:32},{label:"Sa",value:64},{label:"Su",value:1}];function W(r){return(D.value&r)!==0}function o(r){const d=D.value^r;k("update",d)}return(r,d)=>(l(),u("div",Nt,[(l(),u(U,null,H(i,F=>e("button",{key:F.value,onClick:S=>o(F.value),class:p(["flex-1 py-1 text-[10px] sm:text-xs rounded font-medium transition-colors",W(F.value)?"bg-spider-green-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},x(F.label),11,jt)),64))]))}}),Ge=Object.assign(It,{__name:"WeekdaySelector"}),Lt={class:"inline-flex items-center gap-0.5 px-1.5 py-1 rounded-lg bg-gray-900/60 border border-gray-600/50"},Ft=["value"],Vt=["value"],Et=["value"],At=de({__name:"DurationInput",props:{value:{}},emits:["update"],setup(C,{emit:v}){const D=C,k=v,i=E(()=>Math.floor(D.value/3600)),W=E(()=>Math.floor(D.value%3600/60)),o=E(()=>D.value%60);function r(j,$,I){const X=j*3600+$*60+I;k("update",Math.max(1,Math.min(86400,X)))}function d(j){const $=j.target,I=Math.max(0,Math.min(23,parseInt($.value)||0));$.value=String(I),r(I,W.value,o.value)}function F(j){const $=j.target,I=Math.max(0,Math.min(59,parseInt($.value)||0));$.value=String(I),r(i.value,I,o.value)}function S(j){const $=j.target,I=Math.max(0,Math.min(59,parseInt($.value)||0));$.value=String(I),r(i.value,W.value,I)}return(j,$)=>(l(),u("div",Lt,[e("input",{type:"number",value:t(i),onChange:d,onBlur:d,min:"0",max:"23",class:"w-6 bg-transparent text-[11px] text-center text-gray-200 focus:outline-none appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"h"},null,40,Ft),$[0]||($[0]=e("span",{class:"text-gray-500 text-[10px]"},":",-1)),e("input",{type:"number",value:t(W),onChange:F,onBlur:F,min:"0",max:"59",class:"w-6 bg-transparent text-[11px] text-center text-gray-200 focus:outline-none appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"m"},null,40,Vt),$[1]||($[1]=e("span",{class:"text-gray-500 text-[10px]"},":",-1)),e("input",{type:"number",value:t(o),onChange:S,onBlur:S,min:"0",max:"59",class:"w-6 bg-transparent text-[11px] text-center text-gray-200 focus:outline-none appearance-none [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none [-moz-appearance:textfield]",placeholder:"s"},null,40,Et)]))}}),Bt=Object.assign(At,{__name:"DurationInput"}),Wt={class:"p-3 sm:p-4 rounded-xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 flex flex-col gap-3 h-full relative overflow-hidden"},Ut={class:"flex items-center justify-between relative"},Ht={class:"flex items-center gap-2"},Jt={class:"w-7 h-7 rounded-lg bg-gradient-to-br from-yellow-500/30 to-amber-600/20 flex items-center justify-center"},Rt={class:"text-sm font-semibold text-white"},Zt={class:"space-y-1.5"},zt={class:"grid grid-cols-4 gap-1"},Gt=["onClick"],Kt={class:"text-[10px] leading-tight font-medium"},qt={class:"flex-1"},Qt={key:0,class:"space-y-2"},Xt={class:"flex items-center justify-between p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Yt={class:"text-xs text-gray-300 flex items-center gap-1.5 font-medium"},en={class:"flex gap-1"},tn={key:1,class:"space-y-2"},nn={class:"space-y-1.5 max-h-48 overflow-y-auto"},sn={class:"flex items-center gap-2 mb-1.5"},rn=["onClick"],on={class:"text-xs text-gray-300 font-medium"},ln={key:0,class:"grid grid-cols-2 gap-1.5"},an=["value","onChange"],dn=["value","onChange"],un={class:"col-span-2"},gn={key:2,class:"space-y-2"},pn={class:"grid grid-cols-2 gap-2 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},mn=["value"],cn={class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},xn={key:0,class:"flex gap-0.5"},bn=["onClick"],fn={key:1,class:"flex items-center gap-1.5"},yn={class:"text-xs font-bold text-spider-green-400 w-6 text-center"},vn=["value","max"],wn={class:"col-span-2"},hn={key:3,class:"space-y-2"},kn={class:"flex gap-1.5 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},_n={class:"flex items-center justify-between p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Cn={class:"flex gap-1"},Sn={key:4,class:"space-y-2"},$n={class:"flex gap-1.5 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Mn={class:"flex items-center justify-between p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Tn={class:"flex gap-1"},On={key:5,class:"space-y-2"},Pn={class:"flex gap-1.5 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Dn={class:"flex items-center justify-between p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Nn={class:"flex gap-1"},jn={key:6,class:"space-y-2"},In={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Ln={class:"flex gap-1"},Fn=["onClick"],Vn={class:"space-y-1.5"},En={class:"flex items-center justify-between"},An={class:"space-y-1.5 max-h-32 overflow-y-auto"},Bn={class:"flex items-center justify-between mb-1.5"},Wn={class:"text-gray-400 font-medium"},Un=["onClick"],Hn={class:"grid grid-cols-2 gap-1.5"},Jn=["value","onChange"],Rn=["value","onChange"],Zn=["value","onChange"],zn=["value","onChange"],Gn={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50 space-y-2"},Kn={class:"flex items-center justify-between"},qn={class:"text-xs text-gray-300 flex items-center gap-1.5 font-medium"},Qn={key:0,class:"grid grid-cols-3 gap-1.5 pt-1"},Xn=["value"],Yn=["value"],es=["value"],ts={key:7,class:"space-y-2"},ns={class:"flex items-center justify-between p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},ss={class:"text-xs text-gray-300 flex items-center gap-1.5 font-medium"},rs=de({__name:"SocketConfig",props:{socket:{},config:{}},emits:["update"],setup(C,{expose:v,emit:D}){const k=C,i=We(),W=Ue(),{socketNames:o,saveSocketName:r}=Re(),d=R(JSON.parse(JSON.stringify(k.config))),F=R(JSON.stringify(k.config)),S=R(!1),j=R(!1),$=E(()=>`O${k.socket}`),I=R("");Oe(()=>{I.value=o.value[$.value]||""}),ce(o,m=>{m[$.value]&&!I.value&&(I.value=m[$.value]||"")},{immediate:!0});const X=[{value:0,label:"Manual",icon:$e},{value:1,label:"Time",icon:fe},{value:2,label:"Cycle",icon:Ie},{value:3,label:"Temp",icon:be},{value:4,label:"Humi",icon:Pe},{value:5,label:"CO2",icon:Ze},{value:14,label:"Drip",icon:vt},{value:7,label:"Trigger",icon:gt}];Oe(async()=>{await i.fetchSocketAiModes();const m=i.isSocketAiEnabled($.value);S.value=m,j.value=m,W.soilSensors.length===0&&W.fetchSoilSensors()}),ce(()=>i.socketAiModes,()=>{if(S.value===j.value){const m=i.isSocketAiEnabled($.value);S.value=m,j.value=m}},{deep:!0});const ae=E(()=>{const m=W.soilSensors;return m.length>0?m.map(a=>({id:a.id,label:a.name||a.shortId})):[{id:"383532380D30BF47",label:"BF47"}]}),Y=E(()=>[3,4,5,14].includes(d.value.modeType)&&d.value.mOnOff===1);ce(()=>k.config,m=>{d.value=JSON.parse(JSON.stringify(m)),F.value=JSON.stringify(m)},{deep:!0});function ee(m){if(!m&&m!==0)return"00:00";const a=Math.floor(m/3600),V=Math.floor(m%3600/60);return`${a.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`}function te(m){if(!m)return 0;const a=m.split(":").map(Number);return(a[0]||0)*3600+(a[1]||0)*60}function q(m,a,V,K=1){const f=Math.round(m/K)*K;return Math.max(a,Math.min(V,f))}function le(m){if(m===7){S.value=!0,d.value.modeType=0;return}S.value&&(S.value=!1),d.value.modeType=m,m===1&&!d.value.timePeriod&&(d.value.timePeriod=Array(12).fill(null).map(()=>({enabled:0,weekmask:127,startTime:0,endTime:0}))),m===2&&!d.value.cycleTime&&(d.value.cycleTime={weekmask:127,startTime:0,openDur:60,closeDur:60,times:1}),m===3&&!d.value.tempAdd&&(d.value.tempAdd=1),m===4&&!d.value.humiAdd&&(d.value.humiAdd=1),m===5&&!d.value.co2Add&&(d.value.co2Add=1),m===14&&!d.value.wateringEnv&&(d.value.wateringEnv={period:[],extra:{enabled:0,dry:30,openDur:60,closeDur:600}},d.value.bind={bindType:2,id:"avg"})}function L(m,a){d.value[m]=a}function z(m){d.value.timePeriod?.[m]&&(d.value.timePeriod[m].enabled=d.value.timePeriod[m].enabled?0:1)}function ie(m,a,V){const K=V.target;d.value.timePeriod?.[m]&&(d.value.timePeriod[m][a]=te(K.value))}function ue(m,a){d.value.timePeriod?.[m]&&(d.value.timePeriod[m].weekmask=a)}const ne=E(()=>{const m=d.value.cycleTime?.openDur||60,a=d.value.cycleTime?.closeDur||60,V=m+a;return V<=0?1:Math.max(1,Math.floor(86400/V))});function re(m,a){if(d.value.cycleTime||(d.value.cycleTime={weekmask:127,startTime:0,openDur:60,closeDur:60,times:1}),d.value.cycleTime[m]=a,m==="openDur"||m==="closeDur"){const V=ne.value;d.value.cycleTime.times>V&&(d.value.cycleTime.times=V)}}function ge(m,a){d.value.bind={bindType:m,id:a}}function Q(){d.value.wateringEnv||(d.value.wateringEnv={period:[],extra:{enabled:0,dry:30,openDur:60,closeDur:600}});const m=d.value.wateringEnv.period.length;m<12&&d.value.wateringEnv.period.push({enabled:1,startTime:28800,endTime:32400,openDur:60,closeDur:600,target:50,dry:30,tmn:m+1})}function se(m){d.value.wateringEnv?.period.splice(m,1)}function G(m,a,V){if(d.value.wateringEnv?.period[m]){let K=V;a==="target"||a==="dry"?K=q(V,0,99,1):(a==="openDur"||a==="closeDur")&&(K=q(V,1,86400,1)),d.value.wateringEnv.period[m][a]=K}}function _(){d.value.wateringEnv||(d.value.wateringEnv={period:[],extra:{enabled:0,dry:30,openDur:60,closeDur:600}}),d.value.wateringEnv.extra.enabled=d.value.wateringEnv.extra.enabled?0:1}function b(m,a){if(d.value.wateringEnv?.extra){let V=a;m==="dry"?V=q(a,0,99,1):(m==="openDur"||m==="closeDur")&&(V=q(a,1,86400,1)),d.value.wateringEnv.extra[m]=V}}const g=E(()=>{const m=o.value[$.value]||"";return I.value!==m}),M=E(()=>JSON.stringify(d.value)!==F.value),w=E(()=>S.value!==j.value),P=He();async function O(){if(g.value&&await r($.value,I.value),S.value){await i.setSocketAiMode($.value,!0),j.value=!0;const m=JSON.parse(JSON.stringify(d.value));m.modeType=0;const a=await P.updateConfig($.value,m);a&&(d.value={...d.value,...a}),F.value=JSON.stringify(d.value)}else if(w.value&&(await i.setSocketAiMode($.value,!1),j.value=!1),M.value){const m=JSON.parse(JSON.stringify(d.value)),a=await P.updateConfig($.value,m);a&&(d.value={...d.value,...a}),F.value=JSON.stringify(d.value)}}return v({save:O,hasNameChanged:g,hasConfigChanged:M,hasAiModeChanged:w,socketId:$}),(m,a)=>{const V=Ge,K=Bt;return l(),u("div",Wt,[a[43]||(a[43]=e("div",{class:"absolute -top-4 -left-4 w-16 h-16 rounded-full blur-2xl pointer-events-none bg-yellow-500/25"},null,-1)),e("div",Ut,[e("div",Ht,[e("div",Jt,[y(t(xe),{class:"w-4 h-4 text-yellow-400"})]),e("h3",Rt,"Socket "+x(C.socket),1)]),e("span",{class:p([t(d).mOnOff||t(Y)?"text-spider-green-400":"text-gray-500","text-xs font-medium flex items-center gap-1.5 px-2 py-1 rounded-lg bg-gray-800/60"])},[e("span",{class:p([t(d).mOnOff||t(Y)?"bg-spider-green-400 shadow-lg shadow-spider-green-400/50":"bg-gray-500","w-2 h-2 rounded-full"])},null,2),T(" "+x(t(d).mOnOff||t(Y)?"ON":"OFF"),1)],2)]),e("div",null,[we(e("input",{"onUpdate:modelValue":a[0]||(a[0]=f=>Be(I)?I.value=f:null),type:"text",placeholder:"Socket name (e.g., Extractor)",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:border-spider-green-500/50 focus:ring-1 focus:ring-spider-green-500/30 focus:outline-none transition-all"},null,512),[[he,t(I)]])]),e("div",Zt,[a[24]||(a[24]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Mode",-1)),e("div",zt,[(l(),u(U,null,H(X,f=>e("button",{key:f.value,onClick:J=>le(f.value),class:p(["px-1 py-2 text-xs rounded-lg transition-all flex flex-col items-center gap-1",f.value===7&&t(S)||f.value!==7&&!t(S)&&t(d).modeType===f.value?f.value===7?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/30":"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/30":"bg-gray-800/60 text-gray-400 hover:bg-gray-700/60 hover:text-gray-300 border border-gray-700/50"])},[(l(),B(Ce(f.icon),{class:"w-4 h-4"})),e("span",Kt,x(f.label),1)],10,Gt)),64))])]),e("div",qt,[t(d).modeType===0&&!t(S)?(l(),u("div",Qt,[e("div",Xt,[e("span",Yt,[y(t(xe),{class:"w-4 h-4 text-yellow-400"}),a[25]||(a[25]=T(" Power ",-1))]),e("div",en,[e("button",{onClick:a[1]||(a[1]=f=>L("mOnOff",0)),class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).mOnOff?"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60":"bg-gray-600 text-white"])},"OFF",2),e("button",{onClick:a[2]||(a[2]=f=>L("mOnOff",1)),class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).mOnOff?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60"])},"ON",2)])])])):t(d).modeType===1?(l(),u("div",tn,[e("div",nn,[(l(!0),u(U,null,H(t(d).timePeriod?.slice(0,12)||[],(f,J)=>(l(),u("div",{key:J,class:"p-2.5 rounded-xl bg-gray-800/40 border border-gray-700/50"},[e("div",sn,[e("button",{onClick:Z=>z(J),class:p(["w-5 h-5 rounded-md flex items-center justify-center transition-all",f.enabled?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 shadow-lg shadow-spider-green-500/30":"bg-gray-700/60 border border-gray-600/50"])},[f.enabled?(l(),B(t(De),{key:0,class:"w-3 h-3 text-white"})):h("",!0)],10,rn),e("span",on,"P"+x(J+1),1)]),f.enabled?(l(),u("div",ln,[e("input",{type:"time",value:ee(f.startTime),onChange:Z=>ie(J,"startTime",Z),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,an),e("input",{type:"time",value:ee(f.endTime),onChange:Z=>ie(J,"endTime",Z),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,dn),e("div",un,[y(V,{value:f.weekmask||127,onUpdate:Z=>ue(J,Z)},null,8,["value","onUpdate"])])])):h("",!0)]))),128))])])):t(d).modeType===2?(l(),u("div",gn,[e("div",pn,[e("div",null,[a[26]||(a[26]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Start",-1)),e("input",{type:"time",value:ee(t(d).cycleTime?.startTime||0),onChange:a[3]||(a[3]=f=>re("startTime",te(f.target.value))),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,mn)]),e("div",null,[e("label",cn,"Runs (1-"+x(t(ne))+")",1),t(ne)<=10?(l(),u("div",xn,[(l(!0),u(U,null,H(t(ne),f=>(l(),u("button",{key:f,onClick:J=>re("times",f),class:p(["flex-1 py-1 text-xs rounded-lg transition-all font-medium",(t(d).cycleTime?.times||1)===f?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60"])},x(f),11,bn))),128))])):(l(),u("div",fn,[e("span",yn,x(t(d).cycleTime?.times||1),1),e("input",{type:"range",value:t(d).cycleTime?.times||1,onInput:a[4]||(a[4]=f=>re("times",Number(f.target.value))),min:"1",max:t(ne),step:"1",class:"flex-1 h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-spider-green-500"},null,40,vn)]))]),e("div",null,[a[27]||(a[27]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Run Duration",-1)),y(K,{value:t(d).cycleTime?.openDur||60,onUpdate:a[5]||(a[5]=f=>re("openDur",f))},null,8,["value"])]),e("div",null,[a[28]||(a[28]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Off Duration",-1)),y(K,{value:t(d).cycleTime?.closeDur||60,onUpdate:a[6]||(a[6]=f=>re("closeDur",f))},null,8,["value"])]),e("div",wn,[y(V,{value:t(d).cycleTime?.weekmask||127,onUpdate:a[7]||(a[7]=f=>re("weekmask",f))},null,8,["value"])])])])):t(d).modeType===3?(l(),u("div",hn,[e("div",kn,[e("button",{onClick:a[8]||(a[8]=f=>L("tempAdd",1)),class:p(["flex-1 py-2.5 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-1.5",t(d).tempAdd===1?"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg shadow-red-500/30":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60 border border-gray-600/50"])},[y(t(be),{class:"w-4 h-4"}),a[29]||(a[29]=T(" Heat ",-1))],2),e("button",{onClick:a[9]||(a[9]=f=>L("tempAdd",2)),class:p(["flex-1 py-2.5 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-1.5",t(d).tempAdd===2?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60 border border-gray-600/50"])},[y(t(Ne),{class:"w-4 h-4"}),a[30]||(a[30]=T(" Cool ",-1))],2)]),e("div",_n,[a[31]||(a[31]=e("span",{class:"text-xs text-gray-300 font-medium"},"Enabled",-1)),e("div",Cn,[e("button",{onClick:a[10]||(a[10]=f=>L("mOnOff",0)),class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).mOnOff?"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60":"bg-gray-600 text-white"])},"OFF",2),e("button",{onClick:a[11]||(a[11]=f=>L("mOnOff",1)),class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).mOnOff?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60"])},"ON",2)])])])):t(d).modeType===4?(l(),u("div",Sn,[e("div",$n,[e("button",{onClick:a[12]||(a[12]=f=>L("humiAdd",1)),class:p(["flex-1 py-2.5 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-1.5",t(d).humiAdd===1?"bg-gradient-to-r from-blue-400 to-blue-500 text-white shadow-lg shadow-blue-500/30":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60 border border-gray-600/50"])},[y(t(Pe),{class:"w-4 h-4"}),a[32]||(a[32]=T(" Humidify ",-1))],2),e("button",{onClick:a[13]||(a[13]=f=>L("humiAdd",2)),class:p(["flex-1 py-2.5 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-1.5",t(d).humiAdd===2?"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white shadow-lg shadow-yellow-500/30":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60 border border-gray-600/50"])},[y(t(Se),{class:"w-4 h-4"}),a[33]||(a[33]=T(" Dehumidify ",-1))],2)]),e("div",Mn,[a[34]||(a[34]=e("span",{class:"text-xs text-gray-300 font-medium"},"Enabled",-1)),e("div",Tn,[e("button",{onClick:a[14]||(a[14]=f=>L("mOnOff",0)),class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).mOnOff?"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60":"bg-gray-600 text-white"])},"OFF",2),e("button",{onClick:a[15]||(a[15]=f=>L("mOnOff",1)),class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).mOnOff?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60"])},"ON",2)])])])):t(d).modeType===5?(l(),u("div",On,[e("div",Pn,[e("button",{onClick:a[16]||(a[16]=f=>L("co2Add",1)),class:p(["flex-1 py-2.5 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-1.5",t(d).co2Add===1?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg shadow-green-500/30":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60 border border-gray-600/50"])},[y(t(pt),{class:"w-4 h-4"}),a[35]||(a[35]=T(" Aerate ",-1))],2),e("button",{onClick:a[17]||(a[17]=f=>L("co2Add",2)),class:p(["flex-1 py-2.5 rounded-lg text-xs font-medium transition-all flex items-center justify-center gap-1.5",t(d).co2Add===2?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg shadow-purple-500/30":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60 border border-gray-600/50"])},[y(t(mt),{class:"w-4 h-4"}),a[36]||(a[36]=T(" Exhaust ",-1))],2)]),e("div",Dn,[a[37]||(a[37]=e("span",{class:"text-xs text-gray-300 font-medium"},"Enabled",-1)),e("div",Nn,[e("button",{onClick:a[18]||(a[18]=f=>L("mOnOff",0)),class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).mOnOff?"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60":"bg-gray-600 text-white"])},"OFF",2),e("button",{onClick:a[19]||(a[19]=f=>L("mOnOff",1)),class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).mOnOff?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60"])},"ON",2)])])])):t(d).modeType===14&&!t(S)?(l(),u("div",jn,[e("div",In,[a[38]||(a[38]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium mb-1.5 block"},"Sensor",-1)),e("div",Ln,[e("button",{onClick:a[20]||(a[20]=f=>ge(2,"avg")),class:p(["flex-1 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).bind?.bindType===2?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60"])},"Avg",2),(l(!0),u(U,null,H(t(ae),f=>(l(),u("button",{key:f.id,onClick:J=>ge(1,f.id),class:p(["flex-1 py-1.5 rounded-lg text-xs font-medium transition-all",t(d).bind?.id===f.id&&t(d).bind?.bindType===1?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60"])},x(f.label),11,Fn))),128))])]),e("div",Vn,[e("div",En,[a[40]||(a[40]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Periods",-1)),(t(d).wateringEnv?.period?.length||0)<12?(l(),u("button",{key:0,onClick:Q,class:"text-[10px] text-spider-green-400 hover:text-spider-green-300 flex items-center gap-0.5 font-medium"},[y(t(_e),{class:"w-3 h-3"}),a[39]||(a[39]=T(" Add ",-1))])):h("",!0)]),e("div",An,[(l(!0),u(U,null,H(t(d).wateringEnv?.period||[],(f,J)=>(l(),u("div",{key:J,class:"p-2 rounded-xl bg-gray-800/40 border border-gray-700/50 text-xs"},[e("div",Bn,[e("span",Wn,"P"+x(J+1),1),e("button",{onClick:Z=>se(J),class:"text-red-400 hover:text-red-300 transition-colors"},[y(t(je),{class:"w-3 h-3"})],8,Un)]),e("div",Hn,[e("input",{type:"time",value:ee(f.startTime),onChange:Z=>G(J,"startTime",te(Z.target.value)),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-[10px] text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,Jn),e("input",{type:"time",value:ee(f.endTime),onChange:Z=>G(J,"endTime",te(Z.target.value)),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-[10px] text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,Rn),e("input",{type:"number",value:f.target,onChange:Z=>G(J,"target",parseInt(Z.target.value)),min:"0",max:"99",placeholder:"Target %",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-[10px] text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,Zn),e("input",{type:"number",value:f.dry,onChange:Z=>G(J,"dry",parseInt(Z.target.value)),min:"0",max:"99",placeholder:"Trigger %",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-[10px] text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,zn)])]))),128))])]),e("div",Gn,[e("div",Kn,[e("span",qn,[y(t(Le),{class:"w-3.5 h-3.5 text-yellow-400"}),a[41]||(a[41]=T(" Emergency ",-1))]),e("button",{onClick:_,class:p(["px-3 py-1 rounded-lg text-[10px] font-medium transition-all",t(d).wateringEnv?.extra?.enabled?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60"])},x(t(d).wateringEnv?.extra?.enabled?"ON":"OFF"),3)]),t(d).wateringEnv?.extra?.enabled?(l(),u("div",Qn,[e("input",{type:"number",value:t(d).wateringEnv?.extra?.dry||0,onChange:a[21]||(a[21]=f=>b("dry",parseInt(f.target.value))),min:"0",max:"99",placeholder:"Dry %",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-[10px] text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,Xn),e("input",{type:"number",value:t(d).wateringEnv?.extra?.openDur||60,onChange:a[22]||(a[22]=f=>b("openDur",parseInt(f.target.value))),min:"1",max:"86400",placeholder:"Irrigate (s)",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-[10px] text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,Yn),e("input",{type:"number",value:t(d).wateringEnv?.extra?.closeDur||600,onChange:a[23]||(a[23]=f=>b("closeDur",parseInt(f.target.value))),min:"1",max:"86400",placeholder:"Interval (s)",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-[10px] text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,es)])):h("",!0)])])):t(S)?(l(),u("div",ts,[e("div",ns,[e("span",ss,[y(t(xe),{class:"w-4 h-4 text-yellow-400"}),a[42]||(a[42]=T(" Power ",-1))]),e("span",{class:p([t(d).mOnOff?"text-spider-green-400":"text-gray-500","text-xs font-medium flex items-center gap-1.5 px-2 py-1 rounded-lg bg-gray-900/60"])},[e("span",{class:p([t(d).mOnOff?"bg-spider-green-400 shadow-lg shadow-spider-green-400/50":"bg-gray-500","w-2 h-2 rounded-full"])},null,2),T(" "+x(t(d).mOnOff?"ON":"OFF"),1)],2)])])):h("",!0)])])}}}),os=Object.assign(rs,{__name:"SocketConfig"}),ls={key:0,class:"absolute -top-4 -left-4 w-16 h-16 rounded-full blur-2xl pointer-events-none bg-yellow-500/25"},as={key:1,class:"flex items-center justify-between mb-2 relative"},is={class:"flex items-center gap-2"},ds={class:"w-7 h-7 rounded-lg bg-gradient-to-br from-yellow-500/30 to-amber-600/20 flex items-center justify-center"},us={class:"text-sm font-semibold text-white"},gs={class:"space-y-1.5 mb-3"},ps={class:"flex gap-1"},ms=["onClick"],cs={class:"font-medium"},xs={class:"flex-1 mb-3"},bs={key:0,class:"space-y-3"},fs={class:"flex items-center justify-between p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},ys={class:"text-xs flex items-center gap-1.5 text-gray-300 font-medium"},vs={class:"flex gap-1"},ws={class:"space-y-2 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},hs={class:"flex items-center justify-between"},ks={class:"text-xs text-gray-400 flex items-center gap-1.5 font-medium"},_s={class:"text-xs text-spider-green-400 font-semibold px-2 py-0.5 rounded-lg bg-spider-green-500/20"},Cs=["value"],Ss={key:1,class:"space-y-3"},$s={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50 space-y-3"},Ms={class:"grid grid-cols-2 gap-3"},Ts={class:"flex items-center justify-between mb-1"},Os={class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium flex items-center gap-1"},Ps={class:"text-[10px] text-yellow-400 font-semibold px-1.5 py-0.5 rounded bg-yellow-500/20"},Ds=["value"],Ns={class:"flex items-center justify-between mb-1"},js={class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium flex items-center gap-1"},Is={class:"text-[10px] text-orange-400 font-semibold px-1.5 py-0.5 rounded bg-orange-500/20"},Ls=["value"],Fs={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50 space-y-3"},Vs={class:"text-xs text-gray-300 font-semibold flex items-center gap-1.5"},Es={class:"flex items-center justify-between mb-1"},As={class:"text-[10px] text-yellow-400 font-semibold px-1.5 py-0.5 rounded bg-yellow-500/20"},Bs=["value"],Ws={class:"flex items-center justify-between mb-1"},Us={class:"text-[10px] text-red-400 font-semibold px-1.5 py-0.5 rounded bg-red-500/20"},Hs=["value"],Js={class:"space-y-1.5"},Rs={class:"flex items-center justify-between"},Zs={class:"text-xs text-gray-400 flex items-center gap-1.5 font-medium"},zs={class:"space-y-1.5 max-h-48 overflow-y-auto"},Gs={class:"flex items-center justify-between"},Ks={class:"flex items-center gap-2"},qs=["onClick"],Qs={class:"text-xs text-gray-300 font-medium"},Xs=["onClick"],Ys={key:0,class:"grid grid-cols-2 gap-1.5"},er=["value","onChange"],tr=["value","onChange"],nr=["value","onChange"],sr=["value","onChange"],rr={class:"col-span-2"},or={key:2,class:"space-y-3"},lr={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50 space-y-3"},ar={class:"text-xs text-gray-300 font-semibold flex items-center gap-1.5"},ir={class:"flex items-center justify-between mb-1"},dr={class:"text-[10px] text-yellow-400 font-semibold px-1.5 py-0.5 rounded bg-yellow-500/20"},ur=["value"],gr={class:"flex items-center justify-between mb-1"},pr={class:"text-[10px] text-red-400 font-semibold px-1.5 py-0.5 rounded bg-red-500/20"},mr=["value"],cr={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50 space-y-3"},xr={class:"text-xs text-gray-300 font-semibold flex items-center gap-1.5"},br={class:"grid grid-cols-2 gap-3"},fr={class:"flex items-center justify-between mb-1"},yr={class:"text-[10px] text-spider-green-400 font-semibold px-1.5 py-0.5 rounded bg-spider-green-500/20"},vr=["value"],wr={class:"flex items-center justify-between mb-1"},hr={class:"text-[10px] text-spider-green-400 font-semibold px-1.5 py-0.5 rounded bg-spider-green-500/20"},kr=["value"],_r={class:"space-y-1.5"},Cr={class:"flex items-center justify-between"},Sr={class:"text-xs text-gray-400 flex items-center gap-1.5 font-medium"},$r={class:"space-y-1.5 max-h-48 overflow-y-auto"},Mr={class:"flex items-center justify-between"},Tr={class:"flex items-center gap-2"},Or=["onClick"],Pr={class:"text-xs text-gray-300 font-medium"},Dr=["onClick"],Nr={key:0,class:"grid grid-cols-2 gap-1.5"},jr=["value","onChange"],Ir=["value","onChange"],Lr=["value","onChange"],Fr=["value","onChange"],Vr={class:"col-span-2"},Er={key:3,class:"text-xs text-gray-400 p-3 rounded-xl bg-gray-800/40 border border-yellow-500/30 flex items-center gap-2"},Ar=de({__name:"LightConfig",props:{title:{},lightId:{},config:{},compact:{type:Boolean,default:!1}},emits:["update"],setup(C,{expose:v,emit:D}){const k=C,i=R(JSON.parse(JSON.stringify(k.config))),W=R(JSON.stringify(k.config)),o=R(0),r=[{value:0,label:"Manual",icon:$e},{value:1,label:"Time Slot",icon:fe},{value:12,label:"PPFD Auto",icon:Ne}];ce(()=>k.config,b=>{Date.now()-o.value<3e3||(i.value=JSON.parse(JSON.stringify(b)),W.value=JSON.stringify(b))},{deep:!0});function d(b){if(!b&&b!==0)return"00:00";const g=Math.floor(b/3600),M=Math.floor(b%3600/60);return`${g.toString().padStart(2,"0")}:${M.toString().padStart(2,"0")}`}function F(b){if(!b)return 0;const[g,M]=b.split(":").map(Number);return(g??0)*3600+(M??0)*60}function S(b,g,M,w=1){const P=Math.round(b/w)*w,O=w<1&&String(w).split(".")[1]?.length||0,m=Number(P.toFixed(O));return Math.max(g,Math.min(M,m))}function j(b){i.value.modeType=b,i.value.lastAutoModeType=b,b===1&&!i.value.timePeriod?.length&&(i.value.timePeriod=[{enabled:1,weekmask:127,startTime:21600,endTime:64800,brightness:80,fadeTime:1800}]),b===12&&(i.value.ppfdPeriod?.length||(i.value.ppfdPeriod=[{enabled:1,weekmask:127,startTime:21600,endTime:64800,brightness:1e3,fadeTime:1800}]),i.value.ppfdMinBrightness||(i.value.ppfdMinBrightness=11),i.value.ppfdMaxBrightness||(i.value.ppfdMaxBrightness=100))}function $(b,g){i.value[b]=g}const I=E(()=>i.value.timePeriod?.find(g=>g.enabled)?.brightness??80),X=E(()=>{const b=i.value.timePeriod?.find(g=>g.enabled);return Math.floor((b?.fadeTime??0)/60)});function ae(b,g){i.value.timePeriod?.length||(i.value.timePeriod=[{enabled:1,weekmask:127,startTime:21600,endTime:64800,brightness:80,fadeTime:0}]);const M=i.value.timePeriod.findIndex(P=>P.enabled),w=M>=0?M:0;i.value.timePeriod[w]&&(i.value.timePeriod[w][b]=g,b==="brightness"&&(i.value.mLevel=g))}function Y(){i.value.mOnOff=1,(!i.value.mLevel||i.value.mLevel===0)&&(i.value.mLevel=100)}function ee(b){const g=b.target;i.value.mLevel=S(parseInt(g.value)||0,0,100,1)}function te(b){const g=b.target,M=parseFloat(g.value);M>0&&i.value.darkTemp&&M<i.value.darkTemp?i.value.offTemp=i.value.darkTemp:i.value.offTemp=M}function q(){i.value.timePeriod||(i.value.timePeriod=[]),i.value.timePeriod.length<5&&i.value.timePeriod.push({enabled:1,weekmask:127,startTime:21600,endTime:64800,brightness:80,fadeTime:0})}function le(b){i.value.timePeriod?.splice(b,1)}function L(b){i.value.timePeriod?.[b]&&(i.value.timePeriod[b].enabled=i.value.timePeriod[b].enabled?0:1)}function z(b,g,M){if(i.value.timePeriod?.[b]){let w=M;g==="brightness"?w=S(M,0,100,1):g==="fadeTime"&&(w=S(M,0,3600,60)),i.value.timePeriod[b][g]=w,g==="brightness"&&(i.value.mLevel=w)}}function ie(b){const g=b.target,M=S(parseInt(g.value)||11,11,100,1);i.value.ppfdMinBrightness=M,i.value.ppfdMaxBrightness&&i.value.ppfdMaxBrightness<M&&(i.value.ppfdMaxBrightness=M)}function ue(b){const g=b.target,M=S(parseInt(g.value)||100,11,100,1);i.value.ppfdMinBrightness&&M<i.value.ppfdMinBrightness?i.value.ppfdMaxBrightness=i.value.ppfdMinBrightness:i.value.ppfdMaxBrightness=M}function ne(){i.value.ppfdPeriod||(i.value.ppfdPeriod=[]),i.value.ppfdPeriod.length<5&&i.value.ppfdPeriod.push({enabled:1,weekmask:127,startTime:21600,endTime:64800,brightness:1e3,fadeTime:0})}function re(b){i.value.ppfdPeriod?.splice(b,1)}function ge(b){i.value.ppfdPeriod?.[b]&&(i.value.ppfdPeriod[b].enabled=i.value.ppfdPeriod[b].enabled?0:1)}function Q(b,g,M){if(i.value.ppfdPeriod?.[b]){let w=M;g==="brightness"?w=S(M,20,2e3,10):g==="fadeTime"&&(w=S(M,0,3600,60)),i.value.ppfdPeriod[b][g]=w}}const se=E(()=>JSON.stringify(i.value)!==W.value),G=Je();async function _(){if(se.value){const b=JSON.parse(JSON.stringify(i.value)),g=await G.updateConfig(k.lightId,b);o.value=Date.now(),g&&(i.value={...i.value,...g}),W.value=JSON.stringify(i.value)}}return v({save:_,hasChanged:se}),(b,g)=>{const M=Ge;return l(),u("div",{class:p(["flex flex-col h-full",C.compact?"":"p-3 sm:p-4 rounded-xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 relative overflow-hidden"])},[C.compact?h("",!0):(l(),u("div",ls)),C.compact?h("",!0):(l(),u("div",as,[e("div",is,[e("div",ds,[y(t(ke),{class:"w-4 h-4 text-yellow-400"})]),e("h3",us,x(C.title),1)]),e("span",{class:p([t(i).mOnOff?"text-spider-green-400":"text-gray-500","text-xs font-medium flex items-center gap-1.5 px-2 py-1 rounded-lg bg-gray-800/60"])},[e("span",{class:p([t(i).mOnOff?"bg-spider-green-400 shadow-lg shadow-spider-green-400/50":"bg-gray-500","w-2 h-2 rounded-full"])},null,2),T(" "+x(t(i).mOnOff?`${t(i).mLevel||0}%`:"OFF"),1)],2)])),e("div",gs,[g[5]||(g[5]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Mode",-1)),e("div",ps,[(l(),u(U,null,H(r,w=>e("button",{key:w.value,onClick:P=>j(w.value),class:p(["flex-1 px-1.5 py-2 text-[10px] sm:text-xs rounded-lg transition-all flex items-center justify-center gap-1",t(i).modeType===w.value?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/30":"bg-gray-800/60 text-gray-400 hover:bg-gray-700/60 hover:text-gray-300 border border-gray-700/50"])},[(l(),B(Ce(w.icon),{class:"w-3.5 h-3.5"})),e("span",cs,x(w.label),1)],10,ms)),64))])]),e("div",xs,[t(i).modeType===0?(l(),u("div",bs,[e("div",fs,[e("span",ys,[y(t(wt),{class:"w-4 h-4"}),g[6]||(g[6]=T(" Power ",-1))]),e("div",vs,[e("button",{onClick:g[0]||(g[0]=w=>$("mOnOff",0)),class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(i).mOnOff?"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60":"bg-gray-600 text-white"])},"OFF",2),e("button",{onClick:Y,class:p(["px-3 py-1.5 rounded-lg text-xs font-medium transition-all",t(i).mOnOff?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/20":"bg-gray-700/60 text-gray-400 hover:bg-gray-600/60"])},"ON",2)])]),e("div",ws,[e("div",hs,[e("label",ks,[y(t(Se),{class:"w-3.5 h-3.5 text-yellow-400"}),g[7]||(g[7]=T(" Brightness ",-1))]),e("span",_s,x(t(i).mLevel)+"%",1)]),e("input",{type:"range",value:t(i).mLevel,onInput:ee,min:"0",max:"100",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-spider-green-500"},null,40,Cs),g[8]||(g[8]=e("div",{class:"flex justify-between text-[10px] text-gray-500 font-medium"},[e("span",null,"0%"),e("span",null,"50%"),e("span",null,"100%")],-1))])])):t(i).modeType===1?(l(),u("div",Ss,[e("div",$s,[e("div",Ms,[e("div",null,[e("div",Ts,[e("label",Os,[y(t(Se),{class:"w-3 h-3 text-yellow-400"}),g[9]||(g[9]=T(" Brightness ",-1))]),e("span",Ps,x(t(I))+"%",1)]),e("input",{type:"range",value:t(I),onInput:g[1]||(g[1]=w=>ae("brightness",parseInt(w.target.value))),min:"0",max:"100",step:"1",class:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"},null,40,Ds)]),e("div",null,[e("div",Ns,[e("label",js,[y(t(yt),{class:"w-3 h-3 text-orange-400"}),g[10]||(g[10]=T(" Sunrise/Sunset ",-1))]),e("span",Is,x(t(X)===0?"Off":`${t(X)}m`),1)]),e("input",{type:"range",value:t(X),onInput:g[2]||(g[2]=w=>ae("fadeTime",parseInt(w.target.value)*60)),min:"0",max:"60",step:"1",class:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-orange-500"},null,40,Ls)])])]),e("div",Fs,[e("div",Vs,[y(t(Le),{class:"w-4 h-4 text-yellow-400"}),g[11]||(g[11]=T(" Temperature Protection ",-1))]),e("div",null,[e("div",Es,[g[12]||(g[12]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Go Dark (15-50°C, 0=OFF)",-1)),e("span",As,x(t(i).darkTemp||0)+"°C",1)]),e("input",{type:"range",value:t(i).darkTemp||0,onInput:g[3]||(g[3]=w=>$("darkTemp",parseFloat(w.target.value))),min:"0",max:"50",step:"0.5",class:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"},null,40,Bs)]),e("div",null,[e("div",Ws,[g[13]||(g[13]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Turn Off (>= Dark, 0=OFF)",-1)),e("span",Us,x(t(i).offTemp||0)+"°C",1)]),e("input",{type:"range",value:t(i).offTemp||0,onInput:te,min:"0",max:"50",step:"0.5",class:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"},null,40,Hs)])]),e("div",Js,[e("div",Rs,[e("label",Zs,[y(t(fe),{class:"w-3.5 h-3.5 text-blue-400"}),g[14]||(g[14]=T(" Schedule ",-1))]),(t(i).timePeriod?.length||0)<5?(l(),u("button",{key:0,onClick:q,class:"text-[10px] text-spider-green-400 hover:text-spider-green-300 flex items-center gap-0.5 font-medium"},[y(t(_e),{class:"w-3 h-3"}),g[15]||(g[15]=T(" Add ",-1))])):h("",!0)]),e("div",zs,[(l(!0),u(U,null,H(t(i).timePeriod||[],(w,P)=>(l(),u("div",{key:P,class:"p-2.5 rounded-xl bg-gray-800/40 border border-gray-700/50 space-y-1.5"},[e("div",Gs,[e("div",Ks,[e("button",{onClick:O=>L(P),class:p(["w-5 h-5 rounded-md flex items-center justify-center transition-all",w.enabled?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 shadow-lg shadow-spider-green-500/30":"bg-gray-700/60 border border-gray-600/50"])},[w.enabled?(l(),B(t(De),{key:0,class:"w-3 h-3 text-white"})):h("",!0)],10,qs),e("span",Qs,"P"+x(P+1),1)]),e("button",{onClick:O=>le(P),class:"text-red-400 hover:text-red-300 transition-colors"},[y(t(je),{class:"w-3 h-3"})],8,Xs)]),w.enabled?(l(),u("div",Ys,[e("input",{type:"time",value:d(w.startTime),onChange:O=>z(P,"startTime",F(O.target.value)),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,er),e("input",{type:"time",value:d(w.endTime),onChange:O=>z(P,"endTime",F(O.target.value)),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,tr),e("input",{type:"number",value:w.brightness,onChange:O=>z(P,"brightness",parseInt(O.target.value)),min:"0",max:"100",step:"1",placeholder:"Brightness %",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,nr),e("input",{type:"number",value:Math.floor((w.fadeTime||0)/60),onChange:O=>z(P,"fadeTime",parseInt(O.target.value)*60),min:"0",max:"60",step:"1",placeholder:"Fade (min)",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,sr),e("div",rr,[y(M,{value:w.weekmask||127,onUpdate:O=>z(P,"weekmask",O)},null,8,["value","onUpdate"])])])):h("",!0)]))),128))])])])):t(i).modeType===12?(l(),u("div",or,[e("div",lr,[e("div",ar,[y(t(Le),{class:"w-4 h-4 text-yellow-400"}),g[16]||(g[16]=T(" Temperature Protection ",-1))]),e("div",null,[e("div",ir,[g[17]||(g[17]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Go Dark (15-50°C, 0=OFF)",-1)),e("span",dr,x(t(i).darkTemp||0)+"°C",1)]),e("input",{type:"range",value:t(i).darkTemp||0,onInput:g[4]||(g[4]=w=>$("darkTemp",parseFloat(w.target.value))),min:"0",max:"50",step:"0.5",class:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500"},null,40,ur)]),e("div",null,[e("div",gr,[g[18]||(g[18]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Turn Off (>= Dark, 0=OFF)",-1)),e("span",pr,x(t(i).offTemp||0)+"°C",1)]),e("input",{type:"range",value:t(i).offTemp||0,onInput:te,min:"0",max:"50",step:"0.5",class:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-red-500"},null,40,mr)])]),e("div",cr,[e("div",xr,[y(t(ct),{class:"w-4 h-4 text-spider-green-400"}),g[19]||(g[19]=T(" Dimming Range ",-1))]),e("div",br,[e("div",null,[e("div",fr,[g[20]||(g[20]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Min (11-100%)",-1)),e("span",yr,x(t(i).ppfdMinBrightness||11)+"%",1)]),e("input",{type:"range",value:t(i).ppfdMinBrightness||11,onInput:ie,min:"11",max:"100",step:"1",class:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-spider-green-500"},null,40,vr)]),e("div",null,[e("div",wr,[g[21]||(g[21]=e("label",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium"},"Max (>= Min)",-1)),e("span",hr,x(t(i).ppfdMaxBrightness||100)+"%",1)]),e("input",{type:"range",value:t(i).ppfdMaxBrightness||100,onInput:ue,min:"11",max:"100",step:"1",class:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-spider-green-500"},null,40,kr)])])]),e("div",_r,[e("div",Cr,[e("label",Sr,[y(t(Ne),{class:"w-3.5 h-3.5 text-purple-400"}),g[22]||(g[22]=T(" PPFD Schedule ",-1))]),(t(i).ppfdPeriod?.length||0)<5?(l(),u("button",{key:0,onClick:ne,class:"text-[10px] text-spider-green-400 hover:text-spider-green-300 flex items-center gap-0.5 font-medium"},[y(t(_e),{class:"w-3 h-3"}),g[23]||(g[23]=T(" Add ",-1))])):h("",!0)]),e("div",$r,[(l(!0),u(U,null,H(t(i).ppfdPeriod||[],(w,P)=>(l(),u("div",{key:P,class:"p-2.5 rounded-xl bg-gray-800/40 border border-gray-700/50 space-y-1.5"},[e("div",Mr,[e("div",Tr,[e("button",{onClick:O=>ge(P),class:p(["w-5 h-5 rounded-md flex items-center justify-center transition-all",w.enabled?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 shadow-lg shadow-spider-green-500/30":"bg-gray-700/60 border border-gray-600/50"])},[w.enabled?(l(),B(t(De),{key:0,class:"w-3 h-3 text-white"})):h("",!0)],10,Or),e("span",Pr,"P"+x(P+1),1)]),e("button",{onClick:O=>re(P),class:"text-red-400 hover:text-red-300 transition-colors"},[y(t(je),{class:"w-3 h-3"})],8,Dr)]),w.enabled?(l(),u("div",Nr,[e("input",{type:"time",value:d(w.startTime),onChange:O=>Q(P,"startTime",F(O.target.value)),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,jr),e("input",{type:"time",value:d(w.endTime),onChange:O=>Q(P,"endTime",F(O.target.value)),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,Ir),e("input",{type:"number",value:w.brightness,onChange:O=>Q(P,"brightness",Math.round(parseInt(O.target.value)/10)*10),min:"20",max:"2000",step:"10",placeholder:"PPFD",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,Lr),e("input",{type:"number",value:Math.floor((w.fadeTime||0)/60),onChange:O=>Q(P,"fadeTime",parseInt(O.target.value)*60),min:"0",max:"60",step:"1",placeholder:"Fade (min)",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1 text-xs text-gray-200 focus:border-spider-green-500/50 focus:outline-none"},null,40,Fr),e("div",Vr,[y(M,{value:w.weekmask||127,onUpdate:O=>Q(P,"weekmask",O)},null,8,["value","onUpdate"])])])):h("",!0)]))),128))])])])):(l(),u("div",Er,[y(t(ze),{class:"w-4 h-4 text-yellow-400"}),T(" Mode "+x(t(i).modeType)+" - configure in the official Spider Farmer mobile app ",1)]))])],2)}}}),Br=Object.assign(Ar,{__name:"LightConfig"}),Wr={class:"space-y-4 sm:space-y-5 lg:space-y-6 p-2 sm:p-4"},Ur={key:0,class:"p-3 rounded-xl bg-gradient-to-r from-red-900/60 to-red-800/40 border border-red-500/50 text-red-200 text-sm flex items-center gap-3 backdrop-blur-md"},Hr={class:"w-8 h-8 rounded-lg bg-red-500/30 flex items-center justify-center shrink-0"},Jr={class:"rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 p-4 sm:p-5 lg:p-6 relative overflow-hidden"},Rr={class:"flex items-center justify-between mb-4 relative"},Zr={class:"text-sm sm:text-lg lg:text-xl font-semibold flex items-center gap-3"},zr={class:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-spider-green-500/30 to-emerald-600/20 flex items-center justify-center"},Gr=["disabled"],Kr={class:"hidden sm:inline"},qr={key:0,class:"text-center py-8 text-gray-400"},Qr={key:1,class:"text-center py-8 text-gray-400"},Xr={class:"w-12 h-12 mx-auto mb-3 rounded-xl bg-gray-800/50 flex items-center justify-center"},Yr={key:2,class:"flex flex-wrap gap-3 sm:gap-4"},eo={class:"flex-1 min-w-[200px] sm:min-w-[220px] p-3 sm:p-4 rounded-xl bg-gray-800/40 border border-gray-700/50 relative overflow-hidden"},to={class:"text-xs sm:text-sm font-semibold mb-3 flex items-center gap-2 relative"},no={class:"w-6 h-6 rounded-lg bg-yellow-500/20 flex items-center justify-center"},so={class:"flex items-center gap-2"},ro={class:"flex-1"},oo={class:"flex-1"},lo={class:"flex-1 min-w-[200px] sm:min-w-[220px] p-3 sm:p-4 rounded-xl bg-gray-800/40 border border-gray-700/50 relative overflow-hidden"},ao={class:"text-xs sm:text-sm font-semibold mb-3 flex items-center gap-2 relative"},io={class:"w-6 h-6 rounded-lg bg-red-500/20 flex items-center justify-center"},uo={class:"flex items-end gap-2"},go={class:"flex-1 min-w-0"},po={class:"flex-1 min-w-0"},mo={class:"flex-1 min-w-0"},co={class:"flex-1 min-w-[200px] sm:min-w-[220px] p-3 sm:p-4 rounded-xl bg-gray-800/40 border border-gray-700/50 relative overflow-hidden"},xo={class:"text-xs sm:text-sm font-semibold mb-3 flex items-center gap-2 relative"},bo={class:"w-6 h-6 rounded-lg bg-blue-500/20 flex items-center justify-center"},fo={class:"flex items-end gap-2"},yo={class:"flex-1 min-w-0"},vo={class:"flex-1 min-w-0"},wo={class:"flex-1 min-w-0"},ho={key:0,class:"flex-1 min-w-[200px] sm:min-w-[220px] p-3 sm:p-4 rounded-xl bg-gray-800/40 border border-gray-700/50 relative overflow-hidden"},ko={class:"text-xs sm:text-sm font-semibold mb-3 flex items-center gap-2 relative"},_o={class:"w-6 h-6 rounded-lg bg-purple-500/20 flex items-center justify-center"},Co={class:"flex items-end gap-2"},So={class:"flex-1 min-w-0"},$o={class:"flex-1 min-w-0"},Mo={class:"flex-1 min-w-0"},To={key:1,class:"rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 p-4 sm:p-5 lg:p-6 relative overflow-hidden"},Oo={class:"flex items-center justify-between mb-4 relative"},Po=["disabled"],Do={class:"hidden sm:inline"},No={class:"flex gap-2 sm:gap-3 mb-4"},jo=["onClick"],Io={class:"text-[11px] font-medium"},Lo={class:"w-full"},Fo={key:0,class:"flex flex-wrap gap-3"},Vo={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Eo={class:"flex-1 min-w-[200px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Ao={class:"flex items-center justify-between mb-2"},Bo={class:"text-lg font-bold text-cyan-400"},Wo=["value"],Uo={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Ho={key:1,class:"flex flex-wrap gap-3"},Jo={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Ro={class:"flex items-center justify-between mb-2"},Zo=["value"],zo=["value"],Go={key:0,class:"mt-2 p-2 rounded-lg bg-gray-900/60 text-[10px] text-gray-400"},Ko={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},qo={class:"flex items-center justify-between mb-2"},Qo={class:"text-lg font-bold text-cyan-400"},Xo={class:"flex items-center gap-2"},Yo=["value"],el={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},tl={class:"flex items-center justify-between mb-2"},nl={class:"text-lg font-bold text-cyan-400"},sl={class:"flex items-center gap-2"},rl=["value"],ol={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},ll={key:2,class:"flex flex-wrap gap-3"},al={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},il={class:"flex gap-3"},dl=["value"],ul=["value"],gl={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},pl={class:"flex items-center justify-between mb-2"},ml={class:"text-lg font-bold text-cyan-400"},cl={class:"flex items-center gap-2"},xl=["value"],bl={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},fl={class:"flex items-center justify-between mb-2"},yl={class:"text-lg font-bold text-cyan-400"},vl={class:"flex items-center gap-2"},wl=["value"],hl={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},kl={key:3,class:"flex flex-wrap gap-3"},_l={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Cl=["value"],Sl={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},$l={class:"flex gap-1"},Ml=["value"],Tl=["value"],Ol=["value"],Pl={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Dl={class:"flex gap-1"},Nl=["value"],jl=["value"],Il=["value"],Ll={class:"flex-1 min-w-[140px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Fl={class:"flex items-center justify-between mb-2"},Vl={class:"text-sm font-medium"},El={class:"text-lg font-bold text-cyan-400"},Al=["value","max"],Bl={class:"flex-1 min-w-[160px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Wl={class:"flex items-center justify-between mb-2"},Ul={class:"text-lg font-bold text-cyan-400"},Hl={class:"flex items-center gap-2"},Jl=["value"],Rl={class:"flex-1 min-w-[160px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Zl={class:"flex items-center justify-between mb-2"},zl={class:"text-lg font-bold text-cyan-400"},Gl={class:"flex items-center gap-2"},Kl=["value"],ql={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Ql={key:4,class:"flex flex-wrap gap-3"},Xl={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Yl={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},ea={class:"flex items-center justify-between mb-2"},ta={class:"text-lg font-bold text-cyan-400"},na=["value"],sa={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},ra={key:2,class:"rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 p-4 sm:p-5 lg:p-6 relative overflow-hidden"},oa={class:"flex items-center justify-between mb-4 relative"},la=["disabled"],aa={class:"hidden sm:inline"},ia={class:"flex gap-2 sm:gap-3 mb-4"},da=["onClick"],ua={class:"text-[11px] font-medium"},ga={class:"w-full"},pa={key:0,class:"flex flex-wrap gap-3"},ma={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},ca={class:"flex-1 min-w-[200px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},xa={class:"flex items-center justify-between mb-2"},ba={class:"text-lg font-bold text-teal-400"},fa=["value"],ya={class:"flex-1 min-w-[160px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},va={class:"flex items-center justify-between mb-2"},wa={class:"text-lg font-bold text-teal-400"},ha=["value"],ka={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},_a={key:1,class:"flex flex-wrap gap-3"},Ca={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Sa={class:"flex items-center justify-between mb-2"},$a=["value"],Ma=["value"],Ta={key:0,class:"mt-2 p-2 rounded-lg bg-gray-900/60 text-[10px] text-gray-400"},Oa={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Pa={class:"flex items-center justify-between mb-2"},Da={class:"text-lg font-bold text-teal-400"},Na={class:"flex items-center gap-2"},ja=["value"],Ia={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},La={class:"flex items-center justify-between mb-2"},Fa={class:"text-lg font-bold text-teal-400"},Va={class:"flex items-center gap-2"},Ea=["value"],Aa={class:"flex-1 min-w-[160px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Ba={class:"flex items-center justify-between mb-2"},Wa={class:"text-lg font-bold text-teal-400"},Ua=["value"],Ha={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Ja={key:2,class:"flex flex-wrap gap-3"},Ra={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Za={class:"flex gap-3"},za=["value"],Ga=["value"],Ka={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},qa={class:"flex items-center justify-between mb-2"},Qa={class:"text-lg font-bold text-teal-400"},Xa={class:"flex items-center gap-2"},Ya=["value"],e0={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},t0={class:"flex items-center justify-between mb-2"},n0={class:"text-lg font-bold text-teal-400"},s0={class:"flex items-center gap-2"},r0=["value"],o0={class:"flex-1 min-w-[160px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},l0={class:"flex items-center justify-between mb-2"},a0={class:"text-lg font-bold text-teal-400"},i0=["value"],d0={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},u0={key:3,class:"flex flex-wrap gap-3"},g0={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},p0=["value"],m0={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},c0={class:"flex gap-1"},x0=["value"],b0=["value"],f0=["value"],y0={class:"p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},v0={class:"flex gap-1"},w0=["value"],h0=["value"],k0=["value"],_0={class:"flex-1 min-w-[140px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},C0={class:"flex items-center justify-between mb-2"},S0={class:"text-sm font-medium"},$0={class:"text-lg font-bold text-teal-400"},M0=["value","max"],T0={class:"flex-1 min-w-[160px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},O0={class:"flex items-center justify-between mb-2"},P0={class:"text-lg font-bold text-teal-400"},D0={class:"flex items-center gap-2"},N0=["value"],j0={class:"flex-1 min-w-[160px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},I0={class:"flex items-center justify-between mb-2"},L0={class:"text-lg font-bold text-teal-400"},F0={class:"flex items-center gap-2"},V0=["value"],E0={class:"flex-1 min-w-[160px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},A0={class:"flex items-center justify-between mb-2"},B0={class:"text-lg font-bold text-teal-400"},W0=["value"],U0={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},H0={key:4,class:"flex flex-wrap gap-3"},J0={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},R0={class:"flex-1 min-w-[180px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},Z0={class:"flex items-center justify-between mb-2"},z0={class:"text-lg font-bold text-teal-400"},G0=["value"],K0={class:"flex-1 min-w-[160px] p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},q0={class:"flex items-center justify-between mb-2"},Q0={class:"text-lg font-bold text-teal-400"},X0=["value"],Y0={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},ei={key:3,class:"rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 p-4 sm:p-5 lg:p-6 relative overflow-hidden"},ti={class:"flex items-center justify-between mb-4 relative"},ni={class:"text-sm sm:text-lg lg:text-xl font-semibold flex items-center gap-3"},si={class:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-yellow-500/30 to-amber-600/20 flex items-center justify-center"},ri={class:"text-gray-500 text-[11px] font-mono hidden sm:block leading-none"},oi=["disabled"],li={class:"hidden sm:inline"},ai={key:0,class:"text-center py-6 text-gray-400 text-sm"},ii={key:1,class:"text-center py-6 text-gray-400 text-sm"},di={class:"w-12 h-12 mx-auto mb-3 rounded-xl bg-gray-800/50 flex items-center justify-center"},ui={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-3 sm:gap-4"},gi={class:"rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 p-4 sm:p-5 lg:p-6 relative overflow-hidden"},pi={class:"flex items-center justify-between mb-4 relative"},mi={class:"text-sm sm:text-lg lg:text-xl font-semibold flex items-center gap-3"},ci={class:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-yellow-500/30 to-amber-600/20 flex items-center justify-center"},xi={class:"text-gray-500 text-[11px] font-mono hidden sm:block leading-none"},bi=["disabled"],fi={class:"hidden sm:inline"},yi={key:0,class:"text-center py-6 text-gray-400 text-sm"},vi={key:1,class:"text-center py-6 text-gray-400 text-sm"},wi={class:"w-12 h-12 mx-auto mb-3 rounded-xl bg-gray-800/50 flex items-center justify-center"},hi={key:2,class:"flex flex-col sm:flex-row gap-3 sm:gap-4"},ki={class:"rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 p-4 sm:p-5 lg:p-6 relative overflow-hidden"},_i={class:"flex items-center justify-between mb-4 relative"},Ci={class:"text-sm sm:text-lg lg:text-xl font-semibold flex items-center gap-3"},Si={class:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-yellow-500/30 to-amber-600/20 flex items-center justify-center"},$i=["disabled"],Mi={class:"hidden sm:inline"},Ti={class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50 mb-4 relative overflow-hidden"},Oi={class:"w-24"},Pi={key:0,class:"mb-4"},Di={class:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2"},Ni={class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},ji=["value","onInput"],Ii={class:"space-y-2"},Li={class:"w-8 h-8 rounded-lg bg-yellow-500/20 flex items-center justify-center shrink-0"},Fi={class:"text-xs sm:text-sm font-medium w-16 sm:w-20"},Vi={class:"flex-1 flex items-center gap-2"},Ei={class:"flex-1 min-w-0"},Ai=["value","onChange"],Bi=["value"],Wi={key:0,class:"w-20 min-w-0"},Ui=["value","onInput"],bd=de({__name:"settings",setup(C){const v=xt(),D=Ue(),k=He(),i=Je(),W=bt(),o=dt(),r=ut(),d=We();ft();const{authenticated:F}=rt(),{requireAuth:S}=ot(),{getSocketDisplayName:j}=Re(),$=R(!0),I=R(!0),X=E(()=>$.value?["O1","O2","O3","O4","O5"]:[]),ae=E(()=>I.value?["light","light2"]:["light"]),Y=R(!1),ee=R(!1),te=R(!1),q=R(!1),le=R(!1),L=R(""),z=R(0),ie=R([]),ue=R([]),ne=[{model:"SF1000",watts:100},{model:"SF1000D",watts:100},{model:"SF2000",watts:200},{model:"SF2000Pro",watts:200},{model:"SF4000",watts:450},{model:"SF7000",watts:650},{model:"SE600",watts:60},{model:"SE1500",watts:150},{model:"SE3000",watts:300},{model:"SE4500",watts:320},{model:"SE5000",watts:480},{model:"SE7000",watts:730},{model:"SE1000W",watts:1e3},{model:"SE1200",watts:1200},{model:"G3000",watts:300},{model:"G5000",watts:480},{model:"G7000",watts:730},{model:"G8600",watts:800},{model:"G1000W",watts:1e3},{model:"G1200W",watts:1200}],re=[{value:0,label:"Manual",icon:$e},{value:1,label:"Time",icon:fe},{value:2,label:"Cycle",icon:Ie},{value:3,label:"Env",icon:be},{value:4,label:"Trigger",icon:ve}],ge=[{value:0,label:"Manual",icon:$e},{value:1,label:"Time",icon:fe},{value:2,label:"Cycle",icon:Ie},{value:3,label:"Env",icon:be},{value:4,label:"Trigger",icon:ve}],Q=[{value:7,label:"Temperature Priority",description:"Controlled by both temp and humidity. If neither is in range, temperature takes priority."},{value:8,label:"Humidity Priority",description:"Controlled by both temp and humidity. If neither is in range, humidity takes priority."},{value:13,label:"Temperature & Humidity",description:"Controlled by both. Runs if either goes beyond the set range."},{value:3,label:"Temperature Only",description:"Controlled only by temperature in the grow tent."},{value:4,label:"Humidity Only",description:"Controlled only by humidity in the grow tent."}];function se(c){const n=Math.floor(c/3600),N=Math.floor(c%3600/60);return`${n.toString().padStart(2,"0")}:${N.toString().padStart(2,"0")}`}function G(c){const[n,N]=c.split(":").map(Number);return(n||0)*3600+(N||0)*60}function _(c){const n=Math.floor(c/3600),N=Math.floor(c%3600/60),oe=c%60;return{h:n,m:N,s:oe}}function b(c,n,N){return(c||0)*3600+(n||0)*60+(N||0)}const g=E(()=>{const c=o.pendingCycleTime.openDur+o.pendingCycleTime.closeDur;return c<=0?1:Math.max(1,Math.floor(86400/c))}),M=E(()=>{const c=r.pendingCycleTime.openDur+r.pendingCycleTime.closeDur;return c<=0?1:Math.max(1,Math.floor(86400/c))});ce(g,c=>{o.pendingCycleTime.times>c&&o.updatePendingCycleTime("times",c)}),ce(M,c=>{r.pendingCycleTime.times>c&&r.updatePendingCycleTime("times",c)});const w=E(()=>{const c={};for(const[n,N]of Object.entries(i.configs))n==="light"&&k.isLight1Disabled||n==="light2"&&k.isLight2Disabled||(c[n]=N);return c}),P=E(()=>Object.keys(w.value).length===1),O=E(()=>i.configs.light||null),m=E(()=>{const c=Object.entries(k.configs);return c.sort((n,N)=>{const oe=parseInt(n[0].replace("O","")),ye=parseInt(N[0].replace("O",""));return oe-ye}),Object.fromEntries(c)});async function a(){try{await S()}catch{return}try{await v.saveTargets()}catch{}}async function V(){try{await S()}catch{return}q.value=!0,L.value="";try{for(const c of ie.value)c?.save&&await c.save()}catch(c){L.value=c?.message?.includes("verification")?"Save verification failed - device may not have applied changes":"Failed to save socket configuration",setTimeout(()=>{L.value=""},8e3)}finally{q.value=!1}}async function K(){try{await S()}catch{return}le.value=!0,L.value="";try{for(const c of ue.value)c?.save&&await c.save()}catch(c){L.value=c?.message?.includes("verification")?"Save verification failed - device may not have applied changes":"Failed to save light configuration",setTimeout(()=>{L.value=""},8e3)}finally{le.value=!1}}async function f(c,n){try{await k.updateConfig(c,n)}catch{}}async function J(c,n){try{await i.updateConfig(c,n)}catch{}}function Z(c,n){k.wattage[c]||(k.wattage[c]={watts:0,costPerKwh:0}),k.wattage[c].watts=n||0}function Me(c,n){k.lightWattage[c]||(k.lightWattage[c]={watts:0,costPerKwh:0}),k.lightWattage[c].watts=n||0}function Fe(c){const n=k.lightWattage[c];return c==="light2"?!n||n.watts===-1:n?.watts===-1}function Ke(c){if(Fe(c))return"disabled";const n=k.lightWattage[c]?.watts||0;return ne.find(oe=>oe.watts===n)?.model||""}function qe(c,n){if(n==="disabled"){k.lightWattage[c]?k.lightWattage[c].watts=-1:k.lightWattage[c]={watts:-1,costPerKwh:0};return}const N=ne.find(oe=>oe.model===n);N?Me(c,N.watts):Me(c,0)}async function Qe(){try{await S()}catch{return}Y.value=!0;try{const c=z.value||0;for(const n of X.value)k.wattage[n]&&(k.wattage[n].costPerKwh=c);for(const n of ae.value)k.lightWattage[n]&&(k.lightWattage[n].costPerKwh=c);await k.saveWattage()}catch{}finally{Y.value=!1}}function Xe(){for(const c of X.value){const n=k.wattage[c];if(n&&n.costPerKwh>0){z.value=n.costPerKwh;return}}for(const c of ae.value){const n=k.lightWattage[c];if(n&&n.costPerKwh>0){z.value=n.costPerKwh;return}}}async function Ye(){try{await S()}catch{return}try{await o.save()}catch{}}async function et(){try{await S()}catch{return}try{await r.save()}catch{}}return Oe(async()=>{$fetch("/api/devices/capabilities").then(n=>{$.value=n.capabilities.hasOutlets,I.value=n.capabilities.hasLight2}).catch(()=>{}),v.fetchTargets();const c=i.fetchStates();await k.fetchStates(),await o.fetchIfNeeded(),await Promise.all([d.fetchBlowerAiMode(),d.fetchFanAiMode()]),d.isBlowerAiEnabled&&o.setTriggerModeFromDb(!0),d.isFanAiEnabled&&r.setTriggerModeFromDb(!0),W.fetchDevices(),await k.fetchWattage(),Xe(),await c}),(c,n)=>{const N=$t,oe=at,ye=Dt,tt=os,nt=Br;return l(),u("div",Wr,[t(L)?(l(),u("div",Ur,[e("div",Hr,[y(t(ze),{class:"w-5 h-5 text-red-400"})]),T(" "+x(t(L)),1)])):h("",!0),e("div",Jr,[n[122]||(n[122]=e("div",{class:"absolute -top-6 -left-6 w-24 h-24 rounded-full blur-2xl pointer-events-none bg-spider-green-500/30"},null,-1)),n[123]||(n[123]=e("div",{class:"absolute -top-4 -right-4 w-20 h-20 rounded-full blur-2xl pointer-events-none bg-spider-green-500/20"},null,-1)),e("div",Rr,[e("h2",Zr,[e("div",zr,[y(t(Ee),{class:"w-4 h-4 sm:w-5 sm:h-5 text-spider-green-400"})]),n[95]||(n[95]=e("span",{class:"hidden sm:inline"},"Environment Targets",-1)),n[96]||(n[96]=e("span",{class:"sm:hidden"},"Targets",-1))]),t(v).targets?(l(),u("button",{key:0,onClick:a,disabled:t(v).saving,class:"bg-gradient-to-r from-spider-green-500 to-spider-green-600 hover:from-spider-green-400 hover:to-spider-green-500 disabled:from-gray-600 disabled:to-gray-700 text-white text-xs font-semibold py-2 px-4 rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-spider-green-500/20 disabled:shadow-none"},[t(v).saving?(l(),B(t(me),{key:1,class:"w-4 h-4 animate-spin"})):(l(),B(t(pe),{key:0,class:"w-4 h-4"})),e("span",Kr,x(t(v).saving?"Saving...":"Save"),1)],8,Gr)):h("",!0)]),t(v).loading?(l(),u("div",qr,[...n[97]||(n[97]=[e("div",{class:"animate-pulse"},"Loading environment targets...",-1)])])):t(v).targets?(l(),u("div",Yr,[e("div",eo,[n[103]||(n[103]=e("div",{class:"absolute -top-4 -left-4 w-16 h-16 rounded-full blur-2xl pointer-events-none bg-yellow-500/25"},null,-1)),e("h3",to,[e("div",no,[y(t(Se),{class:"w-3.5 h-3.5 text-yellow-400"})]),n[100]||(n[100]=T(" Day Cycle ",-1))]),e("div",so,[e("div",ro,[n[101]||(n[101]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Start",-1)),we(e("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>t(v).targets.dayTime.startTime=s),type:"time",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-xs text-white focus:border-spider-green-500/50 focus:outline-none"},null,512),[[he,t(v).targets.dayTime.startTime]])]),e("div",oo,[n[102]||(n[102]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"End",-1)),we(e("input",{"onUpdate:modelValue":n[1]||(n[1]=s=>t(v).targets.dayTime.endTime=s),type:"time",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-xs text-white focus:border-spider-green-500/50 focus:outline-none"},null,512),[[he,t(v).targets.dayTime.endTime]])])])]),e("div",lo,[n[109]||(n[109]=e("div",{class:"absolute -top-4 -left-4 w-16 h-16 rounded-full blur-2xl pointer-events-none bg-red-500/25"},null,-1)),e("h3",ao,[e("div",io,[y(t(be),{class:"w-3.5 h-3.5 text-red-400"})]),n[104]||(n[104]=T(" Temp ",-1)),n[105]||(n[105]=e("span",{class:"text-[10px] text-gray-500 font-normal"},"(°C)",-1))]),e("div",uo,[e("div",go,[n[106]||(n[106]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Day",-1)),y(N,{modelValue:t(v).targets.temp.targetDay,"onUpdate:modelValue":n[2]||(n[2]=s=>t(v).targets.temp.targetDay=s),min:0,max:50,step:1},null,8,["modelValue"])]),e("div",po,[n[107]||(n[107]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Night",-1)),y(N,{modelValue:t(v).targets.temp.targetNight,"onUpdate:modelValue":n[3]||(n[3]=s=>t(v).targets.temp.targetNight=s),min:0,max:50,step:1},null,8,["modelValue"])]),e("div",mo,[n[108]||(n[108]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Hyst.",-1)),y(N,{modelValue:t(v).targets.temp.deadband,"onUpdate:modelValue":n[4]||(n[4]=s=>t(v).targets.temp.deadband=s),min:1,max:10,step:1},null,8,["modelValue"])])])]),e("div",co,[n[115]||(n[115]=e("div",{class:"absolute -top-4 -left-4 w-16 h-16 rounded-full blur-2xl pointer-events-none bg-blue-500/25"},null,-1)),e("h3",xo,[e("div",bo,[y(t(Pe),{class:"w-3.5 h-3.5 text-blue-400"})]),n[110]||(n[110]=T(" Humidity ",-1)),n[111]||(n[111]=e("span",{class:"text-[10px] text-gray-500 font-normal"},"(%)",-1))]),e("div",fo,[e("div",yo,[n[112]||(n[112]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Day",-1)),y(N,{modelValue:t(v).targets.humi.targetDay,"onUpdate:modelValue":n[5]||(n[5]=s=>t(v).targets.humi.targetDay=s),min:0,max:100,step:1},null,8,["modelValue"])]),e("div",vo,[n[113]||(n[113]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Night",-1)),y(N,{modelValue:t(v).targets.humi.targetNight,"onUpdate:modelValue":n[6]||(n[6]=s=>t(v).targets.humi.targetNight=s),min:0,max:100,step:1},null,8,["modelValue"])]),e("div",wo,[n[114]||(n[114]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Hyst.",-1)),y(N,{modelValue:t(v).targets.humi.deadband,"onUpdate:modelValue":n[7]||(n[7]=s=>t(v).targets.humi.deadband=s),min:1,max:10,step:1},null,8,["modelValue"])])])]),t(D).hasCo2Sensor?(l(),u("div",ho,[n[121]||(n[121]=e("div",{class:"absolute -top-4 -left-4 w-16 h-16 rounded-full blur-2xl pointer-events-none bg-purple-500/25"},null,-1)),e("h3",ko,[e("div",_o,[y(t(Ze),{class:"w-3.5 h-3.5 text-purple-400"})]),n[116]||(n[116]=T(" CO2 ",-1)),n[117]||(n[117]=e("span",{class:"text-[10px] text-gray-500 font-normal"},"(ppm)",-1))]),e("div",Co,[e("div",So,[n[118]||(n[118]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Day",-1)),y(N,{modelValue:t(v).targets.co2.targetDay,"onUpdate:modelValue":n[8]||(n[8]=s=>t(v).targets.co2.targetDay=s),min:300,max:2500,step:10},null,8,["modelValue"])]),e("div",$o,[n[119]||(n[119]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Night",-1)),y(N,{modelValue:t(v).targets.co2.targetNight,"onUpdate:modelValue":n[9]||(n[9]=s=>t(v).targets.co2.targetNight=s),min:300,max:2500,step:10},null,8,["modelValue"])]),e("div",Mo,[n[120]||(n[120]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Hyst.",-1)),y(N,{modelValue:t(v).targets.co2.deadband,"onUpdate:modelValue":n[10]||(n[10]=s=>t(v).targets.co2.deadband=s),min:10,max:250,step:10},null,8,["modelValue"])])])])):h("",!0)])):(l(),u("div",Qr,[e("div",Xr,[y(t(Ee),{class:"w-6 h-6 text-gray-500"})]),n[98]||(n[98]=e("p",null,"No environment configuration data available.",-1)),n[99]||(n[99]=e("p",{class:"text-sm mt-2 text-gray-500"},"The device may need a specific command to send configuration data.",-1))]))]),t(o).loaded?(l(),u("div",To,[n[156]||(n[156]=e("div",{class:"absolute -top-6 -left-6 w-24 h-24 rounded-full blur-2xl pointer-events-none bg-cyan-500/30"},null,-1)),n[157]||(n[157]=e("div",{class:"absolute -top-4 -right-4 w-20 h-20 rounded-full blur-2xl pointer-events-none bg-spider-green-500/20"},null,-1)),e("div",Oo,[n[124]||(n[124]=e("h2",{class:"text-sm sm:text-lg font-semibold flex items-center gap-3"},[e("div",{class:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-cyan-500/30 to-cyan-600/20 flex items-center justify-center"},[e("svg",{class:"w-4 h-4 sm:w-5 sm:h-5 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})])]),T(" Blower ")],-1)),e("button",{onClick:Ye,disabled:t(o).saving||!t(o).hasChanges,class:"bg-gradient-to-r from-spider-green-500 to-spider-green-600 hover:from-spider-green-400 hover:to-spider-green-500 disabled:from-gray-600 disabled:to-gray-700 text-white text-xs font-semibold py-2 px-4 rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-spider-green-500/20 disabled:shadow-none"},[t(o).saving?(l(),B(t(me),{key:1,class:"w-4 h-4 animate-spin"})):(l(),B(t(pe),{key:0,class:"w-4 h-4"})),e("span",Do,x(t(o).saving?"Saving...":"Save"),1)],8,Po)]),e("div",No,[(l(),u(U,null,H(ge,s=>e("button",{key:s.value,onClick:A=>t(o).setPendingModeCategory(s.value),class:p(["flex-1 px-3 py-2 text-xs rounded-lg transition-all flex items-center justify-center gap-2",t(o).pendingModeCategory===s.value?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/30":"bg-gray-800/60 text-gray-400 hover:bg-gray-700/60 hover:text-gray-300 border border-gray-700/50"])},[(l(),B(Ce(s.icon),{class:"w-4 h-4"})),e("span",Io,x(s.label),1)],10,jo)),64))]),e("div",Lo,[t(o).pendingModeCategory===0?(l(),u("div",Fo,[e("div",Vo,[n[125]||(n[125]=e("span",{class:"text-sm font-medium"},"Power",-1)),e("button",{onClick:n[11]||(n[11]=s=>t(o).setPendingOn(!t(o).pendingOn)),class:p(["relative w-12 h-7 rounded-full transition-all",t(o).pendingOn?"bg-gradient-to-r from-cyan-500 to-cyan-600 shadow-lg shadow-cyan-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(o).pendingOn?"left-6":"left-1"])},null,2)],2)]),e("div",Eo,[e("div",Ao,[n[126]||(n[126]=e("span",{class:"text-sm font-medium"},"Speed",-1)),e("span",Bo,x(t(o).pendingLevel)+"%",1)]),e("input",{type:"range",value:t(o).pendingLevel,onInput:n[12]||(n[12]=s=>t(o).setPendingLevel(Number(s.target.value))),min:"25",max:"100",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,40,Wo),n[127]||(n[127]=e("div",{class:"flex justify-between text-[10px] text-gray-500 mt-1"},[e("span",null,"25%"),e("span",null,"100%")],-1))]),e("div",Uo,[n[128]||(n[128]=e("div",null,[e("span",{class:"text-sm font-medium"},"Close CO2"),e("p",{class:"text-[10px] text-gray-500"},"Stop CO2 when running")],-1)),e("button",{onClick:n[13]||(n[13]=s=>t(o).setPendingCloseCO2(!t(o).pendingCloseCO2)),class:p(["relative w-12 h-7 rounded-full transition-all",t(o).pendingCloseCO2?"bg-gradient-to-r from-cyan-500 to-cyan-600 shadow-lg shadow-cyan-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(o).pendingCloseCO2?"left-6":"left-1"])},null,2)],2)])])):t(o).pendingModeCategory===3?(l(),u("div",Ho,[e("div",Jo,[e("div",Ro,[n[129]||(n[129]=e("span",{class:"text-sm font-medium"},"Run Mode",-1)),e("button",{class:"text-gray-400 hover:text-gray-200",onClick:n[14]||(n[14]=s=>ee.value=!t(ee))},[y(t(Ae),{class:"w-4 h-4"})])]),e("select",{value:t(o).pendingModeType,onChange:n[15]||(n[15]=s=>t(o).setPendingModeType(Number(s.target.value))),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-3 py-2 text-sm text-white focus:border-cyan-500/50 focus:outline-none"},[(l(),u(U,null,H(Q,s=>e("option",{key:s.value,value:s.value},x(s.label),9,zo)),64))],40,Zo),t(ee)?(l(),u("div",Go,x(Q.find(s=>s.value===t(o).pendingModeType)?.description),1)):h("",!0)]),e("div",Ko,[e("div",qo,[n[130]||(n[130]=e("span",{class:"text-sm font-medium"},"Running Speed",-1)),e("span",Qo,x(t(o).pendingMaxSpeed===0?"Auto":t(o).pendingMaxSpeed+"%"),1)]),e("div",Xo,[e("button",{onClick:n[16]||(n[16]=s=>t(o).setPendingMaxSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(o).pendingMaxSpeed===0?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Auto",2),t(o).pendingMaxSpeed>0?(l(),u("input",{key:0,type:"range",value:t(o).pendingMaxSpeed,onInput:n[17]||(n[17]=s=>t(o).setPendingMaxSpeed(Number(s.target.value))),min:"25",max:"99",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,40,Yo)):h("",!0),t(o).pendingMaxSpeed===0?(l(),u("button",{key:1,onClick:n[18]||(n[18]=s=>t(o).setPendingMaxSpeed(50)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set Manual")):h("",!0)])]),e("div",el,[e("div",tl,[n[131]||(n[131]=e("span",{class:"text-sm font-medium"},"Standby Speed",-1)),e("span",nl,x(t(o).pendingMinSpeed===0?"Off":t(o).pendingMinSpeed+"%"),1)]),e("div",sl,[e("button",{onClick:n[19]||(n[19]=s=>t(o).setPendingMinSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(o).pendingMinSpeed===0?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Off",2),t(o).pendingMinSpeed>0?(l(),u("input",{key:0,type:"range",value:t(o).pendingMinSpeed,onInput:n[20]||(n[20]=s=>t(o).setPendingMinSpeed(Number(s.target.value))),min:"25",max:"98",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,40,rl)):h("",!0),t(o).pendingMinSpeed===0?(l(),u("button",{key:1,onClick:n[21]||(n[21]=s=>t(o).setPendingMinSpeed(25)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set Manual")):h("",!0)])]),e("div",ol,[n[132]||(n[132]=e("div",null,[e("span",{class:"text-sm font-medium"},"Close CO2"),e("p",{class:"text-[10px] text-gray-500"},"Stop CO2 when running")],-1)),e("button",{onClick:n[22]||(n[22]=s=>t(o).setPendingCloseCO2(!t(o).pendingCloseCO2)),class:p(["relative w-12 h-7 rounded-full transition-all",t(o).pendingCloseCO2?"bg-gradient-to-r from-cyan-500 to-cyan-600 shadow-lg shadow-cyan-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(o).pendingCloseCO2?"left-6":"left-1"])},null,2)],2)])])):t(o).pendingModeCategory===1?(l(),u("div",ll,[e("div",al,[n[135]||(n[135]=e("span",{class:"text-sm font-medium block mb-2"},"Schedule",-1)),e("div",il,[e("div",null,[n[133]||(n[133]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"Start",-1)),e("input",{type:"time",value:se(t(o).pendingTimePeriod[0]?.startTime||0),onInput:n[23]||(n[23]=s=>t(o).updatePendingTimePeriod(0,"startTime",G(s.target.value))),class:"w-24 bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-sm text-white focus:border-cyan-500/50 focus:outline-none"},null,40,dl)]),e("div",null,[n[134]||(n[134]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"End",-1)),e("input",{type:"time",value:se(t(o).pendingTimePeriod[0]?.endTime||0),onInput:n[24]||(n[24]=s=>t(o).updatePendingTimePeriod(0,"endTime",G(s.target.value))),class:"w-24 bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-sm text-white focus:border-cyan-500/50 focus:outline-none"},null,40,ul)])])]),e("div",gl,[e("div",pl,[n[136]||(n[136]=e("span",{class:"text-sm font-medium"},"Running Speed",-1)),e("span",ml,x(t(o).pendingMaxSpeed===0?"Auto":t(o).pendingMaxSpeed+"%"),1)]),e("div",cl,[e("button",{onClick:n[25]||(n[25]=s=>t(o).setPendingMaxSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(o).pendingMaxSpeed===0?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Auto",2),t(o).pendingMaxSpeed>0?(l(),u("input",{key:0,type:"range",value:t(o).pendingMaxSpeed,onInput:n[26]||(n[26]=s=>t(o).setPendingMaxSpeed(Number(s.target.value))),min:"25",max:"99",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,40,xl)):h("",!0),t(o).pendingMaxSpeed===0?(l(),u("button",{key:1,onClick:n[27]||(n[27]=s=>t(o).setPendingMaxSpeed(50)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set Manual")):h("",!0)])]),e("div",bl,[e("div",fl,[n[137]||(n[137]=e("span",{class:"text-sm font-medium"},"Standby Speed",-1)),e("span",yl,x(t(o).pendingMinSpeed===0?"Off":t(o).pendingMinSpeed+"%"),1)]),e("div",vl,[e("button",{onClick:n[28]||(n[28]=s=>t(o).setPendingMinSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(o).pendingMinSpeed===0?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Off",2),t(o).pendingMinSpeed>0?(l(),u("input",{key:0,type:"range",value:t(o).pendingMinSpeed,onInput:n[29]||(n[29]=s=>t(o).setPendingMinSpeed(Number(s.target.value))),min:"25",max:"98",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,40,wl)):h("",!0),t(o).pendingMinSpeed===0?(l(),u("button",{key:1,onClick:n[30]||(n[30]=s=>t(o).setPendingMinSpeed(25)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set Manual")):h("",!0)])]),e("div",hl,[n[138]||(n[138]=e("div",null,[e("span",{class:"text-sm font-medium"},"Close CO2"),e("p",{class:"text-[10px] text-gray-500"},"Stop CO2 when running")],-1)),e("button",{onClick:n[31]||(n[31]=s=>t(o).setPendingCloseCO2(!t(o).pendingCloseCO2)),class:p(["relative w-12 h-7 rounded-full transition-all",t(o).pendingCloseCO2?"bg-gradient-to-r from-cyan-500 to-cyan-600 shadow-lg shadow-cyan-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(o).pendingCloseCO2?"left-6":"left-1"])},null,2)],2)])])):t(o).pendingModeCategory===2?(l(),u("div",kl,[e("div",_l,[n[139]||(n[139]=e("label",{class:"block text-sm font-medium mb-2"},"Start Time",-1)),e("input",{type:"time",value:se(t(o).pendingCycleTime.startTime),onInput:n[32]||(n[32]=s=>t(o).updatePendingCycleTime("startTime",G(s.target.value))),class:"w-24 bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-sm text-white focus:border-cyan-500/50 focus:outline-none"},null,40,Cl)]),e("div",Sl,[n[143]||(n[143]=e("label",{class:"block text-sm font-medium mb-2"},"Run Duration",-1)),e("div",$l,[e("div",null,[n[140]||(n[140]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"H",-1)),e("input",{type:"number",value:_(t(o).pendingCycleTime.openDur).h,onInput:n[33]||(n[33]=s=>t(o).updatePendingCycleTime("openDur",b(Number(s.target.value),_(t(o).pendingCycleTime.openDur).m,_(t(o).pendingCycleTime.openDur).s))),min:"0",max:"23",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-cyan-500/50 focus:outline-none"},null,40,Ml)]),e("div",null,[n[141]||(n[141]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"M",-1)),e("input",{type:"number",value:_(t(o).pendingCycleTime.openDur).m,onInput:n[34]||(n[34]=s=>t(o).updatePendingCycleTime("openDur",b(_(t(o).pendingCycleTime.openDur).h,Number(s.target.value),_(t(o).pendingCycleTime.openDur).s))),min:"0",max:"59",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-cyan-500/50 focus:outline-none"},null,40,Tl)]),e("div",null,[n[142]||(n[142]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"S",-1)),e("input",{type:"number",value:_(t(o).pendingCycleTime.openDur).s,onInput:n[35]||(n[35]=s=>t(o).updatePendingCycleTime("openDur",b(_(t(o).pendingCycleTime.openDur).h,_(t(o).pendingCycleTime.openDur).m,Number(s.target.value)))),min:"0",max:"59",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-cyan-500/50 focus:outline-none"},null,40,Ol)])])]),e("div",Pl,[n[147]||(n[147]=e("label",{class:"block text-sm font-medium mb-2"},"Off Duration",-1)),e("div",Dl,[e("div",null,[n[144]||(n[144]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"H",-1)),e("input",{type:"number",value:_(t(o).pendingCycleTime.closeDur).h,onInput:n[36]||(n[36]=s=>t(o).updatePendingCycleTime("closeDur",b(Number(s.target.value),_(t(o).pendingCycleTime.closeDur).m,_(t(o).pendingCycleTime.closeDur).s))),min:"0",max:"23",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-cyan-500/50 focus:outline-none"},null,40,Nl)]),e("div",null,[n[145]||(n[145]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"M",-1)),e("input",{type:"number",value:_(t(o).pendingCycleTime.closeDur).m,onInput:n[37]||(n[37]=s=>t(o).updatePendingCycleTime("closeDur",b(_(t(o).pendingCycleTime.closeDur).h,Number(s.target.value),_(t(o).pendingCycleTime.closeDur).s))),min:"0",max:"59",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-cyan-500/50 focus:outline-none"},null,40,jl)]),e("div",null,[n[146]||(n[146]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"S",-1)),e("input",{type:"number",value:_(t(o).pendingCycleTime.closeDur).s,onInput:n[38]||(n[38]=s=>t(o).updatePendingCycleTime("closeDur",b(_(t(o).pendingCycleTime.closeDur).h,_(t(o).pendingCycleTime.closeDur).m,Number(s.target.value)))),min:"0",max:"59",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-cyan-500/50 focus:outline-none"},null,40,Il)])])]),e("div",Ll,[e("div",Fl,[e("span",Vl,"Exec Times (1-"+x(t(g))+")",1),e("span",El,x(t(o).pendingCycleTime.times),1)]),e("input",{type:"range",value:t(o).pendingCycleTime.times,onInput:n[39]||(n[39]=s=>t(o).updatePendingCycleTime("times",Number(s.target.value))),min:"1",max:t(g),step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,40,Al)]),e("div",Bl,[e("div",Wl,[n[148]||(n[148]=e("span",{class:"text-sm font-medium"},"Running Speed",-1)),e("span",Ul,x(t(o).pendingMaxSpeed===0?"Auto":t(o).pendingMaxSpeed+"%"),1)]),e("div",Hl,[e("button",{onClick:n[40]||(n[40]=s=>t(o).setPendingMaxSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(o).pendingMaxSpeed===0?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Auto",2),t(o).pendingMaxSpeed>0?(l(),u("input",{key:0,type:"range",value:t(o).pendingMaxSpeed,onInput:n[41]||(n[41]=s=>t(o).setPendingMaxSpeed(Number(s.target.value))),min:"25",max:"99",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,40,Jl)):h("",!0),t(o).pendingMaxSpeed===0?(l(),u("button",{key:1,onClick:n[42]||(n[42]=s=>t(o).setPendingMaxSpeed(50)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set")):h("",!0)])]),e("div",Rl,[e("div",Zl,[n[149]||(n[149]=e("span",{class:"text-sm font-medium"},"Standby Speed",-1)),e("span",zl,x(t(o).pendingMinSpeed===0?"Off":t(o).pendingMinSpeed+"%"),1)]),e("div",Gl,[e("button",{onClick:n[43]||(n[43]=s=>t(o).setPendingMinSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(o).pendingMinSpeed===0?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Off",2),t(o).pendingMinSpeed>0?(l(),u("input",{key:0,type:"range",value:t(o).pendingMinSpeed,onInput:n[44]||(n[44]=s=>t(o).setPendingMinSpeed(Number(s.target.value))),min:"25",max:"98",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,40,Kl)):h("",!0),t(o).pendingMinSpeed===0?(l(),u("button",{key:1,onClick:n[45]||(n[45]=s=>t(o).setPendingMinSpeed(25)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set")):h("",!0)])]),e("div",ql,[n[150]||(n[150]=e("div",null,[e("span",{class:"text-sm font-medium"},"Close CO2"),e("p",{class:"text-[10px] text-gray-500"},"Stop CO2 when running")],-1)),e("button",{onClick:n[46]||(n[46]=s=>t(o).setPendingCloseCO2(!t(o).pendingCloseCO2)),class:p(["relative w-12 h-7 rounded-full transition-all",t(o).pendingCloseCO2?"bg-gradient-to-r from-cyan-500 to-cyan-600 shadow-lg shadow-cyan-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(o).pendingCloseCO2?"left-6":"left-1"])},null,2)],2)])])):t(o).pendingModeCategory===4?(l(),u("div",Ql,[y(oe,{to:"/triggers",class:"flex items-center gap-2 px-3 py-2 rounded-xl bg-gradient-to-r from-purple-900/40 to-purple-800/20 border border-purple-600/30 hover:border-purple-500/50 transition-all group"},{default:Ve(()=>[y(t(ve),{class:"w-4 h-4 text-purple-400"}),n[151]||(n[151]=e("span",{class:"text-xs text-purple-300 group-hover:text-purple-200"},"Triggers →",-1))]),_:1}),e("div",Xl,[n[152]||(n[152]=e("span",{class:"text-sm font-medium"},"Power",-1)),e("button",{onClick:n[47]||(n[47]=s=>t(o).setPendingOn(!t(o).pendingOn)),class:p(["relative w-12 h-7 rounded-full transition-all",t(o).pendingOn?"bg-gradient-to-r from-cyan-500 to-cyan-600 shadow-lg shadow-cyan-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(o).pendingOn?"left-6":"left-1"])},null,2)],2)]),e("div",Yl,[e("div",ea,[n[153]||(n[153]=e("span",{class:"text-sm font-medium"},"Speed",-1)),e("span",ta,x(t(o).pendingLevel)+"%",1)]),e("input",{type:"range",value:t(o).pendingLevel,onInput:n[48]||(n[48]=s=>t(o).setPendingLevel(Number(s.target.value))),min:"25",max:"100",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,40,na),n[154]||(n[154]=e("div",{class:"flex justify-between text-[10px] text-gray-500 mt-1"},[e("span",null,"25%"),e("span",null,"100%")],-1))]),e("div",sa,[n[155]||(n[155]=e("div",null,[e("span",{class:"text-sm font-medium"},"Close CO2"),e("p",{class:"text-[10px] text-gray-500"},"Stop CO2 when running")],-1)),e("button",{onClick:n[49]||(n[49]=s=>t(o).setPendingCloseCO2(!t(o).pendingCloseCO2)),class:p(["relative w-12 h-7 rounded-full transition-all",t(o).pendingCloseCO2?"bg-gradient-to-r from-cyan-500 to-cyan-600 shadow-lg shadow-cyan-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(o).pendingCloseCO2?"left-6":"left-1"])},null,2)],2)])])):h("",!0)])])):h("",!0),t(r).loaded?(l(),u("div",ra,[n[196]||(n[196]=e("div",{class:"absolute -top-6 -left-6 w-24 h-24 rounded-full blur-2xl pointer-events-none bg-teal-500/30"},null,-1)),n[197]||(n[197]=e("div",{class:"absolute -top-4 -right-4 w-20 h-20 rounded-full blur-2xl pointer-events-none bg-spider-green-500/20"},null,-1)),e("div",oa,[n[158]||(n[158]=lt('<h2 class="text-sm sm:text-lg font-semibold flex items-center gap-3"><div class="w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-teal-500/30 to-teal-600/20 flex items-center justify-center"><svg class="w-4 h-4 sm:w-5 sm:h-5 text-teal-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path><circle cx="12" cy="12" r="9" stroke-linecap="round"></circle></svg></div> Fan </h2>',1)),e("button",{onClick:et,disabled:t(r).saving||!t(r).hasChanges,class:"bg-gradient-to-r from-spider-green-500 to-spider-green-600 hover:from-spider-green-400 hover:to-spider-green-500 disabled:from-gray-600 disabled:to-gray-700 text-white text-xs font-semibold py-2 px-4 rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-spider-green-500/20 disabled:shadow-none"},[t(r).saving?(l(),B(t(me),{key:1,class:"w-4 h-4 animate-spin"})):(l(),B(t(pe),{key:0,class:"w-4 h-4"})),e("span",aa,x(t(r).saving?"Saving...":"Save"),1)],8,la)]),e("div",ia,[(l(),u(U,null,H(re,s=>e("button",{key:s.value,onClick:A=>t(r).setPendingModeCategory(s.value),class:p(["flex-1 px-3 py-2 text-xs rounded-lg transition-all flex items-center justify-center gap-2",t(r).pendingModeCategory===s.value?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/30":"bg-gray-800/60 text-gray-400 hover:bg-gray-700/60 hover:text-gray-300 border border-gray-700/50"])},[(l(),B(Ce(s.icon),{class:"w-4 h-4"})),e("span",ua,x(s.label),1)],10,da)),64))]),e("div",ga,[t(r).pendingModeCategory===0?(l(),u("div",pa,[e("div",ma,[n[159]||(n[159]=e("span",{class:"text-sm font-medium"},"Power",-1)),e("button",{onClick:n[50]||(n[50]=s=>t(r).setPendingOn(!t(r).pendingOn)),class:p(["relative w-12 h-7 rounded-full transition-all",t(r).pendingOn?"bg-gradient-to-r from-teal-500 to-teal-600 shadow-lg shadow-teal-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(r).pendingOn?"left-6":"left-1"])},null,2)],2)]),e("div",ca,[e("div",xa,[n[160]||(n[160]=e("span",{class:"text-sm font-medium"},"Speed",-1)),e("span",ba,x(t(r).pendingLevel),1)]),e("input",{type:"range",value:t(r).pendingLevel,onInput:n[51]||(n[51]=s=>t(r).setPendingLevel(Number(s.target.value))),min:"1",max:"10",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,fa),n[161]||(n[161]=e("div",{class:"flex justify-between text-[10px] text-gray-500 mt-1"},[e("span",null,"1"),e("span",null,"10")],-1))]),e("div",ya,[e("div",va,[n[162]||(n[162]=e("span",{class:"text-sm font-medium"},"Oscillation",-1)),e("span",wa,x(t(r).pendingShakeLevel===0?"Off":t(r).pendingShakeLevel),1)]),e("input",{type:"range",value:t(r).pendingShakeLevel,onInput:n[52]||(n[52]=s=>t(r).setPendingShakeLevel(Number(s.target.value))),min:"0",max:"10",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,ha),n[163]||(n[163]=e("div",{class:"flex justify-between text-[10px] text-gray-500 mt-1"},[e("span",null,"Off"),e("span",null,"10")],-1))]),e("div",ka,[n[164]||(n[164]=e("span",{class:"text-sm font-medium"},"Natural Wind",-1)),e("button",{onClick:n[53]||(n[53]=s=>t(r).setPendingNatural(t(r).pendingNatural?0:1)),class:p(["relative w-12 h-7 rounded-full transition-all",t(r).pendingNatural?"bg-gradient-to-r from-teal-500 to-teal-600 shadow-lg shadow-teal-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(r).pendingNatural?"left-6":"left-1"])},null,2)],2)])])):t(r).pendingModeCategory===3?(l(),u("div",_a,[e("div",Ca,[e("div",Sa,[n[165]||(n[165]=e("span",{class:"text-sm font-medium"},"Run Mode",-1)),e("button",{class:"text-gray-400 hover:text-gray-200",onClick:n[54]||(n[54]=s=>te.value=!t(te))},[y(t(Ae),{class:"w-4 h-4"})])]),e("select",{value:t(r).pendingModeType,onChange:n[55]||(n[55]=s=>t(r).setPendingModeType(Number(s.target.value))),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-3 py-2 text-sm text-white focus:border-teal-500/50 focus:outline-none"},[(l(),u(U,null,H(Q,s=>e("option",{key:s.value,value:s.value},x(s.label),9,Ma)),64))],40,$a),t(te)?(l(),u("div",Ta,x(Q.find(s=>s.value===t(r).pendingModeType)?.description),1)):h("",!0)]),e("div",Oa,[e("div",Pa,[n[166]||(n[166]=e("span",{class:"text-sm font-medium"},"Running Speed",-1)),e("span",Da,x(t(r).pendingMaxSpeed===0?"Auto":t(r).pendingMaxSpeed),1)]),e("div",Na,[e("button",{onClick:n[56]||(n[56]=s=>t(r).setPendingMaxSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(r).pendingMaxSpeed===0?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Auto",2),t(r).pendingMaxSpeed>0?(l(),u("input",{key:0,type:"range",value:t(r).pendingMaxSpeed,onInput:n[57]||(n[57]=s=>t(r).setPendingMaxSpeed(Number(s.target.value))),min:"1",max:"10",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,ja)):h("",!0),t(r).pendingMaxSpeed===0?(l(),u("button",{key:1,onClick:n[58]||(n[58]=s=>t(r).setPendingMaxSpeed(5)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set Manual")):h("",!0)])]),e("div",Ia,[e("div",La,[n[167]||(n[167]=e("span",{class:"text-sm font-medium"},"Standby Speed",-1)),e("span",Fa,x(t(r).pendingMinSpeed===0?"Off":t(r).pendingMinSpeed),1)]),e("div",Va,[e("button",{onClick:n[59]||(n[59]=s=>t(r).setPendingMinSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(r).pendingMinSpeed===0?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Off",2),t(r).pendingMinSpeed>0?(l(),u("input",{key:0,type:"range",value:t(r).pendingMinSpeed,onInput:n[60]||(n[60]=s=>t(r).setPendingMinSpeed(Number(s.target.value))),min:"1",max:"9",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,Ea)):h("",!0),t(r).pendingMinSpeed===0?(l(),u("button",{key:1,onClick:n[61]||(n[61]=s=>t(r).setPendingMinSpeed(1)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set Manual")):h("",!0)])]),e("div",Aa,[e("div",Ba,[n[168]||(n[168]=e("span",{class:"text-sm font-medium"},"Oscillation",-1)),e("span",Wa,x(t(r).pendingShakeLevel===0?"Off":t(r).pendingShakeLevel),1)]),e("input",{type:"range",value:t(r).pendingShakeLevel,onInput:n[62]||(n[62]=s=>t(r).setPendingShakeLevel(Number(s.target.value))),min:"0",max:"10",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,Ua)]),e("div",Ha,[n[169]||(n[169]=e("span",{class:"text-sm font-medium"},"Natural Wind",-1)),e("button",{onClick:n[63]||(n[63]=s=>t(r).setPendingNatural(t(r).pendingNatural?0:1)),class:p(["relative w-12 h-7 rounded-full transition-all",t(r).pendingNatural?"bg-gradient-to-r from-teal-500 to-teal-600 shadow-lg shadow-teal-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(r).pendingNatural?"left-6":"left-1"])},null,2)],2)])])):t(r).pendingModeCategory===1?(l(),u("div",Ja,[e("div",Ra,[n[172]||(n[172]=e("span",{class:"text-sm font-medium block mb-2"},"Schedule",-1)),e("div",Za,[e("div",null,[n[170]||(n[170]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"Start",-1)),e("input",{type:"time",value:se(t(r).pendingTimePeriod[0]?.startTime||0),onInput:n[64]||(n[64]=s=>t(r).updatePendingTimePeriod(0,"startTime",G(s.target.value))),class:"w-24 bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-sm text-white focus:border-teal-500/50 focus:outline-none"},null,40,za)]),e("div",null,[n[171]||(n[171]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"End",-1)),e("input",{type:"time",value:se(t(r).pendingTimePeriod[0]?.endTime||0),onInput:n[65]||(n[65]=s=>t(r).updatePendingTimePeriod(0,"endTime",G(s.target.value))),class:"w-24 bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-sm text-white focus:border-teal-500/50 focus:outline-none"},null,40,Ga)])])]),e("div",Ka,[e("div",qa,[n[173]||(n[173]=e("span",{class:"text-sm font-medium"},"Running Speed",-1)),e("span",Qa,x(t(r).pendingMaxSpeed===0?"Auto":t(r).pendingMaxSpeed),1)]),e("div",Xa,[e("button",{onClick:n[66]||(n[66]=s=>t(r).setPendingMaxSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(r).pendingMaxSpeed===0?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Auto",2),t(r).pendingMaxSpeed>0?(l(),u("input",{key:0,type:"range",value:t(r).pendingMaxSpeed,onInput:n[67]||(n[67]=s=>t(r).setPendingMaxSpeed(Number(s.target.value))),min:"1",max:"10",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,Ya)):h("",!0),t(r).pendingMaxSpeed===0?(l(),u("button",{key:1,onClick:n[68]||(n[68]=s=>t(r).setPendingMaxSpeed(5)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set Manual")):h("",!0)])]),e("div",e0,[e("div",t0,[n[174]||(n[174]=e("span",{class:"text-sm font-medium"},"Standby Speed",-1)),e("span",n0,x(t(r).pendingMinSpeed===0?"Off":t(r).pendingMinSpeed),1)]),e("div",s0,[e("button",{onClick:n[69]||(n[69]=s=>t(r).setPendingMinSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(r).pendingMinSpeed===0?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Off",2),t(r).pendingMinSpeed>0?(l(),u("input",{key:0,type:"range",value:t(r).pendingMinSpeed,onInput:n[70]||(n[70]=s=>t(r).setPendingMinSpeed(Number(s.target.value))),min:"1",max:"9",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,r0)):h("",!0),t(r).pendingMinSpeed===0?(l(),u("button",{key:1,onClick:n[71]||(n[71]=s=>t(r).setPendingMinSpeed(1)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set Manual")):h("",!0)])]),e("div",o0,[e("div",l0,[n[175]||(n[175]=e("span",{class:"text-sm font-medium"},"Oscillation",-1)),e("span",a0,x(t(r).pendingShakeLevel===0?"Off":t(r).pendingShakeLevel),1)]),e("input",{type:"range",value:t(r).pendingShakeLevel,onInput:n[72]||(n[72]=s=>t(r).setPendingShakeLevel(Number(s.target.value))),min:"0",max:"10",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,i0)]),e("div",d0,[n[176]||(n[176]=e("span",{class:"text-sm font-medium"},"Natural Wind",-1)),e("button",{onClick:n[73]||(n[73]=s=>t(r).setPendingNatural(t(r).pendingNatural?0:1)),class:p(["relative w-12 h-7 rounded-full transition-all",t(r).pendingNatural?"bg-gradient-to-r from-teal-500 to-teal-600 shadow-lg shadow-teal-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(r).pendingNatural?"left-6":"left-1"])},null,2)],2)])])):t(r).pendingModeCategory===2?(l(),u("div",u0,[e("div",g0,[n[177]||(n[177]=e("label",{class:"block text-sm font-medium mb-2"},"Start Time",-1)),e("input",{type:"time",value:se(t(r).pendingCycleTime.startTime),onInput:n[74]||(n[74]=s=>t(r).updatePendingCycleTime("startTime",G(s.target.value))),class:"w-24 bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-sm text-white focus:border-teal-500/50 focus:outline-none"},null,40,p0)]),e("div",m0,[n[181]||(n[181]=e("label",{class:"block text-sm font-medium mb-2"},"Run Duration",-1)),e("div",c0,[e("div",null,[n[178]||(n[178]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"H",-1)),e("input",{type:"number",value:_(t(r).pendingCycleTime.openDur).h,onInput:n[75]||(n[75]=s=>t(r).updatePendingCycleTime("openDur",b(Number(s.target.value),_(t(r).pendingCycleTime.openDur).m,_(t(r).pendingCycleTime.openDur).s))),min:"0",max:"23",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-teal-500/50 focus:outline-none"},null,40,x0)]),e("div",null,[n[179]||(n[179]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"M",-1)),e("input",{type:"number",value:_(t(r).pendingCycleTime.openDur).m,onInput:n[76]||(n[76]=s=>t(r).updatePendingCycleTime("openDur",b(_(t(r).pendingCycleTime.openDur).h,Number(s.target.value),_(t(r).pendingCycleTime.openDur).s))),min:"0",max:"59",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-teal-500/50 focus:outline-none"},null,40,b0)]),e("div",null,[n[180]||(n[180]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"S",-1)),e("input",{type:"number",value:_(t(r).pendingCycleTime.openDur).s,onInput:n[77]||(n[77]=s=>t(r).updatePendingCycleTime("openDur",b(_(t(r).pendingCycleTime.openDur).h,_(t(r).pendingCycleTime.openDur).m,Number(s.target.value)))),min:"0",max:"59",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-teal-500/50 focus:outline-none"},null,40,f0)])])]),e("div",y0,[n[185]||(n[185]=e("label",{class:"block text-sm font-medium mb-2"},"Off Duration",-1)),e("div",v0,[e("div",null,[n[182]||(n[182]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"H",-1)),e("input",{type:"number",value:_(t(r).pendingCycleTime.closeDur).h,onInput:n[78]||(n[78]=s=>t(r).updatePendingCycleTime("closeDur",b(Number(s.target.value),_(t(r).pendingCycleTime.closeDur).m,_(t(r).pendingCycleTime.closeDur).s))),min:"0",max:"23",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-teal-500/50 focus:outline-none"},null,40,w0)]),e("div",null,[n[183]||(n[183]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"M",-1)),e("input",{type:"number",value:_(t(r).pendingCycleTime.closeDur).m,onInput:n[79]||(n[79]=s=>t(r).updatePendingCycleTime("closeDur",b(_(t(r).pendingCycleTime.closeDur).h,Number(s.target.value),_(t(r).pendingCycleTime.closeDur).s))),min:"0",max:"59",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-teal-500/50 focus:outline-none"},null,40,h0)]),e("div",null,[n[184]||(n[184]=e("label",{class:"block text-[10px] text-gray-500 mb-1"},"S",-1)),e("input",{type:"number",value:_(t(r).pendingCycleTime.closeDur).s,onInput:n[80]||(n[80]=s=>t(r).updatePendingCycleTime("closeDur",b(_(t(r).pendingCycleTime.closeDur).h,_(t(r).pendingCycleTime.closeDur).m,Number(s.target.value)))),min:"0",max:"59",class:"w-12 bg-gray-900/60 border border-gray-600/50 rounded-lg px-1 py-1.5 text-sm text-white text-center focus:border-teal-500/50 focus:outline-none"},null,40,k0)])])]),e("div",_0,[e("div",C0,[e("span",S0,"Exec Times (1-"+x(t(M))+")",1),e("span",$0,x(t(r).pendingCycleTime.times),1)]),e("input",{type:"range",value:t(r).pendingCycleTime.times,onInput:n[81]||(n[81]=s=>t(r).updatePendingCycleTime("times",Number(s.target.value))),min:"1",max:t(M),step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,M0)]),e("div",T0,[e("div",O0,[n[186]||(n[186]=e("span",{class:"text-sm font-medium"},"Running Speed",-1)),e("span",P0,x(t(r).pendingMaxSpeed===0?"Auto":t(r).pendingMaxSpeed),1)]),e("div",D0,[e("button",{onClick:n[82]||(n[82]=s=>t(r).setPendingMaxSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(r).pendingMaxSpeed===0?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Auto",2),t(r).pendingMaxSpeed>0?(l(),u("input",{key:0,type:"range",value:t(r).pendingMaxSpeed,onInput:n[83]||(n[83]=s=>t(r).setPendingMaxSpeed(Number(s.target.value))),min:"1",max:"10",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,N0)):h("",!0),t(r).pendingMaxSpeed===0?(l(),u("button",{key:1,onClick:n[84]||(n[84]=s=>t(r).setPendingMaxSpeed(5)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set")):h("",!0)])]),e("div",j0,[e("div",I0,[n[187]||(n[187]=e("span",{class:"text-sm font-medium"},"Standby Speed",-1)),e("span",L0,x(t(r).pendingMinSpeed===0?"Off":t(r).pendingMinSpeed),1)]),e("div",F0,[e("button",{onClick:n[85]||(n[85]=s=>t(r).setPendingMinSpeed(0)),class:p(["px-2 py-1 text-[10px] rounded-md font-medium transition-all",t(r).pendingMinSpeed===0?"bg-teal-500/20 text-teal-400 border border-teal-500/30":"bg-gray-700 text-gray-400 hover:bg-gray-600"])},"Off",2),t(r).pendingMinSpeed>0?(l(),u("input",{key:0,type:"range",value:t(r).pendingMinSpeed,onInput:n[86]||(n[86]=s=>t(r).setPendingMinSpeed(Number(s.target.value))),min:"1",max:"9",step:"1",class:"flex-1 h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,V0)):h("",!0),t(r).pendingMinSpeed===0?(l(),u("button",{key:1,onClick:n[87]||(n[87]=s=>t(r).setPendingMinSpeed(1)),class:"flex-1 px-2 py-1 text-[10px] rounded-md font-medium bg-gray-700 text-gray-400 hover:bg-gray-600"},"Set")):h("",!0)])]),e("div",E0,[e("div",A0,[n[188]||(n[188]=e("span",{class:"text-sm font-medium"},"Oscillation",-1)),e("span",B0,x(t(r).pendingShakeLevel===0?"Off":t(r).pendingShakeLevel),1)]),e("input",{type:"range",value:t(r).pendingShakeLevel,onInput:n[88]||(n[88]=s=>t(r).setPendingShakeLevel(Number(s.target.value))),min:"0",max:"10",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,W0)]),e("div",U0,[n[189]||(n[189]=e("span",{class:"text-sm font-medium"},"Natural Wind",-1)),e("button",{onClick:n[89]||(n[89]=s=>t(r).setPendingNatural(t(r).pendingNatural?0:1)),class:p(["relative w-12 h-7 rounded-full transition-all",t(r).pendingNatural?"bg-gradient-to-r from-teal-500 to-teal-600 shadow-lg shadow-teal-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(r).pendingNatural?"left-6":"left-1"])},null,2)],2)])])):t(r).pendingModeCategory===4?(l(),u("div",H0,[y(oe,{to:"/triggers",class:"flex items-center gap-2 px-3 py-2 rounded-xl bg-gradient-to-r from-purple-900/40 to-purple-800/20 border border-purple-600/30 hover:border-purple-500/50 transition-all group"},{default:Ve(()=>[y(t(ve),{class:"w-4 h-4 text-purple-400"}),n[190]||(n[190]=e("span",{class:"text-xs text-purple-300 group-hover:text-purple-200"},"Triggers →",-1))]),_:1}),e("div",J0,[n[191]||(n[191]=e("span",{class:"text-sm font-medium"},"Power",-1)),e("button",{onClick:n[90]||(n[90]=s=>t(r).setPendingOn(!t(r).pendingOn)),class:p(["relative w-12 h-7 rounded-full transition-all",t(r).pendingOn?"bg-gradient-to-r from-teal-500 to-teal-600 shadow-lg shadow-teal-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(r).pendingOn?"left-6":"left-1"])},null,2)],2)]),e("div",R0,[e("div",Z0,[n[192]||(n[192]=e("span",{class:"text-sm font-medium"},"Speed",-1)),e("span",z0,x(t(r).pendingLevel),1)]),e("input",{type:"range",value:t(r).pendingLevel,onInput:n[91]||(n[91]=s=>t(r).setPendingLevel(Number(s.target.value))),min:"1",max:"10",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,G0),n[193]||(n[193]=e("div",{class:"flex justify-between text-[10px] text-gray-500 mt-1"},[e("span",null,"1"),e("span",null,"10")],-1))]),e("div",K0,[e("div",q0,[n[194]||(n[194]=e("span",{class:"text-sm font-medium"},"Oscillation",-1)),e("span",Q0,x(t(r).pendingShakeLevel===0?"Off":t(r).pendingShakeLevel),1)]),e("input",{type:"range",value:t(r).pendingShakeLevel,onInput:n[92]||(n[92]=s=>t(r).setPendingShakeLevel(Number(s.target.value))),min:"0",max:"10",step:"1",class:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-teal-500"},null,40,X0)]),e("div",Y0,[n[195]||(n[195]=e("span",{class:"text-sm font-medium"},"Natural Wind",-1)),e("button",{onClick:n[93]||(n[93]=s=>t(r).setPendingNatural(t(r).pendingNatural?0:1)),class:p(["relative w-12 h-7 rounded-full transition-all",t(r).pendingNatural?"bg-gradient-to-r from-teal-500 to-teal-600 shadow-lg shadow-teal-500/30":"bg-gray-600"])},[e("span",{class:p(["absolute top-1 w-5 h-5 bg-white rounded-full shadow transition-all",t(r).pendingNatural?"left-6":"left-1"])},null,2)],2)])])):h("",!0)])])):h("",!0),t($)?(l(),u("div",ei,[n[201]||(n[201]=e("div",{class:"absolute -top-6 -left-6 w-24 h-24 rounded-full blur-2xl pointer-events-none bg-yellow-500/30"},null,-1)),n[202]||(n[202]=e("div",{class:"absolute -top-4 -right-4 w-20 h-20 rounded-full blur-2xl pointer-events-none bg-spider-green-500/20"},null,-1)),e("div",ti,[e("h2",ni,[e("div",si,[y(t(xe),{class:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400"})]),n[198]||(n[198]=T(" Sockets ",-1)),(l(!0),u(U,null,H(t(W).primaryDevices,s=>(l(),u("div",{key:s.mac,class:"flex flex-col px-2.5 py-0.5 rounded-lg bg-gray-800/60"},[y(ye,{rssi:s.wifiRssi,connected:s.connected,size:"sm"},null,8,["rssi","connected"]),e("span",ri,"ID: "+x(s.mac),1)]))),128))]),Object.keys(t(k).configs).length>0?(l(),u("button",{key:0,onClick:V,disabled:t(q),class:"bg-gradient-to-r from-spider-green-500 to-spider-green-600 hover:from-spider-green-400 hover:to-spider-green-500 disabled:from-gray-600 disabled:to-gray-700 text-white text-xs font-semibold py-2 px-4 rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-spider-green-500/20 disabled:shadow-none"},[t(q)?(l(),B(t(me),{key:1,class:"w-4 h-4 animate-spin"})):(l(),B(t(pe),{key:0,class:"w-4 h-4"})),e("span",li,x(t(q)?"Saving...":"Save"),1)],8,oi)):h("",!0)]),t(k).loading?(l(),u("div",ai,[...n[199]||(n[199]=[e("div",{class:"animate-pulse"},"Loading socket data...",-1)])])):Object.keys(t(k).configs).length===0?(l(),u("div",ii,[e("div",di,[y(t(xe),{class:"w-6 h-6 text-gray-500"})]),n[200]||(n[200]=T(" No socket data available. Check device connection. ",-1))])):(l(),u("div",ui,[(l(!0),u(U,null,H(t(m),(s,A)=>(l(),B(tt,{key:A,ref_for:!0,ref_key:"socketRefs",ref:ie,socket:parseInt(A.replace("O","")),config:s,onUpdate:Te=>f(A,Te)},null,8,["socket","config","onUpdate"]))),128))]))])):h("",!0),e("div",{class:p(["grid gap-4 sm:gap-5 lg:gap-6",Object.keys(t(w)).length<=1?"grid-cols-1 lg:grid-cols-2":"grid-cols-1"])},[e("div",gi,[n[205]||(n[205]=e("div",{class:"absolute -top-6 -left-6 w-24 h-24 rounded-full blur-2xl pointer-events-none bg-yellow-500/30"},null,-1)),n[206]||(n[206]=e("div",{class:"absolute -top-4 -right-4 w-20 h-20 rounded-full blur-2xl pointer-events-none bg-spider-green-500/20"},null,-1)),e("div",pi,[e("h2",mi,[e("div",ci,[y(t(ke),{class:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400"})]),T(" "+x(t(P)?"Light 1":"Lights")+" ",1),t(P)&&t(O)?(l(),u("span",{key:0,class:p([t(O).mOnOff?"text-spider-green-400":"text-gray-500","text-xs font-medium flex items-center gap-1.5 px-2 py-1 rounded-lg bg-gray-800/60"])},[e("span",{class:p([t(O).mOnOff?"bg-spider-green-400 shadow-lg shadow-spider-green-400/50":"bg-gray-500","w-2 h-2 rounded-full"])},null,2),T(" "+x(t(O).mOnOff?`${t(O).mLevel||0}%`:"OFF"),1)],2)):h("",!0),(l(!0),u(U,null,H(t(W).lcDevices,s=>(l(),u("div",{key:s.mac,class:"flex flex-col px-2.5 py-0.5 rounded-lg bg-gray-800/60"},[y(ye,{rssi:s.wifiRssi,connected:s.connected,size:"sm"},null,8,["rssi","connected"]),e("span",xi,"ID: "+x(s.mac),1)]))),128))]),Object.keys(t(i).configs).length>0?(l(),u("button",{key:0,onClick:K,disabled:t(le),class:"bg-gradient-to-r from-spider-green-500 to-spider-green-600 hover:from-spider-green-400 hover:to-spider-green-500 disabled:from-gray-600 disabled:to-gray-700 text-white text-xs font-semibold py-2 px-4 rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-spider-green-500/20 disabled:shadow-none"},[t(le)?(l(),B(t(me),{key:1,class:"w-4 h-4 animate-spin"})):(l(),B(t(pe),{key:0,class:"w-4 h-4"})),e("span",fi,x(t(le)?"Saving...":"Save"),1)],8,bi)):h("",!0)]),t(i).loading?(l(),u("div",yi,[...n[203]||(n[203]=[e("div",{class:"animate-pulse"},"Loading light data...",-1)])])):Object.keys(t(i).configs).length===0?(l(),u("div",vi,[e("div",wi,[y(t(ke),{class:"w-6 h-6 text-gray-500"})]),n[204]||(n[204]=T(" No light data available. Check device connection. ",-1))])):(l(),u("div",hi,[(l(!0),u(U,null,H(t(w),(s,A)=>(l(),B(nt,{key:A,ref_for:!0,ref_key:"lightRefs",ref:ue,"light-id":A,title:A==="light"?"Light 1":"Light 2",config:s,compact:t(P),class:"flex-1 min-w-0",onUpdate:Te=>J(A,Te)},null,8,["light-id","title","config","compact","onUpdate"]))),128))]))]),e("div",ki,[n[219]||(n[219]=e("div",{class:"absolute -top-6 -left-6 w-24 h-24 rounded-full blur-2xl pointer-events-none bg-yellow-500/30"},null,-1)),n[220]||(n[220]=e("div",{class:"absolute -top-4 -right-4 w-20 h-20 rounded-full blur-2xl pointer-events-none bg-spider-green-500/20"},null,-1)),e("div",_i,[e("h2",Ci,[e("div",Si,[y(t(xe),{class:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400"})]),n[207]||(n[207]=T(" Power Consumption ",-1))]),e("button",{onClick:Qe,disabled:t(Y),class:"bg-gradient-to-r from-spider-green-500 to-spider-green-600 hover:from-spider-green-400 hover:to-spider-green-500 disabled:from-gray-600 disabled:to-gray-700 text-white text-xs font-semibold py-2 px-4 rounded-xl transition-all flex items-center gap-2 shadow-lg shadow-spider-green-500/20 disabled:shadow-none"},[t(Y)?(l(),B(t(me),{key:1,class:"w-4 h-4 animate-spin"})):(l(),B(t(pe),{key:0,class:"w-4 h-4"})),e("span",Mi,x(t(Y)?"Saving...":"Save"),1)],8,$i)]),e("div",Ti,[n[208]||(n[208]=e("div",{class:"absolute -top-4 -left-4 w-16 h-16 rounded-full blur-2xl pointer-events-none bg-spider-green-500/25"},null,-1)),n[209]||(n[209]=e("div",{class:"w-8 h-8 rounded-lg bg-spider-green-500/20 flex items-center justify-center relative"},[e("span",{class:"text-spider-green-400 text-sm font-bold"},"€")],-1)),n[210]||(n[210]=e("span",{class:"text-xs sm:text-sm font-medium relative"},"Electricity Cost",-1)),e("div",Oi,[we(e("input",{type:"number","onUpdate:modelValue":n[94]||(n[94]=s=>Be(z)?z.value=s:null),min:"0",step:"0.01",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-xs text-white focus:border-spider-green-500/50 focus:outline-none"},null,512),[[he,t(z),void 0,{number:!0}]])]),n[211]||(n[211]=e("span",{class:"text-[10px] text-gray-500 uppercase tracking-wider"},"EUR/kWh",-1))]),t($)?(l(),u("div",Pi,[n[212]||(n[212]=e("h3",{class:"text-xs text-gray-400 font-semibold uppercase tracking-wider mb-2"},"Sockets (watts)",-1)),e("div",Di,[(l(!0),u(U,null,H(t(X),s=>(l(),u("div",{key:s,class:"p-2.5 rounded-xl bg-gray-800/40 border border-gray-700/50"},[e("label",Ni,x(t(j)(s,"short")),1),e("input",{type:"number",value:t(k).wattage[s]?.watts||0,onInput:A=>Z(s,A.target.valueAsNumber),min:"0",max:"5000",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-xs text-white focus:border-spider-green-500/50 focus:outline-none"},null,40,ji)]))),128))])])):h("",!0),e("div",null,[n[217]||(n[217]=e("h3",{class:"text-xs text-gray-400 font-semibold uppercase tracking-wider mb-1"},"Lights (max watts at 100%)",-1)),n[218]||(n[218]=e("p",{class:"text-[10px] text-gray-500 mb-3"},"Actual consumption adjusts based on brightness level",-1)),e("div",Ii,[(l(!0),u(U,null,H(t(ae),s=>(l(),u("div",{key:s,class:"flex items-center gap-3 p-3 rounded-xl bg-gray-800/40 border border-gray-700/50"},[e("div",Li,[y(t(ke),{class:"w-4 h-4 text-yellow-400"})]),e("span",Fi,x(s==="light"?"Light 1":"Light 2"),1),e("div",Vi,[e("div",Ei,[n[215]||(n[215]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Model",-1)),e("select",{value:Ke(s),onChange:A=>qe(s,A.target.value),class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-xs text-white focus:border-spider-green-500/50 focus:outline-none"},[n[213]||(n[213]=e("option",{value:"disabled"},"Disabled",-1)),n[214]||(n[214]=e("option",{value:""},"Custom",-1)),(l(),u(U,null,H(ne,A=>e("option",{key:A.model,value:A.model},x(A.model)+" ("+x(A.watts)+"W) ",9,Bi)),64))],40,Ai)]),Fe(s)?h("",!0):(l(),u("div",Wi,[n[216]||(n[216]=e("label",{class:"block text-[10px] text-gray-500 uppercase tracking-wider mb-1"},"Max W",-1)),e("input",{type:"number",value:t(k).lightWattage[s]?.watts||0,onInput:A=>Me(s,A.target.valueAsNumber),min:"0",max:"2000",class:"w-full bg-gray-900/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-xs text-white focus:border-spider-green-500/50 focus:outline-none"},null,40,Ui)]))])]))),128))])])])],2)])}}});export{bd as default};
