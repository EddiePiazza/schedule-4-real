import{e as G,o as n,c as o,n as S,f,a as e,t as d,g as at,h as t,F as R,r as U,b as L,i as ut,v as xt,j as ft,k as pt,d as st,l as P,m as b,p as Dt,q as Z,s as Tt,x as K,T as Ot,y as jt,z as vt,A as yt,B as Lt,C as Et,D as bt,E as Ft}from"./Cy0OlE_M.js";import{u as ht,a as ot,b as St,c as Ct}from"./Bb5V-1Ac.js";import{u as mt}from"./Bs0Spj-j.js";import{u as Mt}from"./BNoHjFks.js";import{s as At}from"./B8I8u6Mn.js";import{r as gt}from"./Dw3dtw2A.js";import{L as Pt}from"./D9iovGVg.js";import{C as Nt,L as Ht,T as Vt,P as Rt,a as Bt,p as It,b as Wt,c as zt,i as Xt}from"./CqYFChgv.js";import"./Chq5WpSy.js";import{r as Ut}from"./CuWFYieJ.js";import{r as wt}from"./DMpBdeQJ.js";import{r as _t,a as $t,b as qt}from"./CxCs1kdE.js";import{r as Kt}from"./BmCxRdxy.js";import{r as Yt}from"./EUJf9DrD.js";import{_ as Zt}from"./DlAUqK2U.js";const Qt={class:"relative p-2.5 sm:p-3 rounded-xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 overflow-hidden group hover:border-gray-600/50 transition-all"},Gt={class:"relative flex items-center justify-between gap-2"},Jt={class:"min-w-0 flex-1"},te={class:"flex items-center gap-1.5 mb-1"},ee={class:"text-[10px] sm:text-xs text-gray-400 uppercase tracking-wider font-medium truncate"},se={class:"flex items-baseline"},ne={class:"text-xl sm:text-2xl font-bold text-white tracking-tight"},ae={class:"text-gray-500 ml-1 text-[10px] sm:text-xs font-medium"},oe={key:0,class:"text-[11px] sm:text-[13px] space-y-0.5 text-right shrink-0"},ie={class:"flex items-center justify-end gap-1"},re={class:"text-blue-400 font-medium"},le={class:"flex items-center justify-end gap-1"},de={class:"text-spider-green-400 font-medium"},ce={class:"flex items-center justify-end gap-1"},ue={class:"text-red-400 font-medium"},me={key:1,class:"flex text-[11px] sm:text-[13px] shrink-0"},ge={key:0,class:"space-y-0.5 text-right pr-2"},xe={class:"flex items-center justify-end gap-1"},pe={class:"text-blue-400 font-semibold"},he={class:"flex items-center justify-end gap-1"},fe={class:"text-spider-green-400 font-semibold"},ve={class:"flex items-center justify-end gap-1"},ye={class:"text-red-400 font-semibold"},be={key:1,class:"w-px bg-gray-600/50 mx-1"},we={key:2,class:"space-y-0.5 text-right pl-1"},_e={class:"flex items-center justify-end gap-1"},$e={class:"text-blue-400 font-semibold"},ke={class:"flex items-center justify-end gap-1"},Se={class:"text-spider-green-400 font-semibold"},Ce={class:"flex items-center justify-end gap-1"},Me={class:"text-red-400 font-semibold"},De=G({__name:"SensorCard",props:{title:{},value:{},unit:{},icon:{},status:{},decimals:{default:1},stats:{},dayStats:{},nightStats:{}},setup(r){return(a,u)=>(n(),o("div",Qt,[r.status?(n(),o("div",{key:0,class:S(["absolute -top-4 -right-4 w-16 h-16 rounded-full blur-2xl opacity-30 pointer-events-none transition-opacity",{"bg-spider-green-500":r.status==="normal"||r.status==="optimal","bg-yellow-500":r.status==="high"||r.status==="warn-high","bg-blue-500":r.status==="low"||r.status==="warn-low"}])},null,2)):f("",!0),e("div",Gt,[e("div",Jt,[e("div",te,[e("span",ee,d(r.title),1),r.status?(n(),o("span",{key:0,class:S(["w-1.5 h-1.5 rounded-full shrink-0 ring-2",{"bg-spider-green-400 ring-spider-green-400/30":r.status==="normal"||r.status==="optimal","bg-yellow-400 ring-yellow-400/30":r.status==="high"||r.status==="warn-high","bg-blue-400 ring-blue-400/30":r.status==="low"||r.status==="warn-low"}])},null,2)):f("",!0)]),e("div",se,[e("span",ne,d(typeof r.value=="number"?r.value.toFixed(r.decimals):"--"),1),e("span",ae,d(r.unit),1)])]),r.stats&&!r.dayStats&&!r.nightStats?(n(),o("div",oe,[e("div",ie,[u[0]||(u[0]=e("span",{class:"text-gray-600"},"Min",-1)),e("span",re,d(r.stats.min),1)]),e("div",le,[u[1]||(u[1]=e("span",{class:"text-gray-600"},"Avg",-1)),e("span",de,d(r.stats.avg),1)]),e("div",ce,[u[2]||(u[2]=e("span",{class:"text-gray-600"},"Max",-1)),e("span",ue,d(r.stats.max),1)])])):f("",!0),r.dayStats||r.nightStats?(n(),o("div",me,[r.dayStats?(n(),o("div",ge,[e("div",xe,[u[3]||(u[3]=e("span",{class:"text-yellow-500 font-medium"},"Day Min",-1)),e("span",pe,d(r.dayStats.min),1)]),e("div",he,[u[4]||(u[4]=e("span",{class:"text-yellow-500 font-medium"},"Avg",-1)),e("span",fe,d(r.dayStats.avg),1)]),e("div",ve,[u[5]||(u[5]=e("span",{class:"text-yellow-500 font-medium"},"Max",-1)),e("span",ye,d(r.dayStats.max),1)])])):f("",!0),r.dayStats&&r.nightStats?(n(),o("div",be)):f("",!0),r.nightStats?(n(),o("div",we,[e("div",_e,[u[6]||(u[6]=e("span",{class:"text-indigo-400 font-medium"},"Night Min",-1)),e("span",$e,d(r.nightStats.min),1)]),e("div",ke,[u[7]||(u[7]=e("span",{class:"text-indigo-400 font-medium"},"Avg",-1)),e("span",Se,d(r.nightStats.avg),1)]),e("div",Ce,[u[8]||(u[8]=e("span",{class:"text-indigo-400 font-medium"},"Max",-1)),e("span",Me,d(r.nightStats.max),1)])])):f("",!0)])):f("",!0)])]))}}),Te=Object.assign(De,{__name:"SensorCard"});function Oe(r,a){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"})])}function je(r,a){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}const Le={class:"flex items-center justify-between mb-2"},Ee={class:"flex items-center gap-2 min-w-0 flex-1"},Fe={class:"w-5 h-5 rounded bg-amber-500/20 flex items-center justify-center shrink-0"},Ae={class:"min-w-0 flex-1"},Pe={key:0,class:"flex items-center gap-1"},Ne=["onKeyup","onBlur"],He=["onClick"],Ve={class:"truncate"},Re={class:"text-[9px] text-gray-500 font-mono shrink-0 ml-2"},Be={class:"grid grid-cols-3 gap-1.5"},Ie={class:"text-center"},We={class:"text-base font-semibold text-white"},ze={class:"text-center"},Xe={class:"text-base font-semibold text-white"},Ue={class:"text-center"},qe={class:"text-base font-semibold text-amber-400"},Ke=G({__name:"SoilSensorsPanel",props:{stacked:{type:Boolean}},setup(r){const a=r,u=ht(),x=P(null),y=P(""),T=b(()=>u.soilSensors.filter(v=>E(v)));function E(v){if(!v.lastSeen)return!1;const g=new Date(v.lastSeen).getTime();return Date.now()-g<600*1e3}function _(v){return u.soilSensorsCurrent[v]}function $(v,g=1){return v==null?"--":v.toFixed(g)}function h(v){x.value=v.id,y.value=v.name||""}function m(){x.value=null,y.value=""}async function c(v){if(x.value!==v)return;const g=y.value.trim();try{await u.updateSoilSensorName(v,g)}catch{}m()}return at(()=>{T.value.length===0&&u.fetchSoilSensors()}),(v,g)=>t(T).length>0?(n(),o("div",{key:0,class:S(["grid gap-2",a.stacked||t(T).length===1?"grid-cols-1":"grid-cols-2"])},[(n(!0),o(R,null,U(t(T),(l,w)=>(n(),o("div",{key:l.id,class:"p-2.5 rounded-xl bg-gradient-to-br from-amber-900/20 to-gray-900/40 border border-amber-500/20 backdrop-blur-md"},[e("div",Le,[e("div",Ee,[e("div",Fe,[L(t(Oe),{class:"w-3 h-3 text-amber-400"})]),e("div",Ae,[t(x)===l.id?(n(),o("div",Pe,[ut(e("input",{"onUpdate:modelValue":g[0]||(g[0]=k=>pt(y)?y.value=k:null),onKeyup:[ft(k=>c(l.id),["enter"]),ft(m,["escape"])],onBlur:k=>c(l.id),class:"bg-gray-800 border border-gray-600 rounded px-1.5 py-0.5 text-base text-white w-full max-w-[120px]",placeholder:"Name",autofocus:""},null,40,Ne),[[xt,t(y)]])])):(n(),o("button",{key:1,onClick:k=>h(l),class:"text-base font-medium text-white hover:text-amber-300 truncate text-left transition-colors flex items-center gap-1 group",title:"Click to rename"},[e("span",Ve,d(l.name||`Sensor ${w+1}`),1),L(t(je),{class:"w-3 h-3 text-gray-500 group-hover:text-amber-300 shrink-0"})],8,He))])]),e("span",Re,d(l.shortId),1)]),e("div",Be,[e("div",Ie,[g[2]||(g[2]=e("div",{class:"text-base text-gray-500 opacity-60 mb-0.5"},"Temp",-1)),e("div",We,[st(d($(_(l.id)?.temp_soil,1)),1),g[1]||(g[1]=e("span",{class:"text-base text-gray-400 opacity-60"},"Â°C",-1))])]),e("div",ze,[g[4]||(g[4]=e("div",{class:"text-base text-gray-500 opacity-60 mb-0.5"},"Moisture",-1)),e("div",Xe,[st(d($(_(l.id)?.humi_soil,1)),1),g[3]||(g[3]=e("span",{class:"text-base text-gray-400 opacity-60"},"%",-1))])]),e("div",Ue,[g[6]||(g[6]=e("div",{class:"text-base text-gray-500 opacity-60 mb-0.5"},"EC",-1)),e("div",qe,[st(d($(_(l.id)?.ec_soil,2)),1),g[5]||(g[5]=e("span",{class:"text-base text-gray-400 opacity-60"},"mS",-1))])])])]))),128))],2)):f("",!0)}}),Ye=Object.assign(Ke,{__name:"SoilSensorsPanel"}),Ze={key:0,class:"absolute inset-0 bg-gradient-to-br from-spider-green-500/20 to-emerald-600/10 pointer-events-none"},Qe={key:1,class:"absolute -top-4 -right-4 w-16 h-16 rounded-full bg-spider-green-500/30 blur-xl pointer-events-none"},Ge={class:"relative"},Je={class:"flex items-center justify-between mb-1.5"},ts={class:"font-bold text-sm truncate max-w-[80px]"},es={class:"flex items-center justify-between text-xs"},ss=G({__name:"SocketCard",props:{socket:{},state:{}},emits:["toggle"],setup(r,{emit:a}){const{getSocketDisplayName:u}=mt(),x=ot(),y=Mt(),T=r,E=a,_=b(()=>`O${T.socket}`),$=b(()=>u(_.value,"short")),h=b(()=>x.wattage[_.value]?.watts||0),m={0:"Manual",1:"Time Slot",2:"Cycle",3:"Temp",4:"Humidity",5:"CO2",14:"Drip"},c={1:"T",2:"C",3:"Te",4:"H",5:"CO",14:"D"},v=b(()=>T.state?.isOn?"bg-gradient-to-br from-spider-green-600/80 to-spider-green-700/60 border-2 border-spider-green-500/60 text-white shadow-lg shadow-spider-green-500/20":"bg-gradient-to-br from-gray-700/60 to-gray-800/60 border-2 border-gray-600/50 text-gray-400 hover:border-gray-500/60 hover:from-gray-700/70 hover:to-gray-800/70"),g=b(()=>y.isSocketAiEnabled(_.value)),l=b(()=>g.value?"Trigger":m[T.state?.modeType]||"Manual"),w=b(()=>g.value?"Ai":c[T.state?.modeType]||"");function k(){T.state?.modeType===0&&!g.value&&E("toggle")}return(O,F)=>(n(),o("div",{class:S(["relative p-2.5 sm:p-3 rounded-xl transition-all cursor-pointer min-h-[52px] sm:min-h-[60px] overflow-hidden group",t(v)]),onClick:k},[r.state?.isOn?(n(),o("div",Ze)):f("",!0),r.state?.isOn?(n(),o("div",Qe)):f("",!0),e("div",Ge,[e("div",Je,[e("span",ts,d(t($)),1),e("span",{class:S(["w-2.5 h-2.5 rounded-full shrink-0 ring-2 transition-all",r.state?.isOn?"bg-spider-green-400 ring-spider-green-400/40 shadow-lg shadow-spider-green-400/50":"bg-gray-500 ring-gray-500/30"])},null,2)]),e("div",es,[e("span",{class:S([r.state?.isOn?"text-gray-200":"text-gray-500","font-medium"])},d(t(l)),3),t(h)>0?(n(),o("span",{key:0,class:S(["font-semibold",r.state?.isOn?"text-yellow-400":"text-gray-500"])},d(t(h))+"W",3)):f("",!0)])]),t(w)?(n(),o("span",{key:2,class:S(["absolute -top-1.5 -right-1.5 w-5 h-5 rounded-full text-[9px] flex items-center justify-center font-bold shadow-lg",t(g)?"bg-gradient-to-br from-purple-500 to-purple-600 text-white shadow-purple-500/40":"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-blue-500/40"])},d(t(w)),3)):f("",!0)],2))}}),ns=Object.assign(ss,{__name:"SocketCard"}),as={class:"relative p-3 sm:p-4 rounded-xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 overflow-hidden"},os={class:"relative"},is={class:"flex items-center justify-between mb-3"},rs={class:"font-semibold text-sm text-white"},ls={class:"flex items-center gap-2"},ds={class:"text-[10px] text-gray-400 uppercase tracking-wider font-medium"},cs={class:"relative h-2.5 bg-gray-700/60 rounded-full overflow-hidden"},us={class:"flex justify-between mt-2 text-xs"},ms={class:"flex items-center gap-2"},gs={key:0,class:"text-gray-500 text-[10px]"},xs={class:"flex items-center gap-2"},ps={key:0,class:"text-[10px] text-blue-400 font-medium"},hs=G({__name:"LightCard",props:{title:{},lightId:{},state:{}},emits:["toggle"],setup(r){const a=ot(),u=St(),x=r,y={0:"Manual",1:"Time Slot",2:"Cycle",12:"PPFD Auto"},T=b(()=>y[x.state?.modeType]||"Auto"),E=b(()=>{const c=a.lightWattage[x.lightId];return!c||!c.watts?0:x.state?.isOn&&x.state.mLevel>0?Math.round(c.watts*x.state.mLevel/100):c.watts}),_=b(()=>{const c=u.configs[x.lightId];if(!c)return null;if(c.timePeriod?.length){const v=c.timePeriod.find(g=>g.enabled);if(v?.brightness!==void 0)return v.brightness}return c.ppfdMaxBrightness!==void 0?c.ppfdMaxBrightness:null}),$=P(""),h=P(null);function m(){const c=u.configs[x.lightId];if(!c?.timePeriod?.length||x.state?.modeType===0){$.value="";return}const v=c.timePeriod.find(tt=>tt.enabled);if(!v){$.value="";return}const g=new Date,l=g.getHours()*3600+g.getMinutes()*60+g.getSeconds(),w=v.startTime??0,k=v.endTime??0;let O,F;(w<=k?l>=w&&l<k:l>=w||l<k)?(O=k,F="OFF"):(O=w,F="ON");let V=O-l;V<0&&(V+=86400);const W=Math.floor(V/3600),B=Math.floor(V%3600/60),Y=V%60;W>0?$.value=`${F} ${W}h ${B}m`:B>0?$.value=`${F} ${B}m ${Y}s`:$.value=`${F} ${Y}s`}return at(()=>{m(),h.value=At(m,1e3)}),Dt(()=>{h.value&&clearInterval(h.value)}),(c,v)=>(n(),o("div",as,[r.state?.isOn?(n(),o("div",{key:0,class:S(["absolute -top-6 -right-6 w-24 h-24 rounded-full blur-2xl pointer-events-none",r.state.mLevel>50?"bg-yellow-500/40":"bg-yellow-500/20"])},null,2)):f("",!0),e("div",os,[e("div",is,[e("span",rs,d(r.title),1),e("div",ls,[e("span",ds,d(t(T)),1),e("span",{class:S(["w-2.5 h-2.5 rounded-full ring-2 transition-all",r.state?.isOn?"bg-yellow-400 ring-yellow-400/40 shadow-lg shadow-yellow-400/50":"bg-gray-500 ring-gray-500/30"])},null,2)])]),e("div",cs,[t(_)!==null&&r.state?.modeType!==0?(n(),o("div",{key:0,class:"absolute inset-y-0 left-0 rounded-full bg-gray-500/50 transition-all duration-300",style:Z({width:`${t(_)}%`})},null,4)):f("",!0),e("div",{class:S(["absolute inset-y-0 left-0 rounded-full transition-all duration-300",r.state?.isOn?"bg-gradient-to-r from-yellow-500 to-amber-400":"bg-gray-600"]),style:Z({width:`${r.state?.isOn?r.state.mLevel:0}%`})},null,6),r.state?.isOn&&r.state.mLevel>0?(n(),o("div",{key:1,class:"absolute inset-y-0 left-0 rounded-full bg-gradient-to-r from-yellow-400/50 to-transparent blur-sm",style:Z({width:`${r.state.mLevel}%`})},null,4)):f("",!0)]),e("div",us,[e("div",ms,[e("span",{class:S(r.state?.isOn?"text-white font-semibold":"text-gray-500")},d(r.state?.isOn?`${r.state.mLevel}%`:"OFF"),3),t(_)!==null&&r.state?.modeType!==0?(n(),o("span",gs,"/ "+d(t(_))+"%",1)):f("",!0),t(E)>0?(n(),o("span",{key:1,class:S(["font-semibold px-1.5 py-0.5 rounded-md",r.state?.isOn?"text-yellow-400 bg-yellow-400/10":"text-gray-500"])},d(t(E))+"W",3)):f("",!0)]),e("div",xs,[t($)?(n(),o("span",ps,d(t($)),1)):f("",!0),r.state?.modeType===0?(n(),o("button",{key:1,onClick:v[0]||(v[0]=g=>c.$emit("toggle")),class:S(["px-2.5 py-1 rounded-lg text-[10px] font-semibold uppercase tracking-wider transition-all",r.state?.isOn?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-spider-green-400 hover:bg-spider-green-500/20"])}," Toggle ",2)):f("",!0)])])])]))}}),fs=Object.assign(hs,{__name:"LightCard"});function vs(r,a){return n(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z","clip-rule":"evenodd"})])}const ys={class:"relative"},bs={key:0,class:"text-xs text-gray-500 py-4 text-center"},ws={class:"flex items-center gap-3 mb-3 flex-wrap"},_s={class:"flex items-center gap-2"},$s={class:"w-7 h-7 rounded-lg bg-gradient-to-br from-yellow-500/30 to-amber-600/20 flex items-center justify-center"},ks={class:"flex items-baseline gap-1"},Ss={class:"text-xl font-bold text-white"},Cs={class:"text-xs text-gray-400"},Ms={key:0,class:"text-[9px] text-yellow-500/80 px-1.5 py-0.5 rounded bg-yellow-500/10",title:"Estimated from available data"},Ds={key:1,class:"ml-auto flex items-baseline gap-1 px-2.5 py-1 rounded-lg bg-spider-green-500/10 border border-spider-green-500/30"},Ts={class:"text-sm font-bold text-spider-green-400"},Os={key:0,class:"space-y-1.5 border-t border-gray-700/50 pt-3"},js={class:"flex items-center gap-2"},Ls={class:"text-gray-300 font-medium"},Es={class:"flex items-center gap-3"},Fs={class:"text-gray-500"},As={class:"text-white font-semibold"},Ps={key:0,class:"text-spider-green-400 font-medium"},Ns={class:"flex items-center gap-2"},Hs={class:"text-gray-300 font-medium"},Vs={class:"flex items-center gap-3"},Rs={class:"text-gray-500"},Bs={class:"text-white font-semibold"},Is={key:0,class:"text-spider-green-400 font-medium"},Ws={key:0,class:"flex items-center justify-between text-[10px] sm:text-xs p-1.5 rounded-lg hover:bg-gray-800/40 transition-colors"},zs={class:"flex items-center gap-3"},Xs={class:"text-gray-500"},Us={class:"text-white font-semibold"},qs={key:0,class:"text-spider-green-400 font-medium"},Ks=G({__name:"PowerSummaryCard",setup(r){const a=ot(),u=Ct(),{getSocketDisplayName:x}=mt(),y=P("24h"),T=P(!0);function E(h){if(h<60)return`${h}m`;const m=Math.floor(h/60),c=h%60;return c>0?`${m}h${c}m`:`${m}h`}function _(h){return h>=1e3?{value:(h/1e3).toFixed(2),unit:"MWh"}:h>=100?{value:h.toFixed(1),unit:"kWh"}:h>=10?{value:h.toFixed(1),unit:"kWh"}:{value:h.toFixed(2),unit:"kWh"}}async function $(){await a.fetchPowerStats(y.value)}return at(()=>{a.fetchWattage(),$()}),(h,m)=>(n(),o("div",ys,[t(a).powerStats?(n(),o(R,{key:1},[e("div",ws,[e("div",_s,[e("div",$s,[L(t(gt),{class:"w-4 h-4 text-yellow-400"})]),e("div",null,[m[3]||(m[3]=e("span",{class:"text-[10px] text-gray-500 uppercase tracking-wider font-medium block"},"Power",-1)),e("div",ks,[e("span",Ss,d(_(t(a).powerStats.totals.kWh).value),1),e("span",Cs,d(_(t(a).powerStats.totals.kWh).unit),1)])])]),ut(e("select",{"onUpdate:modelValue":m[0]||(m[0]=c=>y.value=c),onChange:$,class:"bg-gray-800/60 border border-gray-600/50 rounded-lg px-2 py-1.5 text-[10px] text-gray-300 focus:border-yellow-500/50 focus:outline-none"},[...m[4]||(m[4]=[e("option",{value:"24h"},"24H",-1),e("option",{value:"7d"},"7D",-1),e("option",{value:"30d"},"30D",-1)])],544),[[Tt,y.value]]),t(a).powerStats.extrapolated?(n(),o("span",Ms,"~est")):f("",!0),t(a).powerStats.totals.cost>0?(n(),o("div",Ds,[e("span",Ts,d(t(a).powerStats.totals.cost.toFixed(2)),1),m[5]||(m[5]=e("span",{class:"text-[10px] text-gray-400"},"EUR",-1))])):f("",!0)]),T.value?(n(),o("div",Os,[(n(!0),o(R,null,U(t(a).powerStats.lights.filter(c=>c.watts>0),c=>(n(),o("div",{key:c.socket,class:"flex items-center justify-between text-[10px] sm:text-xs p-1.5 rounded-lg hover:bg-gray-800/40 transition-colors"},[e("div",js,[m[6]||(m[6]=e("div",{class:"w-5 h-5 rounded bg-yellow-500/20 flex items-center justify-center"},[e("span",{class:"text-[10px]"},"ðŸ’¡")],-1)),e("span",Ls,d(c.socket==="light"?"Light 1":"Light 2"),1)]),e("div",Es,[e("span",Fs,d(E(c.onTimeMinutes))+" @ "+d(c.avgLevel)+"%",1),e("span",As,d(_(c.kWh).value)+" "+d(_(c.kWh).unit),1),c.cost>0?(n(),o("span",Ps,"â‚¬"+d(c.cost.toFixed(2)),1)):f("",!0)])]))),128)),(n(!0),o(R,null,U(t(a).powerStats.sockets.filter(c=>c.watts>0),c=>(n(),o("div",{key:c.socket,class:"flex items-center justify-between text-[10px] sm:text-xs p-1.5 rounded-lg hover:bg-gray-800/40 transition-colors"},[e("div",Ns,[m[7]||(m[7]=e("div",{class:"w-5 h-5 rounded bg-blue-500/20 flex items-center justify-center"},[e("span",{class:"text-[10px]"},"ðŸ”Œ")],-1)),e("span",Hs,d(t(x)(c.socket,"short")),1)]),e("div",Vs,[e("span",Rs,d(E(c.onTimeMinutes)),1),e("span",Bs,d(_(c.kWh).value)+" "+d(_(c.kWh).unit),1),c.cost>0?(n(),o("span",Is,"â‚¬"+d(c.cost.toFixed(2)),1)):f("",!0)])]))),128)),t(u).loaded&&t(a).powerStats.blower?(n(),o("div",Ws,[m[8]||(m[8]=e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-5 h-5 rounded bg-cyan-500/20 flex items-center justify-center"},[e("span",{class:"text-[10px]"},"ðŸŒ€")]),e("span",{class:"text-gray-300 font-medium"},"Blower")],-1)),e("div",zs,[e("span",Xs,d(E(t(a).powerStats.blower.onTimeMinutes))+" @ "+d(t(a).powerStats.blower.avgLevel)+"%",1),e("span",Us,d(_(t(a).powerStats.blower.kWh).value)+" "+d(_(t(a).powerStats.blower.kWh).unit),1),t(a).powerStats.blower.cost>0?(n(),o("span",qs,"â‚¬"+d(t(a).powerStats.blower.cost.toFixed(2)),1)):f("",!0)])])):f("",!0)])):f("",!0),e("button",{onClick:m[1]||(m[1]=c=>T.value=!T.value),class:"text-[10px] text-gray-500 hover:text-gray-300 mt-2 sm:hidden flex items-center gap-1 transition-colors"},[e("span",null,d(T.value?"Hide details":"Show details"),1),(n(),o("svg",{class:S(["w-3 h-3 transition-transform",T.value&&"rotate-180"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...m[9]||(m[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])],64)):(n(),o("div",bs,[...m[2]||(m[2]=[e("div",{class:"animate-pulse flex items-center justify-center gap-2"},[e("div",{class:"w-4 h-4 rounded-full bg-gray-700"}),e("span",null,"Loading power data...")],-1)])]))]))}}),Ys=Object.assign(Ks,{__name:"PowerSummaryCard"}),Zs={class:"flex items-start justify-between gap-2 mb-2 sm:mb-3"},Qs={class:"text-xs text-gray-400 flex items-center gap-1 shrink-0"},Gs={key:0,class:"flex flex-wrap gap-x-3 gap-y-1 text-xs justify-end"},Js={class:"text-gray-400"},tn={class:"text-spider-green-400"},en={key:0,class:"text-center py-4 text-gray-500 text-sm"},sn={key:1},nn={class:"flex"},an={class:"w-[40px] sm:w-[60px] shrink-0 flex flex-col justify-between pr-1 sm:pr-2 py-1"},on={class:"flex-1 relative"},rn={class:"relative flex flex-col gap-1 py-1"},ln=["onMouseenter"],dn={class:"font-medium text-white mb-1"},cn={class:"space-y-0.5 text-gray-300"},un={class:"flex items-center gap-2"},mn={class:"flex items-center gap-2"},gn={class:"flex items-center gap-2 pt-1 border-t border-gray-700 mt-1"},xn={class:"text-spider-green-400 font-medium"},pn=G({__name:"SocketTimeline",props:{events:{},syncRangeStart:{},syncRangeEnd:{}},setup(r){const{getSocketDisplayName:a}=mt(),u=r,x=jt({visible:!1,x:0,y:0,socket:"",startTime:"",endTime:"",duration:"",isActive:!1}),y={O1:"bg-green-500/80 hover:bg-green-400",O2:"bg-blue-500/80 hover:bg-blue-400",O3:"bg-orange-500/80 hover:bg-orange-400",O4:"bg-purple-500/80 hover:bg-purple-400",O5:"bg-yellow-500/80 hover:bg-yellow-400"};function T(g){return y[g]||"bg-gray-500/80 hover:bg-gray-400"}const E=b(()=>u.events?.sockets?u.events.sockets.filter(g=>g.events.length>0):[]),_=b(()=>{const g=u.syncRangeStart?new Date(u.syncRangeStart).getTime():u.events?.rangeStart?new Date(u.events.rangeStart).getTime():Date.now()-36e5,l=u.syncRangeEnd?new Date(u.syncRangeEnd).getTime():u.events?.rangeEnd?new Date(u.events.rangeEnd).getTime():Date.now();return{start:g,end:l,total:l-g}});function $(g){const{start:l,end:w,total:k}=_.value;if(k<=0)return{display:"none"};const O=new Date(g.start).getTime(),F=g.end?new Date(g.end).getTime():Date.now(),I=Math.max(O,l),V=Math.min(F,w);if(V<=l||I>=w)return{display:"none"};const W=(I-l)/k*100,B=(V-I)/k*100;return{left:`${W}%`,width:`${Math.max(B,.5)}%`}}function h(g,l,w){const k=g.target.getBoundingClientRect();x.x=k.left+k.width/2-80,x.y=k.top-95,x.x<10&&(x.x=10),x.x>window.innerWidth-170&&(x.x=window.innerWidth-170),x.y<10&&(x.y=k.bottom+10);const O=new Date(w.start),F=w.end?new Date(w.end):new Date,I=!w.end,V=F.getTime()-O.getTime(),W=Math.round(V/1e3);x.socket=l,x.startTime=c(O),x.endTime=I?"Activo ahora":c(F),x.duration=v(W),x.isActive=I,x.visible=!0}function m(){x.visible=!1}function c(g){return g.toLocaleString("es-ES",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function v(g){if(g<60)return`${g}s`;if(g<3600){const k=Math.floor(g/60),O=g%60;return O>0?`${k}m ${O}s`:`${k}m`}const l=Math.floor(g/3600),w=Math.floor(g%3600/60);return w>0?`${l}h ${w}m`:`${l}h`}return(g,l)=>(n(),o("div",null,[e("div",Zs,[e("h3",Qs,[L(t(gt),{class:"w-3 h-3 text-yellow-400"}),l[0]||(l[0]=e("span",{class:"hidden sm:inline"},"Socket Activity",-1)),l[1]||(l[1]=e("span",{class:"sm:hidden"},"Sockets",-1))]),t(E).length>0?(n(),o("div",Gs,[(n(!0),o(R,null,U(t(E),w=>(n(),o("span",{key:w.socket,class:"text-gray-500"},[e("span",Js,d(t(a)(w.socket,"short"))+":",1),e("span",tn,d(v(w.totalSeconds)),1)]))),128))])):f("",!0)]),t(E).length===0?(n(),o("div",en," No socket activity in this time range ")):(n(),o("div",sn,[e("div",nn,[e("div",an,[(n(!0),o(R,null,U(t(E),w=>(n(),o("div",{key:w.socket,class:"h-5 flex items-center justify-end text-[9px] text-gray-400 truncate"},d(t(a)(w.socket,"short")),1))),128))]),e("div",on,[e("div",rn,[(n(!0),o(R,null,U(t(E),w=>(n(),o("div",{key:w.socket,class:"h-5 bg-gray-900/50 rounded relative overflow-hidden"},[(n(!0),o(R,null,U(w.events,(k,O)=>(n(),o("div",{key:O,class:S(["absolute h-full rounded-sm cursor-pointer transition-colors",T(w.socket)]),style:Z($(k)),onMouseenter:F=>h(F,w.socket,k),onMouseleave:m},null,46,ln))),128))]))),128))])])])])),(n(),K(Ot,{to:"body"},[t(x).visible?(n(),o("div",{key:0,class:"fixed z-50 bg-gray-900 border border-gray-600 rounded-lg shadow-xl px-3 py-2 text-xs pointer-events-none",style:Z({left:t(x).x+"px",top:t(x).y+"px"})},[e("div",dn,d(t(a)(t(x).socket,"full")),1),e("div",cn,[e("div",un,[l[2]||(l[2]=e("span",{class:"text-gray-500"},"Inicio:",-1)),e("span",null,d(t(x).startTime),1)]),e("div",mn,[l[3]||(l[3]=e("span",{class:"text-gray-500"},"Fin:",-1)),e("span",{class:S(t(x).isActive?"text-spider-green-400":"")},d(t(x).endTime),3)]),e("div",gn,[l[4]||(l[4]=e("span",{class:"text-gray-500"},"DuraciÃ³n:",-1)),e("span",xn,d(t(x).duration),1)])])],4)):f("",!0)]))]))}}),hn=Object.assign(pn,{__name:"SocketTimeline"}),fn={class:"text-base text-gray-400 mb-1 flex items-center gap-1"},vn={class:"h-32 sm:h-40"},yn={key:1,class:"flex items-center justify-center h-full text-gray-500 text-base"},bn=G({__name:"SensorChart",props:{title:{},icon:{},iconColor:{},data:{},color:{},emptyMessage:{},yOptions:{},yAxisWidth:{},stepped:{type:[Boolean,String]},timeMin:{},timeMax:{}},setup(r){Nt.register(Ht,Vt,Rt,Bt,It,Wt,zt,Xt);const a=r,u=P(null),x=vt("chartsCrosshairX",P(null)),y=vt("chartsContainerEl",P(null));yt(x,h=>{const m=u.value?.chart;if(!m||!m.chartArea)return;if(h===null){m.setActiveElements([]),m.tooltip?.setActiveElements([],{x:0,y:0}),m.update("none");return}const c=m.canvas,v=y.value?.getBoundingClientRect(),g=c.getBoundingClientRect();if(!v)return;const l=h-(g.left-v.left),{left:w,right:k}=m.chartArea;if(l<w||l>k){m.setActiveElements([]),m.tooltip?.setActiveElements([],{x:0,y:0}),m.update("none");return}const O=m.getDatasetMeta(0);if(!O||!O.data||O.data.length===0)return;let F=0,I=1/0;for(let B=0;B<O.data.length;B++){const Y=Math.abs(O.data[B].x-l);Y<I&&(I=Y,F=B)}const V=O.data[F],W=[{datasetIndex:0,index:F}];m.setActiveElements(W),m.tooltip?.setActiveElements(W,{x:V.x,y:V.y}),m.update("none")});const T=b(()=>a.data&&a.data.length>0),E=b(()=>{const h=a.yAxisWidth?parseInt(a.yAxisWidth,10):void 0;return{responsive:!0,maintainAspectRatio:!1,animation:!1,events:["mousemove"],interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#1f2937",borderColor:"#374151",borderWidth:1}},scales:{x:{type:"time",time:{displayFormats:{minute:"HH:mm",hour:"HH:mm",day:"dd/MM HH:mm"}},...a.timeMin?{min:a.timeMin}:{},...a.timeMax?{max:a.timeMax}:{},grid:{color:"#374151"},ticks:{color:"#9ca3af",maxTicksLimit:8,font:{size:9}}},y:{grid:{color:"#374151"},ticks:{color:"#9ca3af",font:{size:9}},...a.yOptions,...h?{afterFit:m=>{m.width=h}}:{}}}}}),_=Et({datasets:[]});let $="";return yt(()=>a.data,h=>{if(!h||h.length===0)return;const m=`${h.length}:${h[0].timestamp}:${h[h.length-1].timestamp}`;m!==$&&($=m,_.value={datasets:[{label:a.title,data:h.map(c=>({x:new Date(c.timestamp).getTime(),y:c.value})),borderColor:a.color,backgroundColor:a.color+"1A",fill:!0,tension:a.stepped?0:.3,stepped:a.stepped||!1,pointRadius:0}]})},{immediate:!0}),(h,m)=>(n(),o("div",null,[e("h3",fn,[(n(),K(Lt(r.icon),{class:S(["w-3 h-3",r.iconColor])},null,8,["class"])),st(" "+d(r.title),1)]),e("div",vn,[t(T)?(n(),K(t(Pt),{key:0,ref_key:"chartRef",ref:u,data:_.value,options:t(E)},null,8,["data","options"])):(n(),o("div",yn,d(r.emptyMessage||"No data available"),1))])]))}}),wn=Object.assign(bn,{__name:"SensorChart"}),_n={class:"rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 relative"},$n={class:"flex items-center justify-between p-4 pb-3 border-b border-gray-700/50 relative overflow-hidden"},kn={class:"text-base font-semibold text-white flex items-center gap-2 shrink-0"},Sn={class:"w-7 h-7 rounded-lg bg-gradient-to-br from-spider-green-500/30 to-emerald-600/20 flex items-center justify-center"},Cn={class:"flex gap-1 flex-wrap justify-end ml-2"},Mn=["onClick"],Dn={key:0,class:"px-4 py-3 border-b border-gray-700/50 bg-gray-800/30"},Tn={class:"flex flex-col sm:flex-row gap-3 sm:items-center"},On={class:"flex items-center gap-2 flex-1 min-w-0"},jn={class:"flex items-center gap-2 flex-1 min-w-0"},Ln={class:"lg:sticky lg:-top-6 z-20 bg-gradient-to-b from-gray-800/95 to-gray-900/95 px-4 py-3 border-b border-gray-700/50 shadow-lg shadow-gray-900/50"},En=G({__name:"ChartsSection",setup(r){const a=ht(),u=ot(),x=P(null),y=P(null);bt("chartsCrosshairX",y),bt("chartsContainerEl",x);function T(p){if(!x.value)return;const M=x.value.getBoundingClientRect();y.value=p.clientX-M.left}const E=[{value:"1h",label:"1H",hours:1},{value:"4h",label:"4H",hours:4},{value:"6h",label:"6H",hours:6},{value:"12h",label:"12H",hours:12},{value:"24h",label:"24H",hours:24},{value:"48h",label:"48H",hours:48},{value:"7d",label:"7D",hours:168},{value:"30d",label:"30D",hours:720},{value:"60d",label:"60D",hours:1440},{value:"90d",label:"90D",hours:2160}],_=P({oldestTimestamp:null}),$=P(!1),h=P(""),m=P(""),c=P(!1),v=b(()=>{if(!_.value.oldestTimestamp)return E.slice(0,5);const p=new Date(_.value.oldestTimestamp).getTime(),z=(Date.now()-p)/(1e3*60*60);return E.filter(s=>s.hours<=z+1)});async function g(){try{const p=await $fetch("/api/sensors/oldest");_.value=p}catch{}}function l(p){c.value=!1,$.value=!1,a.fetchHistory(p),u.fetchEvents(p)}function w(){if(!h.value||!m.value)return;const p=new Date(h.value).toISOString(),M=new Date(m.value).toISOString();c.value=!0,a.fetchHistoryCustomRange(p,M),u.fetchEventsCustomRange(p,M)}const k=b(()=>a.history.map(p=>({timestamp:p.timestamp,value:p.temp}))),O=b(()=>a.history.map(p=>({timestamp:p.timestamp,value:p.humi}))),F=b(()=>a.history.map(p=>({timestamp:p.timestamp,value:p.co2}))),I=b(()=>a.history.map(p=>({timestamp:p.timestamp,value:p.vpd}))),V=b(()=>a.blowerHistory),W={min:0,max:100,ticks:{callback:p=>`${p}%`}},B=b(()=>a.fanHistory),Y={min:0,max:10,ticks:{stepSize:1}},tt={ticks:{callback:p=>p.toFixed(1)}},et=b(()=>a.soilSensors.map((p,M)=>({id:p.id,label:p.name||`Sensor ${M+1}`})));function J(p){return(a.soilSensorsHistory[p]||[]).map(z=>({timestamp:z.timestamp,value:z.temp_soil}))}function it(p){return(a.soilSensorsHistory[p]||[]).map(z=>({timestamp:z.timestamp,value:z.humi_soil}))}function rt(p){return(a.soilSensorsHistory[p]||[]).map(z=>({timestamp:z.timestamp,value:z.ec_soil}))}const lt=b(()=>{const p=a.history;return!p||p.length===0?{start:void 0,end:void 0}:{start:p[0].timestamp,end:p[p.length-1].timestamp}}),N=b(()=>{const p=a.history;return!p||p.length===0?{min:void 0,max:void 0}:{min:new Date(p[0].timestamp).getTime(),max:new Date(p[p.length-1].timestamp).getTime()}});return at(async()=>{await g(),a.soilSensors.length===0&&await a.fetchSoilSensors();const p=a.selectedRange||"4h";a.fetchHistory(p),u.fetchEvents(p)}),(p,M)=>{const z=hn,s=wn;return n(),o("div",_n,[e("div",$n,[M[5]||(M[5]=e("div",{class:"absolute -top-6 -left-6 w-24 h-24 rounded-full blur-2xl pointer-events-none bg-spider-green-500/30"},null,-1)),e("h2",kn,[e("div",Sn,[L(t(Ut),{class:"w-4 h-4 text-spider-green-400"})]),M[4]||(M[4]=e("span",null,"Charts",-1))]),e("div",Cn,[(n(!0),o(R,null,U(t(v),i=>(n(),o("button",{key:i.value,onClick:C=>l(i.value),class:S(["px-2.5 py-1.5 rounded-lg text-xs font-medium transition-all",t(a).selectedRange===i.value?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/30":"bg-gray-800/60 text-gray-400 hover:bg-gray-700/60 hover:text-gray-300"])},d(i.label),11,Mn))),128)),e("button",{onClick:M[0]||(M[0]=i=>$.value=!t($)),class:S(["px-2 py-1.5 rounded-lg text-xs transition-all",t(c)?"bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white shadow-lg shadow-spider-green-500/30":"bg-gray-800/60 text-gray-400 hover:bg-gray-700/60 hover:text-gray-300"])},[L(t(vs),{class:"w-3.5 h-3.5"})],2)])]),t($)?(n(),o("div",Dn,[e("div",Tn,[e("div",On,[M[6]||(M[6]=e("label",{class:"text-xs text-gray-400 shrink-0 font-medium"},"From:",-1)),ut(e("input",{type:"datetime-local","onUpdate:modelValue":M[1]||(M[1]=i=>pt(h)?h.value=i:null),class:"flex-1 min-w-0 bg-gray-900/60 border border-gray-600/50 rounded-lg px-3 py-2 text-xs text-gray-300 focus:border-spider-green-500/50 focus:outline-none"},null,512),[[xt,t(h)]])]),e("div",jn,[M[7]||(M[7]=e("label",{class:"text-xs text-gray-400 shrink-0 font-medium"},"To:",-1)),ut(e("input",{type:"datetime-local","onUpdate:modelValue":M[2]||(M[2]=i=>pt(m)?m.value=i:null),class:"flex-1 min-w-0 bg-gray-900/60 border border-gray-600/50 rounded-lg px-3 py-2 text-xs text-gray-300 focus:border-spider-green-500/50 focus:outline-none"},null,512),[[xt,t(m)]])]),e("button",{onClick:w,class:"px-4 py-2 bg-gradient-to-r from-spider-green-500 to-spider-green-600 text-white rounded-lg text-xs font-semibold hover:from-spider-green-400 hover:to-spider-green-500 shadow-lg shadow-spider-green-500/20 transition-all shrink-0"}," Apply ")])])):f("",!0),e("div",Ln,[L(z,{events:t(u).events,"sync-range-start":t(lt).start,"sync-range-end":t(lt).end},null,8,["events","sync-range-start","sync-range-end"])]),e("div",{ref_key:"chartsContainer",ref:x,class:"px-4 py-4 space-y-4 relative",onMousemove:T,onMouseleave:M[3]||(M[3]=i=>y.value=null)},[e("div",{class:S(["absolute top-0 bottom-0 w-px bg-spider-green-400/50 pointer-events-none z-10",t(y)!==null?"opacity-100":"opacity-0"]),style:Z({left:(t(y)??0)+"px"})},null,6),t(V).length>0?(n(),K(s,{key:0,title:"Blower Power Level",icon:t(wt),"icon-color":"text-cyan-400",data:t(V),color:"#06b6d4","y-options":W,"empty-message":"No blower data available","y-axis-width":"50px",stepped:"after","time-min":t(N).min,"time-max":t(N).max},null,8,["icon","data","time-min","time-max"])):f("",!0),t(B).length>0?(n(),K(s,{key:1,title:"Fan Gear Level",icon:t(wt),"icon-color":"text-teal-400",data:t(B),color:"#14b8a6","y-options":Y,"empty-message":"No fan data available","y-axis-width":"50px",stepped:"after","time-min":t(N).min,"time-max":t(N).max},null,8,["icon","data","time-min","time-max"])):f("",!0),L(s,{title:"Temperature",icon:t(_t),"icon-color":"text-green-400",data:t(k),color:"#22c55e","empty-message":"No data available","y-axis-width":"50px","time-min":t(N).min,"time-max":t(N).max},null,8,["icon","data","time-min","time-max"]),L(s,{title:"Humidity",icon:t($t),"icon-color":"text-blue-400",data:t(O),color:"#3b82f6","empty-message":"No data available","y-axis-width":"50px","time-min":t(N).min,"time-max":t(N).max},null,8,["icon","data","time-min","time-max"]),L(s,{title:"VPD (Vapor Pressure Deficit)",icon:t(Kt),"icon-color":"text-purple-400",data:t(I),color:"#a855f7","y-options":tt,"empty-message":"No data available","y-axis-width":"50px","time-min":t(N).min,"time-max":t(N).max},null,8,["icon","data","time-min","time-max"]),(n(!0),o(R,null,U(t(et),i=>(n(),K(s,{key:`temp-${i.id}`,title:`Soil Temperature - ${i.label}`,icon:t(_t),"icon-color":"text-orange-400",data:J(i.id),color:"#f97316","empty-message":"No soil data available","y-axis-width":"50px","time-min":t(N).min,"time-max":t(N).max},null,8,["title","icon","data","time-min","time-max"]))),128)),(n(!0),o(R,null,U(t(et),i=>(n(),K(s,{key:`moisture-${i.id}`,title:`Soil Moisture - ${i.label}`,icon:t($t),"icon-color":"text-yellow-400",data:it(i.id),color:"#eab308","empty-message":"No soil data available","y-axis-width":"50px","time-min":t(N).min,"time-max":t(N).max},null,8,["title","icon","data","time-min","time-max"]))),128)),(n(!0),o(R,null,U(t(et),i=>(n(),K(s,{key:`ec-${i.id}`,title:`Soil EC - ${i.label}`,icon:t(gt),"icon-color":"text-cyan-400",data:rt(i.id),color:"#06b6d4","empty-message":"No soil data available","y-axis-width":"50px","time-min":t(N).min,"time-max":t(N).max},null,8,["title","icon","data","time-min","time-max"]))),128)),t(a).hasCo2Sensor?(n(),K(s,{key:2,title:"CO2",icon:t(Yt),"icon-color":"text-amber-400",data:t(F),color:"#f59e0b","empty-message":"No data available","y-axis-width":"50px","time-min":t(N).min,"time-max":t(N).max},null,8,["icon","data","time-min","time-max"])):f("",!0)],544)])}}}),Fn=Object.assign(En,{__name:"ChartsSection"}),An={class:"space-y-4 sm:space-y-5 lg:space-y-6 p-2 sm:p-4"},Pn={class:"grid grid-cols-12 gap-2 sm:gap-4 lg:gap-5"},Nn={key:0,class:"col-span-12 lg:col-span-4 flex flex-col gap-2 lg:gap-0 lg:justify-between"},Hn={key:0,class:"p-2.5 rounded-xl bg-gradient-to-br from-teal-900/40 to-gray-900/40 border border-teal-500/30 backdrop-blur-md"},Vn={class:"flex items-center justify-between mb-1.5"},Rn={class:"text-[9px] text-gray-500 font-medium"},Bn={class:"h-2 bg-gray-800/60 rounded-full relative overflow-hidden"},In={class:"flex items-center justify-between mt-1.5"},Wn={class:"text-[8px] text-gray-500 font-medium"},zn={class:"text-[8px] text-gray-500"},Xn={class:"col-span-6 lg:col-span-2 flex flex-col gap-2 lg:gap-0 lg:justify-between"},Un={key:0,class:"p-2.5 rounded-xl bg-gradient-to-br from-teal-900/40 to-gray-900/40 border border-teal-500/30 backdrop-blur-md"},qn={class:"flex items-center justify-between mb-1.5"},Kn={class:"text-[9px] text-gray-500 font-medium"},Yn={class:"h-2 bg-gray-800/60 rounded-full relative overflow-hidden"},Zn={class:"flex items-center justify-between mt-1.5"},Qn={class:"text-[8px] text-gray-500 font-medium"},Gn={class:"text-[8px] text-gray-500"},Jn={class:"col-span-6 lg:col-span-2"},ta={class:"text-sm font-semibold text-white mb-3 flex items-center gap-2 relative"},ea={class:"w-7 h-7 rounded-lg bg-gradient-to-br from-yellow-500/30 to-amber-600/20 flex items-center justify-center"},sa={key:0,class:"text-center py-6 text-gray-500"},na={key:1,class:"text-center py-6 text-gray-500"},aa={key:2,class:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-4 lg:grid-cols-5 gap-2 sm:gap-3 overflow-visible"},oa={class:"flex-1 min-w-0 flex flex-col gap-3"},ia={class:"text-xs text-gray-400 flex items-center gap-2 font-medium"},ra={class:"w-7 h-7 rounded-lg bg-gradient-to-br from-yellow-500/30 to-amber-600/20 flex items-center justify-center"},la={key:0,class:"text-center py-3 text-gray-500 text-xs"},da={key:1,class:"text-center py-3 text-gray-500 text-xs"},ca={key:2,class:"flex gap-3 flex-wrap"},ua={key:3,class:"relative p-3 rounded-xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 overflow-hidden"},ma={key:0,class:"absolute -top-8 -left-8 w-32 h-32 rounded-full blur-3xl pointer-events-none bg-cyan-500/20"},ga={class:"relative flex items-center gap-4"},xa={class:"relative w-14 h-14 rounded-xl bg-gradient-to-br from-cyan-500/20 to-blue-600/10 flex items-center justify-center shrink-0"},pa={class:"flex-1 min-w-0"},ha={class:"flex items-center gap-2 mb-1.5"},fa={key:0,class:"text-[9px] text-amber-400 font-medium"},va={class:"flex items-center gap-3"},ya={class:"flex-1 h-2 bg-gray-700/60 rounded-full overflow-hidden"},ba={class:"flex-1 min-w-0 hidden sm:block"},wa={key:2,class:"col-span-12 lg:col-span-2 lg:relative"},_a={class:"rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 p-3 sm:p-4 flex flex-col lg:absolute lg:inset-0 overflow-hidden relative"},$a={class:"flex-1 min-h-0 flex flex-col"},ka={key:0,class:"text-gray-600 text-center py-6"},Sa={class:"flex items-center gap-2"},Ca={class:"text-gray-300 truncate font-medium"},Ma={class:"text-gray-600 shrink-0 ml-auto"},Da={key:0,class:"mt-0.5 ml-9"},Ta={class:"text-purple-400 truncate text-[9px] font-medium"},Oa={class:"col-span-12 sm:hidden"},ja={class:"rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 p-3"},ct=8,kt=2.8,La=62,Ea=G({__name:"index",setup(r){const a=ht(),u=ot(),x=St(),y=Ct(),T=Mt(),{getSocketDisplayName:E}=mt(),_=P(!0),$=P(!1),h=b(()=>$.value?u.log:u.log.slice(0,ct)),m=b(()=>{const s=x.configs.light;if(!s?.timePeriod?.length)return null;const i=s.timePeriod.find(A=>A.enabled);if(!i)return null;const C=new Date,j=C.getHours()*3600+C.getMinutes()*60+C.getSeconds(),D=i.startTime??0,X=i.endTime??0,dt=D<=X?j>=D&&j<X:j>=D||j<X,q=new Date(C);q.setHours(0,0,0,0);const H=864e5;if(dt){let A;j>=D?A=new Date(q.getTime()+D*1e3):A=new Date(q.getTime()-H+D*1e3);const nt=A;let Q;return D<=X?Q=new Date(q.getTime()-H+X*1e3):j>=D?Q=new Date(q.getTime()-H+X*1e3):Q=new Date(q.getTime()-2*H+X*1e3),{dayStart:A,dayEnd:null,nightStart:Q,nightEnd:nt,isCurrentlyDay:!0}}else{let A;j>=X?A=new Date(q.getTime()+X*1e3):A=new Date(q.getTime()-H+X*1e3);const nt=A;let Q;return D<=X?j>=X?Q=new Date(q.getTime()+D*1e3):Q=new Date(q.getTime()-H+D*1e3):Q=new Date(q.getTime()-H+D*1e3),{dayStart:Q,dayEnd:nt,nightStart:A,nightEnd:null,isCurrentlyDay:!1}}}),c=P(null),v=P(null);async function g(){if(!m.value){try{const s=new Date(Date.now()-864e5).toISOString(),i=await $fetch("/api/sensors/period-stats",{query:{since:s}});i&&!i.error&&(c.value=i,v.value=null)}catch{}return}try{const s=m.value,i={since:s.dayStart.toISOString()};s.dayEnd&&(i.until=s.dayEnd.toISOString());const C={since:s.nightStart.toISOString()};s.nightEnd&&(C.until=s.nightEnd.toISOString());const[j,D]=await Promise.all([$fetch("/api/sensors/period-stats",{query:i}),$fetch("/api/sensors/period-stats",{query:C})]);j&&!j.error&&(c.value=j),D&&!D.error&&(v.value=D)}catch{}}const l=P(null);async function w(){try{const s=await $fetch("/api/settings/vpd");s?.enabled?l.value={enabled:!0,targetMin:s.targetMin,targetMax:s.targetMax,mode:s.mode,phase:s.phase,roles:s.roles}:l.value=null}catch{}}function k(s){return new Date(s).toLocaleString("es-ES",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}const O=b(()=>{const s=c.value?.temp;return s?{min:`${s.min?.toFixed(1)||"--"}Â°`,avg:`${s.avg?.toFixed(1)||"--"}Â°`,max:`${s.max?.toFixed(1)||"--"}Â°`}:null}),F=b(()=>{const s=c.value?.humi;return s?{min:`${s.min?.toFixed(1)||"--"}%`,avg:`${s.avg?.toFixed(1)||"--"}%`,max:`${s.max?.toFixed(1)||"--"}%`}:null}),I=b(()=>{const s=c.value?.vpd;return s?{min:s.min?.toFixed(2)||"--",avg:s.avg?.toFixed(2)||"--",max:s.max?.toFixed(2)||"--"}:null}),V=b(()=>{const s=v.value?.temp;return s?{min:`${s.min?.toFixed(1)||"--"}Â°`,avg:`${s.avg?.toFixed(1)||"--"}Â°`,max:`${s.max?.toFixed(1)||"--"}Â°`}:null}),W=b(()=>{const s=v.value?.humi;return s?{min:`${s.min?.toFixed(1)||"--"}%`,avg:`${s.avg?.toFixed(1)||"--"}%`,max:`${s.max?.toFixed(1)||"--"}%`}:null}),B=b(()=>{const s=v.value?.vpd;return s?{min:s.min?.toFixed(2)||"--",avg:s.avg?.toFixed(2)||"--",max:s.max?.toFixed(2)||"--"}:null});function Y(s){return .6108*Math.exp(17.27*s/(s+237.3))}const tt=b(()=>{const s=a.current?.temp,i=a.current?.humi;if(s==null||i===void 0||i===null)return null;const C=s-kt,j=Y(C),D=Y(s)*(i/100);return j-D}),et=b(()=>{const s=tt.value;if(s!==null)return s<.4?"low":s<.8?"warn-low":s<=1.2?"optimal":s<=1.6?"warn-high":"high"});function J(s,i){const C=s-kt,j=Y(C),D=Y(s)*(i/100);return j-D}const it=b(()=>{const s=c.value?.temp,i=c.value?.humi;if(!s||!i)return null;const C=s.min!==void 0&&i.max!==void 0?J(s.min,i.max):null,j=s.avg!==void 0&&i.avg!==void 0?J(s.avg,i.avg):null,D=s.max!==void 0&&i.min!==void 0?J(s.max,i.min):null;return{min:C?.toFixed(2)||"--",avg:j?.toFixed(2)||"--",max:D?.toFixed(2)||"--"}}),rt=b(()=>{const s=v.value?.temp,i=v.value?.humi;if(!s||!i)return null;const C=s.min!==void 0&&i.max!==void 0?J(s.min,i.max):null,j=s.avg!==void 0&&i.avg!==void 0?J(s.avg,i.avg):null,D=s.max!==void 0&&i.min!==void 0?J(s.max,i.min):null;return{min:C?.toFixed(2)||"--",avg:j?.toFixed(2)||"--",max:D?.toFixed(2)||"--"}}),lt=b(()=>y.on?Math.round(La*y.level/100):0),N=b(()=>{const s=Object.entries(u.states);return s.sort((i,C)=>{const j=parseInt(i[0].replace("O","")),D=parseInt(C[0].replace("O",""));return j-D}),Object.fromEntries(s)}),p=b(()=>a.soilSensors.length),M=b(()=>{const s={};for(const[i,C]of Object.entries(x.states))i==="light"&&u.isLight1Disabled||i==="light2"&&u.isLight2Disabled||(s[i]=C);return s});async function z(){await x.fetchStates(),await Promise.all([a.fetchCurrent(),a.fetchHistory(a.selectedRange||"24h"),g(),u.fetchStates(),u.fetchLog(),u.fetchWattage(),T.fetchSocketAiModes(),w()])}return at(async()=>{try{const s=await $fetch("/api/devices/capabilities");_.value=s.capabilities.hasOutlets}catch{}await z()}),(s,i)=>{const C=Te,j=Ye,D=ns,X=fs,dt=Ys,q=Fn;return n(),o("div",An,[e("div",Pn,[t(p)<3?(n(),o("div",Nn,[L(C,{title:"Temperature",value:t(a).current?.temp,unit:"C",status:t(a).temperatureStatus,"day-stats":t(O),"night-stats":t(V)},null,8,["value","status","day-stats","night-stats"]),L(C,{title:"Humidity",value:t(a).current?.humi,unit:"%",status:t(a).humidityStatus,"day-stats":t(F),"night-stats":t(W)},null,8,["value","status","day-stats","night-stats"]),L(C,{title:"Air VPD",value:t(a).current?.vpd,unit:"kPa",status:t(a).vpdStatus,decimals:2,"day-stats":t(I),"night-stats":t(B)},null,8,["value","status","day-stats","night-stats"]),L(C,{title:"Leaf VPD",value:t(tt),unit:"kPa",status:t(et),decimals:2,"day-stats":t(it),"night-stats":t(rt)},null,8,["value","status","day-stats","night-stats"]),t(l)?.enabled&&t(l).targetMin>0?(n(),o("div",Hn,[e("div",Vn,[i[2]||(i[2]=e("span",{class:"text-[9px] text-teal-400 font-semibold uppercase tracking-wider"},"VPD Control",-1)),e("span",Rn,d(t(l).targetMin)+"-"+d(t(l).targetMax)+" kPa",1)]),e("div",Bn,[e("div",{class:"absolute h-full bg-gradient-to-r from-teal-600/60 to-teal-500/40 rounded-full",style:Z({left:`${t(l).targetMin/2.5*100}%`,width:`${(t(l).targetMax-t(l).targetMin)/2.5*100}%`})},null,4),t(a).current?.vpd?(n(),o("div",{key:0,class:S(["absolute h-full w-1.5 rounded-full -translate-x-1/2 shadow-lg",t(a).current.vpd>=t(l).targetMin&&t(a).current.vpd<=t(l).targetMax?"bg-teal-400 shadow-teal-400/50":"bg-red-400 shadow-red-400/50"]),style:Z({left:`${Math.min(t(a).current.vpd/2.5*100,100)}%`})},null,6)):f("",!0)]),e("div",In,[e("span",Wn,d(t(l).mode==="grow_phase"&&t(l).phase?t(l).phase:"manual"),1),e("span",zn,d(t(l).roles?.length||0)+" devices",1)])])):f("",!0),t(a).hasCo2Sensor?(n(),K(C,{key:1,title:"CO2",value:t(a).current?.co2,unit:"ppm"},null,8,["value"])):f("",!0),L(j)])):(n(),o(R,{key:1},[e("div",Xn,[L(C,{title:"Temperature",value:t(a).current?.temp,unit:"C",status:t(a).temperatureStatus,"day-stats":t(O),"night-stats":t(V)},null,8,["value","status","day-stats","night-stats"]),L(C,{title:"Humidity",value:t(a).current?.humi,unit:"%",status:t(a).humidityStatus,"day-stats":t(F),"night-stats":t(W)},null,8,["value","status","day-stats","night-stats"]),L(C,{title:"Air VPD",value:t(a).current?.vpd,unit:"kPa",status:t(a).vpdStatus,decimals:2,"day-stats":t(I),"night-stats":t(B)},null,8,["value","status","day-stats","night-stats"]),L(C,{title:"Leaf VPD",value:t(tt),unit:"kPa",status:t(et),decimals:2,"day-stats":t(it),"night-stats":t(rt)},null,8,["value","status","day-stats","night-stats"]),t(l)?.enabled&&t(l).targetMin>0?(n(),o("div",Un,[e("div",qn,[i[3]||(i[3]=e("span",{class:"text-[9px] text-teal-400 font-semibold uppercase tracking-wider"},"VPD Control",-1)),e("span",Kn,d(t(l).targetMin)+"-"+d(t(l).targetMax)+" kPa",1)]),e("div",Yn,[e("div",{class:"absolute h-full bg-gradient-to-r from-teal-600/60 to-teal-500/40 rounded-full",style:Z({left:`${t(l).targetMin/2.5*100}%`,width:`${(t(l).targetMax-t(l).targetMin)/2.5*100}%`})},null,4),t(a).current?.vpd?(n(),o("div",{key:0,class:S(["absolute h-full w-1.5 rounded-full -translate-x-1/2 shadow-lg",t(a).current.vpd>=t(l).targetMin&&t(a).current.vpd<=t(l).targetMax?"bg-teal-400 shadow-teal-400/50":"bg-red-400 shadow-red-400/50"]),style:Z({left:`${Math.min(t(a).current.vpd/2.5*100,100)}%`})},null,6)):f("",!0)]),e("div",Zn,[e("span",Qn,d(t(l).mode==="grow_phase"&&t(l).phase?t(l).phase:"manual"),1),e("span",Gn,d(t(l).roles?.length||0)+" devices",1)])])):f("",!0),t(a).hasCo2Sensor?(n(),K(C,{key:1,title:"CO2",value:t(a).current?.co2,unit:"ppm"},null,8,["value"])):f("",!0)]),e("div",Jn,[L(j,{stacked:""})])],64)),e("div",{class:S([t(_)?"lg:col-span-6":"lg:col-span-8","col-span-12 rounded-2xl bg-gradient-to-br from-gray-800/60 to-gray-900/60 backdrop-blur-md border border-gray-700/50 p-3 sm:p-4 flex flex-col overflow-hidden relative"])},[i[9]||(i[9]=e("div",{class:"absolute -top-6 -left-6 w-24 h-24 rounded-full blur-2xl pointer-events-none bg-yellow-500/30"},null,-1)),t(_)?(n(),o(R,{key:0},[e("h2",ta,[e("div",ea,[L(t(gt),{class:"w-4 h-4 text-yellow-400"})]),i[4]||(i[4]=st(" Sockets ",-1))]),t(u).loading?(n(),o("div",sa,[...i[5]||(i[5]=[e("div",{class:"animate-pulse"},"Loading...",-1)])])):Object.keys(t(u).states).length===0?(n(),o("div",na," No socket data available ")):(n(),o("div",aa,[(n(!0),o(R,null,U(t(N),(H,A)=>(n(),K(D,{key:A,socket:parseInt(A.replace("O","")),state:H,onToggle:nt=>t(u).toggleSocket(A)},null,8,["socket","state","onToggle"]))),128))]))],64)):f("",!0),e("div",{class:S([t(_)?"mt-4 border-t border-gray-700/50 pt-4":"","flex-1 min-h-0 flex gap-4"])},[e("div",oa,[e("h3",ia,[e("div",ra,[L(t(qt),{class:"w-4 h-4 text-yellow-400"})]),i[6]||(i[6]=st(" Lights ",-1))]),t(x).loading?(n(),o("div",la," Loading... ")):Object.keys(t(x).states).length===0?(n(),o("div",da," No light data ")):(n(),o("div",ca,[(n(!0),o(R,null,U(t(M),(H,A)=>(n(),K(X,{key:A,title:A==="light"?"Light 1":"Light 2","light-id":A,state:H,class:"flex-1 min-w-[140px]",onToggle:nt=>t(x).toggleLight(A)},null,8,["title","light-id","state","onToggle"]))),128))])),t(y).loaded?(n(),o("div",ua,[t(y).on?(n(),o("div",ma)):f("",!0),e("div",ga,[e("div",xa,[(n(),o("svg",{class:S(["w-10 h-10 transition-all duration-300",t(y).on?"text-cyan-400 blower-spin":"text-gray-500"]),viewBox:"0 0 512 512",fill:"currentColor"},[...i[7]||(i[7]=[e("path",{d:"M258.6 0c-1.7 0-3.4 .1-5.1 .5C168 17 115.6 102.3 130.5 189.3c2.9 17 8.4 32.9 15.9 47.4L32 224H29.4C13.2 224 0 237.2 0 253.4c0 1.7 .1 3.4 .5 5.1C17 344 102.3 396.4 189.3 381.5c17-2.9 32.9-8.4 47.4-15.9L224 480v2.6c0 16.2 13.2 29.4 29.4 29.4c1.7 0 3.4-.1 5.1-.5C344 495 396.4 409.7 381.5 322.7c-2.9-17-8.4-32.9-15.9-47.4L480 288h2.6c16.2 0 29.4-13.2 29.4-29.4c0-1.7-.1-3.4-.5-5.1C495 168 409.7 115.6 322.7 130.5c-17 2.9-32.9 8.4-47.4 15.9L288 32V29.4C288 13.2 274.8 0 258.6 0zM256 224a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"},null,-1)])],2))]),e("div",pa,[e("div",ha,[i[8]||(i[8]=e("span",{class:"text-sm font-semibold text-white"},"Blower",-1)),e("span",{class:S(["px-1.5 py-0.5 rounded text-[9px] font-bold uppercase tracking-wide",t(y).on?"bg-cyan-500/20 text-cyan-400":"bg-gray-700/50 text-gray-500"])},d(t(y).on?"ON":"OFF"),3),t(y).on&&t(y).closeCO2?(n(),o("span",fa," CO2 Closed ")):f("",!0),e("span",{class:S(["ml-auto text-sm font-semibold",t(y).on?"text-yellow-400":"text-gray-600"])},d(t(lt))+"W ",3)]),e("div",va,[e("div",ya,[e("div",{class:S(["h-full rounded-full transition-all duration-500",t(y).on?"bg-gradient-to-r from-cyan-500 to-cyan-400":"bg-gray-600"]),style:Z({width:`${t(y).on?t(y).level:0}%`})},null,6)]),e("span",{class:S(["text-sm font-bold w-12 text-right",t(y).on?"text-cyan-400":"text-gray-500"])},d(t(y).on?`${t(y).level}%`:"0%"),3)])])])])):f("",!0)]),e("div",ba,[L(dt)])],2)],2),t(_)?(n(),o("div",wa,[e("div",_a,[i[11]||(i[11]=Ft('<div class="absolute -top-6 -left-6 w-24 h-24 rounded-full blur-2xl pointer-events-none bg-purple-500/30" data-v-48a21929></div><h2 class="text-sm font-semibold text-white mb-3 flex items-center gap-2 relative" data-v-48a21929><div class="w-6 h-6 rounded-lg bg-gradient-to-br from-purple-500/30 to-indigo-600/20 flex items-center justify-center" data-v-48a21929><svg class="w-3 h-3 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-48a21929><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-48a21929></path></svg></div> Event Log </h2>',2)),e("div",$a,[t(u).log.length===0?(n(),o("div",ka,[...i[10]||(i[10]=[e("div",{class:"w-10 h-10 mx-auto mb-2 rounded-xl bg-gray-800/50 flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1),e("p",{class:"text-xs"},"No events",-1)])])):f("",!0),e("div",{class:S([t($)?"flex-1 overflow-y-auto scrollbar-thin":"","space-y-1 text-[10px] sm:text-[11px]"])},[(n(!0),o(R,null,U(t(h),(H,A)=>(n(),o("div",{key:A,class:"py-1.5 rounded-lg hover:bg-gray-800/40 transition-colors"},[e("div",Sa,[e("span",{class:S(["shrink-0 px-1.5 py-0.5 rounded text-[9px] font-bold uppercase",H.action==="on"?"text-spider-green-400 bg-spider-green-400/10":"text-red-400 bg-red-400/10"])},d(H.action==="on"?"ON":"OFF"),3),e("span",Ca,d(t(E)(H.socket,"short")),1),e("span",Ma,d(k(H.timestamp)),1)]),H.source==="trigger"?(n(),o("div",Da,[e("span",Ta,d(H.flowName||"trigger"),1)])):f("",!0)]))),128))],2),t(u).log.length>ct&&!t($)?(n(),o("button",{key:1,onClick:i[0]||(i[0]=H=>$.value=!0),class:"mt-2 text-[10px] text-gray-500 hover:text-purple-400 transition-colors text-center py-1"}," Ver mÃ¡s ("+d(t(u).log.length-ct)+" eventos) ",1)):f("",!0),t($)&&t(u).log.length>ct?(n(),o("button",{key:2,onClick:i[1]||(i[1]=H=>$.value=!1),class:"mt-2 text-[10px] text-gray-500 hover:text-purple-400 transition-colors text-center py-1 shrink-0"}," Ver menos ")):f("",!0)])])])):f("",!0),e("div",Oa,[e("div",ja,[L(dt)])])]),L(q)])}}}),Ya=Zt(Ea,[["__scopeId","data-v-48a21929"]]);export{Ya as default};
